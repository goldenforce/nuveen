insert into ft_o_uimc (uimc_oid, tabs_nme, tabs_titl_txt, page_nme, page_titl_txt, bus_entity_nme, link_nme, tabs_desc, tabs_properties_clob, last_chg_tms, last_chg_usr_id, prnt_uimc_oid, config_typ, order_attr_num) select 'UIMCNRE001' as uimc_oid, NULL as tabs_nme, NULL as tabs_titl_txt, NULL as page_nme, NULL as page_titl_txt, NULL as bus_entity_nme, 'Property Exception' as link_nme, NULL as tabs_desc, '{"HAS_EDIT_LINK":false,"HAS_NEW_LINK":false,"DESCRIPTION":"Custom screen to view and manage Property Exception.","LOAD_RESULTS_ON_START":true,"BUSINESS_ENTITY":"PropertyException","PROMPT":"Property Exception","SPLIT_SCREEN":"","SHOW_QUALITY":false}' as tabs_properties_clob, SYSDATE() as last_chg_tms, 'NRE:CSTM' as last_chg_usr_id, (select uimc_oid from ft_o_uimc where link_nme = 'Exception Management' and config_typ = 'PAGE' and last_chg_usr_id = 'CLIENT') as prnt_uimc_oid, 'MENU' as config_typ, '4' as order_attr_num on conflict(uimc_oid) where (link_nme = 'Property Exception' and config_typ = 'MENU') do update set uimc_oid = EXCLUDED.uimc_oid, tabs_nme = EXCLUDED.tabs_nme, tabs_titl_txt = EXCLUDED.tabs_titl_txt, page_nme = EXCLUDED.page_nme, page_titl_txt = EXCLUDED.page_titl_txt, bus_entity_nme = EXCLUDED.bus_entity_nme, link_nme = EXCLUDED.link_nme, tabs_desc = EXCLUDED.tabs_desc, tabs_properties_clob = EXCLUDED.tabs_properties_clob, last_chg_tms = EXCLUDED.last_chg_tms, last_chg_usr_id = EXCLUDED.last_chg_usr_id, prnt_uimc_oid = EXCLUDED.prnt_uimc_oid, config_typ = EXCLUDED.config_typ, order_attr_num = EXCLUDED.order_attr_num;

INSERT INTO ft_o_uimc
(uimc_oid, tabs_nme, tabs_titl_txt, page_nme, page_titl_txt, bus_entity_nme, link_nme, tabs_desc, tabs_properties_clob, last_chg_tms, last_chg_usr_id, prnt_uimc_oid, config_typ, order_attr_num)
Select '&WD1918F81', NULL, NULL, NULL, NULL, NULL, 'Credit', NULL, '{"HAS_EDIT_LINK":false,"FILTER":"{\"joinOperator\":\"AND\",\"allSubCriterions\":[{\"criterianField\":\"NuveenCredit.FinancialInstitutionDetails.InstitutionType\",\"operator\":\"IN\",\"caseSensitive\":true,\"values\":[\"CREDIT\"]}]}","HAS_NEW_LINK":false,"DESCRIPTION":"","LOAD_RESULTS_ON_START":true,"BUSINESS_ENTITY":"NuveenCredit","PROMPT":"","SPLIT_SCREEN":"","SHOW_QUALITY":false}', '2024-03-11 03:25:10.000', 'CLIENT', 'FS5/31$7O1', 'MENU', 6
from Dual where not exists (select 1 from ft_o_uimc where link_nme = 'Credit');
