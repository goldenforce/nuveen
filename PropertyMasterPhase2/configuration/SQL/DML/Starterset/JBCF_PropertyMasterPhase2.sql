INSERT INTO ft_m_jbcf
(jbcf_oid, job_name, job_desc, job_typ, job_run_day, job_start_time, job_end_time, job_run_freq, exp_run_dur, last_chg_tms, start_tms, end_tms, in_query, pub_query, val_query, result_column, to_mail, info_mail, task_start_check, multi_check, holiday_check, range_check)
select 'NREJBCF002', 'NRE_Rapid_EMEA_FileDownload', 'RAPID_GS_EMEA_EXTRACT_*.csv DataLoad', 'Fileload', 'MON,TUE,WED,THU,FRI,SAT,SUN', '19:30', '20:30', '1', 60, sysdate(), sysdate(), NULL, 'select max(job_id) as job_id, case when count(*) > 0 then reverse(split_part(reverse(max(job_input_txt)), ''/'', ''1'')) || '' is Loaded OK'' else ''RAPID_GS_EMEA_EXTRACT_*.csv is not yet Loaded KO'' end as result from ft_t_jblg where job_input_txt ~ ''/RAPID_GS_EMEA_EXTRACT_[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9].csv'' and job_stat_typ = ''CLOSED'' and job_config_txt is null and job_start_tms::date = sysdate()::date', NULL, NULL, 'RESULT', 'gsodmonitoring@thegoldensource.com', 'ODAlerts@thegoldensource.com,SAsthana@thegoldensource.com,sparmar@thegoldensource.com,aborse@thegoldensource.com,yraut@thegoldensource.com', 'N', 'N', 'N', 'N'
from dual where not exists (select 'x' from ft_m_jbcf where job_name = 'NRE_Rapid_EMEA_FileDownload');