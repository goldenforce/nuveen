<?xml version="1.0" encoding="UTF-8"?>

<MappingDef type="MSF" version="1.0">
  <Options>
    <Option key="MappingComment"/>
    <Option key="MappingVersion">8.99.39.0</Option>
    <Option key="MappingAuthor"/>
    <Option key="MessageTranslatorVersion">8.1.1.1</Option>
    <Option key="RCode"/>
    <Option key="LastChangedTms">2024-09-30 at 06:05:33 EDT</Option>
    <Option key="MappingDesignerVersion">8.8.1.11</Option>
  </Options>
  <Input vendorType="XML">
    <Options>
      <Option key="DecimalSeparator">.</Option>
      <Option key="DDLName"/>
      <Option key="TrimFields">BOTH</Option>
      <Option key="RaiseLayoutWarnings">FALSE</Option>
      <Option key="NullIdentifiers"/>
      <Option key="NotEntitledIndicator"/>
      <Option key="TimeStampFormat">%Y%M%D%H%I%S.%f</Option>
      <Option key="MessageType"/>
      <Option key="DateTimeFormat">%Y%M%D%H%I%S</Option>
    </Options>
    <VendorDef name="Import">
      <record desc="" ident="Instrument_Roots" mandatory="false" mapable="true" multiple="true" name="Instrument_Roots">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="@file_type" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="file_type" pattern="" pos="0" readonly="false" type="String"/>
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="@frequency" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="frequency" pattern="" pos="0" readonly="false" type="String"/>
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="@generation_time" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="generation_time" pattern="" pos="0" readonly="false" type="String"/>
        <record desc="" ident="Instrument_Root" mandatory="false" mapable="true" multiple="true" name="Instrument_Root">
          <record desc="" ident="Instrument_Identifiers" mandatory="false" mapable="true" multiple="true" name="Instrument_Identifiers">
            <record desc="" ident="Instrument_Identifier" mandatory="false" mapable="true" multiple="true" name="Instrument_Identifier">
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="ID_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="ID_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="ID_Type_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ID_Type_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID_Value" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID_Value" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID1" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID1" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Deal_number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Deal_number" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Class_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Class_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Class_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Class_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Class_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Class_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Dated_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Dated_Date" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="ISO_Currency_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="ISO_Currency_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Currency_Multiple_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Currency_Multiple_Indicator" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Maturity_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Maturity_Date" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Maturity_Year" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Maturity_Year" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Sale_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Sale_Date" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Face_Amount_USD" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Face_Amount_USD" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Credit_Linked_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Credit_Linked_Indicator" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Takedown_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Takedown_Indicator" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Security_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Security_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Private_Placement_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Private_Placement_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Private_Placement_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Private_Placement_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Type_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Type_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Frequency_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Frequency_Code" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Frequency_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Frequency_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Frequency_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Frequency_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Coupon_Rate" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Coupon_Rate" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Product_Line_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Product_Line_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Series_Class_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Series_Class_Text" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Market_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Market_Description" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Face_Amount" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Face_Amount" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Secondary_Market_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Secondary_Market_Indicator" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Defeased_Refunded_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Defeased_Refunded_Indicator" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Structured_Finance_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Structured_Finance_Indicator" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Private_Placement_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Private_Placement_Number" pattern="" pos="0" readonly="false" type="String"/>
              <field decimals="0" desc="" excludedNullIdentifiers="" ident="Structured_Finance_Sequence_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Structured_Finance_Sequence_Number" pattern="" pos="0" readonly="false" type="String"/>
              <record desc="" ident="Instrument_Attributes" mandatory="false" mapable="true" multiple="true" name="Instrument_Attributes">
                <record desc="" ident="Instrument_Attribute" mandatory="false" mapable="true" multiple="true" name="Instrument_Attribute">
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Effective_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Effective_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Text" pattern="" pos="0" readonly="false" type="String"/>
                </record>
              </record>
              <record desc="" ident="Instrument_Organizations" mandatory="false" mapable="true" multiple="true" name="Instrument_Organizations">
                <record desc="" ident="Instrument_Organization" mandatory="false" mapable="true" multiple="true" name="Instrument_Organization">
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Moodys_Legal_Name" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Moodys_Legal_Name" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_Role_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_Role_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_Role_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_Role_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Effective_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Effective_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                </record>
              </record>
              <record desc="" ident="Instrument_Markets" mandatory="false" mapable="true" multiple="true" name="Instrument_Markets">
                <record desc="" ident="Instrument_Market" mandatory="false" mapable="true" multiple="true" name="Instrument_Market">
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Domain_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Domain_Number" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Domain_Name" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Domain_Name" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Effective_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Effective_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                </record>
              </record>
              <record desc="" ident="Instrument_Supports" mandatory="false" mapable="true" multiple="true" name="Instrument_Supports">
                <record desc="" ident="Instrument_Support" mandatory="false" mapable="true" multiple="true" name="Instrument_Support">
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Support_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Support_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Moodys_Legal_Name" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Moodys_Legal_Name" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_Role_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_Role_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Number" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Effective_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Effective_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Support_Effective_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Support_Effective_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Support_Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Support_Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_Role_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_Role_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Support_Type" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Support_Type" pattern="" pos="0" readonly="false" type="String"/>
                </record>
              </record>
              <record desc="" ident="Instrument_Ratings" mandatory="false" mapable="true" multiple="true" name="Instrument_Ratings">
                <record desc="" ident="Instrument_Rating" mandatory="false" mapable="true" multiple="true" name="Instrument_Rating">
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="@action" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="action" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Number" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Moodys_Rating_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Moodys_Rating_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Level" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Level" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Security_Class_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Security_Class_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Security_Class_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Security_Class_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Security_Class_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Security_Class_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Duration_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Duration_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Duration_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Duration_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Duration_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Duration_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Seniority_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Seniority_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Seniority_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Seniority_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Seniority_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Seniority_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Evaluation_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Evaluation_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Evaluation_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Evaluation_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Shadow_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Shadow_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Shadow_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Shadow_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Shadow_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Shadow_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Subclass_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Subclass_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Subclass_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Subclass_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Currency_Capd_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Currency_Capd_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Currency_Capd_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Currency_Capd_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Rank" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Rank" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Direction_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Direction_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Direction_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Direction_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Direction_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Direction_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Type_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Type_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Enhancement_Level" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Enhancement_Level" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Local_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Local_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Termination_Local_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Termination_Local_Date" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Reason_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Reason_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Reason_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Reason_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Currency_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Currency_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Currency_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Currency_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Currency_ISO_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Currency_ISO_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Monitor_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Monitor_Indicator" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Office_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Office_ID" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Shelf_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Shelf_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Shelf_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Shelf_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Shelf_Type_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Shelf_Type_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                  <field decimals="0" desc="" excludedNullIdentifiers="" ident="Initial_Rating_Indicator" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Initial_Rating_Indicator" pattern="" pos="0" readonly="false" type="String"/>
                  <record desc="" ident="Instrument_Watchlist" mandatory="false" mapable="true" multiple="false" name="Instrument_Watchlist">
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="@action" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="action" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Number" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Date" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_ID" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Moodys_Legal_Name" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Moodys_Legal_Name" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Moodys_Rating_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Moodys_Rating_ID" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Text" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Direction_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Direction_Code" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Direction_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Direction_Text" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Direction_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Direction_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Termination_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Termination_Code" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Termination_Txt" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Termination_Txt" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Termination_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Termination_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_Role_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_Role_Code" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Organization_Role_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Organization_Role_Text" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Type_Short_Description" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Type_Short_Description" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Date" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Local_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Local_Date" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Local_Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Local_Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                    <field decimals="0" desc="" excludedNullIdentifiers="" ident="Watchlist_Office_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Watchlist_Office_ID" pattern="" pos="0" readonly="false" type="String"/>
                  </record>
                  <record desc="" ident="Instrument_Rating_Attributes" mandatory="false" mapable="true" multiple="true" name="Instrument_Rating_Attributes">
                    <record desc="" ident="Instrument_Rating_Attribute" mandatory="false" mapable="true" multiple="true" name="Instrument_Rating_Attribute">
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="@action" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="action" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Instrument_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Instrument_ID" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Type_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Type_Code" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Type_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Type_Text" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Class_Number" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Class_Number" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Moodys_Rating_ID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Moodys_Rating_ID" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Effective_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Effective_Date" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Termination_Date" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Termination_Date" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Code" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Code" pattern="" pos="0" readonly="false" type="String"/>
                      <field decimals="0" desc="" excludedNullIdentifiers="" ident="Rating_Attribute_Text" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="Rating_Attribute_Text" pattern="" pos="0" readonly="false" type="String"/>
                    </record>
                  </record>
                </record>
              </record>
            </record>
          </record>
        </record>
      </record>
    </VendorDef>
    <Layout>
      <Override/>
      <record ref="Import"/>
    </Layout>
  </Input>
  <Output>
    <Options>
      <Option key="TimeStampOutputFormat">%M-%D-%Y %H:%I:%S.%f %A</Option>
      <Option key="DateTimeOutputFormat">%M-%D-%Y %H:%I:%S %A</Option>
      <Option key="OutputEncoding">UTF-8</Option>
      <Option key="DefaultEmptyNumericsToZero">FALSE</Option>
      <Option key="AddTZIndicators">true</Option>
      <Option key="AddVendorMnemonic">true</Option>
    </Options>
    <MappingFragments/>
    <OutputDef>
      <Block>
        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier">
          <comment><![CDATA[RTG_COMM: Added a Execute Block to collect all the identifier types in a variable and discover if CUSIP is to be derived from the ISIN.]]></comment>
          <Do>
            <Execute>
              <expr><![CDATA[return StoreString("ID", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description);]]></expr>
            </Execute>
            <Execute>
              <expr><![CDATA[return StoreString("ID-ALL", Strcat(GetStringByKey("ID"), Strcat(";", GetStringByKey("ID-ALL"))));]]></expr>
            </Execute>
          </Do>
        </ForEach>
      </Block>
      <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier">
        <comment><![CDATA[RTG_COMM: The data element layout provided by the vendor has been modified. On using the layout as is, it was not possible to associate and loop through the rating details of each identifer as the <Instr_Rating> element is on the same level as the <Identifier>.
For each Instrument, all the details are placed within each incoming identifier data element.]]></comment>
        <where><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6");]]></where>
        <Do>
          <If>
            <comment><![CDATA[GT 125469 : Condition extended to include IS5 and IS6 checks]]></comment>
            <expr><![CDATA[return ((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6");]]></expr>
            <Then>
              <Block>
                <Execute>
                  <comment><![CDATA[RTG_COMM: If incoming data has identifiers of type ISIN or CUSIP, only then all the data is processed.]]></comment>
                  <expr><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6"))
	return StoreString("ISIDValue", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value);
else
	return "";]]></expr>
                </Execute>
                <Execute>
                  <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
                </Execute>
                <Execute>
                  <expr><![CDATA[return StoreString("DER_US_CUSIP", "");]]></expr>
                </Execute>
                <Execute>
                  <comment><![CDATA[GT 147627
Removed check of CUP]]></comment>
                  <expr><![CDATA[return StoreString("CHECK_ISIN", If((((!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5"), CatchError(CheckIdentifier("ISIN", GetStringByKey("ISIDValue")), "INVALID"), ""));]]></expr>
                </Execute>
                <Execute>
                  <comment><![CDATA[GT 147627
Removed check of CUP]]></comment>
                  <expr><![CDATA[if ((((!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5"))
	if (((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3))
		return StoreString("DER_US_CUSIP", CatchError(CheckIdentifier("CUSIP", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9)), "INVALID"));
	else
		return "";
else
	return "";]]></expr>
                </Execute>
                <Execute>
                  <expr><![CDATA[if ((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6")) && ((OneHasValue(GetStringByKey("CHECK_ISIN")) && Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || (OneHasValue(GetStringByKey("DER_US_CUSIP")) && Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID"))))
	return ThrowMapErrorAndContinue(Strcat(GetStringByKey("ISIDValue"), "- ISIN Identifier sent in the file is INVALID and processing of this message was ignored."), "DATA_ERROR: ");
else
	return "";]]></expr>
                </Execute>
              </Block>
              <ForEach displayName="FINS" recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                <comment><![CDATA[RTG_COMM: Creation of Financial Institution, Identifier and Role for role types other than issuer are setup with this mapping. As the Role Types for each Organization are provided in the Insrtument Data Layout and not in Organization Data Layout.]]></comment>
                <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></sort>
                <Do>
                  <Node displayName="FINS" messageformat="GSREF" name="STREET_REF" type="message">
                    <Options>
                      <Option key="OutputEncoding"/>
                      <Option key="AddTZIndicators">true</Option>
                      <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                      <Option key="DocType">STREET_REF</Option>
                    </Options>
                    <comment><![CDATA[RTG_COMM: Street-Ref for setting up the Roles.]]></comment>
                    <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "STREET_REF-FINS";
else
	return "";]]></condition>
                    <Node name="USERID" type="attribute">
                      <expr><![CDATA[return "GUEST";]]></expr>
                    </Node>
                    <Node name="TRACE" type="attribute">
                      <expr><![CDATA[return "false";]]></expr>
                    </Node>
                    <Node name="TRANSACTIONCODE" type="attribute"/>
                    <Node name="EVENT" type="attribute"/>
                    <Node name="MSGSET" type="attribute"/>
                    <Node name="MESSAGECONDITION" type="attribute">
                      <expr><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "STREET_REF-FINS";
else
	return "";]]></expr>
                    </Node>
                    <Node name="HEADER" type="element">
                      <Node name="ASOFDATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ATTRLOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CHECKLASTDBUPDATE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CHGAPPRTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CNTRYCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CURRENTTIMESTAMP" type="element">
                        <expr><![CDATA[return TimeStamp();]]></expr>
                      </Node>
                      <Node name="DATAID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAIDCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASOURCE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DONOTPOST" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EMPLOYEE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ISSUEACTIONREPLACE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUELOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUERDERIVATIONMODE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LOCALE" type="element">
                        <Node name="NLS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TIMEZONE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAIN_ENTITY_NME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "FINS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MERGEMESSAGE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGCLASSIFICATION" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="PUBLISH" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALMSG" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REFDATA" type="element"/>
                      <Node name="REFERRINGPAGE" type="element"/>
                      <Node name="ROLLBACKONSEGMENTERROR" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECURITYLABEL" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRANSLATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRILLIUM" type="element">
                        <Node name="FORCENEWENTITY" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLEID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLETYPE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="USERID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="VENDORRECORDID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VENDORTYPE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VTTRMSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="FinancialInstitution" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewIssuer  -  Moodys_RDS_Instrument. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinancialInstitution";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                      </Node>
                      <If>
                        <comment><![CDATA[GC-41414]]></comment>
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return "TRUE";
else if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "OFF"))
	return "";
else if (!OneHasValue(Translate(Config_Options, true,
		"SimpleIssueBasedIssuerMatching", "Moodys_RDS_Instrument")))
	return "";
else if (!OneOf(
		"OFF",
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true,
					"SimpleIssueBasedIssuerMatching",
					"Moodys_RDS_Instrument"),
					Strcat("--",
							"Wrong value in Config_Option against Moodys_RDS_Instrument. It is other than permitted value ON, OFF and No value used in Config_option")),
			"");
else
	return "";]]></expr>
                        <Then>
                          <Node name="FinancialInstitutionIdentifier" type="segment">
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                            </Node>
                            <Node name="FINSID" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="FINSIDCTXTTYP" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDY";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="Issuer" type="segment">
                            <condition><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "Issuer";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "FINS_INST_MNEM";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute">
                              <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                            </Node>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "Issuer";]]></expr>
                            </Node>
                            <Node name="Issue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "FTFISSU1_ISSU_INSTRM";]]></expr>
                              </Node>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "Issue";]]></expr>
                              </Node>
                              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                                <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute"/>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "ISIN";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                                <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute"/>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "CUSIP";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="INSTRISSRID" type="element">
                                <Node name="INSERT_ONLY" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                          </Node>
                        </Then>
                      </If>
                      <Node name="ACQBYPRNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BALSHEETCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BUSINESSSTARTYRTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BUSINESSSTRUCTURETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMRCLREGISTDELETEDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMRCLREGISTENTRYDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COMPANYMATCHID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSREFID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DELETEREASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISSOLUTIONDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSDIASCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSGLBLULTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSHIERCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ELECADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FISCALYRENDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FUNDSRCETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTAGENCYFILINGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IMPORTEXPORTAGENTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCORPORATIONDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCORPORATIONPLACETXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTCATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTDESC" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INSTFOUNDINGDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTLEGALFORMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTLEGALNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTNME" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="INSTSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEILEGALFORMTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILDLVBLTYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="OBLIGORCLVALUE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGORSUBGRPCLSFOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINSID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINSIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFISSCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUBLICCORPIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECFORM15IND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="SUBSIDIARYIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="FinancialInstitutionIdentifier" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIIDOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="FINSIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="GUCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GUID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GUTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSYMBOLSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSYMBOLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTUSAGETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MERGEUNIQOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="FINSFinancialInstitutionRole" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "FINSFinancialInstitutionRole";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FINSFinancialInstitutionRole";]]></expr>
                      </Node>
                      <Node name="ACTSPYNGAGNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="AUTHUKINTERMEDIARYIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLAIMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLIENTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLIENTSRVCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONTCTOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSREFID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DAYSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DFLTCORRBNKIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DLVPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ELECADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDBUSDYTME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLCONTCTTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSUBTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="GLOBALDATAPROVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGFMTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOFIXSETTLEDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFISSCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFSETTLETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINREGJURISID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="QICAPACITYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RCPTPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SROJURISEFFDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTBUSDYTME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="TRDRPTGMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VALDAYSOFNUM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="WEBPORTALIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                  </Node>
                </Do>
              </ForEach>
              <ForEach displayName="ISSR" recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                <comment><![CDATA[GC-41414]]></comment>
                <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></sort>
                <Do>
                  <Node displayName="ISSR" messageformat="GSREF" name="STREET_REF" type="message">
                    <Options>
                      <Option key="OutputEncoding"/>
                      <Option key="AddTZIndicators">true</Option>
                      <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                      <Option key="DocType">STREET_REF</Option>
                    </Options>
                    <comment><![CDATA[RTG_COMM: Street-Ref for setting up the Roles.]]></comment>
                    <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "STREET_REF-ISSR";
else
	return "";]]></condition>
                    <Node name="USERID" type="attribute">
                      <expr><![CDATA[return "GUEST";]]></expr>
                    </Node>
                    <Node name="TRACE" type="attribute">
                      <expr><![CDATA[return "false";]]></expr>
                    </Node>
                    <Node name="TRANSACTIONCODE" type="attribute"/>
                    <Node name="EVENT" type="attribute"/>
                    <Node name="MSGSET" type="attribute"/>
                    <Node name="MESSAGECONDITION" type="attribute">
                      <expr><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "STREET_REF-ISSR";
else
	return "";]]></expr>
                    </Node>
                    <Node name="HEADER" type="element">
                      <Node name="ASOFDATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ATTRLOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CHECKLASTDBUPDATE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CHGAPPRTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CNTRYCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CURRENTTIMESTAMP" type="element">
                        <expr><![CDATA[return TimeStamp();]]></expr>
                      </Node>
                      <Node name="DATAID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAIDCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASOURCE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DONOTPOST" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EMPLOYEE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ISSUEACTIONREPLACE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUELOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUERDERIVATIONMODE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LOCALE" type="element">
                        <Node name="NLS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TIMEZONE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAIN_ENTITY_NME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISSR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MERGEMESSAGE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGCLASSIFICATION" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="PUBLISH" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALMSG" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REFDATA" type="element"/>
                      <Node name="REFERRINGPAGE" type="element"/>
                      <Node name="ROLLBACKONSEGMENTERROR" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECURITYLABEL" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRANSLATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRILLIUM" type="element">
                        <Node name="FORCENEWENTITY" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLEID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLETYPE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="USERID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="VENDORRECORDID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VENDORTYPE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VTTRMSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="Issuer" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer",
		"Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateNewIssuer",
					"Moodys_RDS_Instrument"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateNewIssuer. It is other than permitted value YES, NO, No value and NO_SILENT used in Config_option.xml")),
			"");
else
	return "";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                      </Node>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "Issuer";]]></expr>
                      </Node>
                      <If>
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return "TRUE";
else if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "OFF"))
	return "";
else if (!OneHasValue(Translate(Config_Options, true,
		"SimpleIssueBasedIssuerMatching", "Moodys_RDS_Instrument")))
	return "";
else if (!OneOf(
		"OFF",
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true,
					"SimpleIssueBasedIssuerMatching",
					"Moodys_RDS_Instrument"),
					Strcat("--",
							"Wrong value in Config_Option against Moodys_RDS_Instrument. It is other than permitted value ON, OFF and No value used in Config_option")),
			"");
else
	return "";]]></expr>
                        <Then>
                          <Node name="IssuerIdentifier" type="segment">
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                            </Node>
                            <Node name="ISSRID" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="ISSRIDCTXTTYP" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDY";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="Issue" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "FTFISSU1_ISSU_INSTRM";]]></expr>
                            </Node>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "Issue";]]></expr>
                            </Node>
                            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ISIN";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="INSTRISSRID" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                        </Then>
                      </If>
                      <Node name="FinancialInstitutionIdentifier" type="segment">
                        <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INST_MNEM";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "FINS_INST_MNEM";]]></expr>
                        </Node>
                        <Node name="DUP_CHECK" type="attribute"/>
                        <Node name="ENDDATEIND" type="attribute"/>
                        <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                        <Node name="ERROR" type="attribute"/>
                        <Node name="LOOKUP" type="attribute"/>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                        </Node>
                        <Node name="ONLY" type="attribute"/>
                        <Node name="PARENT_LINK" type="attribute"/>
                        <Node name="PUBLISH" type="attribute"/>
                        <Node name="SEGPROCESSEDIND" type="attribute"/>
                        <Node name="START_TMS_MATCH" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="TSATTRIBUTE" type="attribute"/>
                        <Node name="TSOPTION" type="attribute"/>
                        <Node name="TSTOLERANCE" type="attribute"/>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                        </Node>
                        <Node name="FINSID" type="element">
                          <Node name="INSERT_ONLY" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                          </Node>
                        </Node>
                        <Node name="FINSIDCTXTTYP" type="element">
                          <Node name="INSERT_ONLY" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "MDY";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSINSTMNEM" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FISCALYRENDTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSRALPHSRCHTXT" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSRDESC" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSRNME" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MULTSHRIND" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="PREFISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="IssuerIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PARENT_LINK" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IRIDOID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSRIDCTXTTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Node>
                </Do>
              </ForEach>
              <Node displayName="ISSU-ISIN" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <comment><![CDATA[RTG_COMM: Street-Ref for setting up instrument identifiers like Moodys Debt Id, Deal No. and ISIN. Ratings for each ISIN and CUSIP will be setup up too. Bond details will be processed if present and setup in DebtChar and DebtStat segments.]]></comment>
                <condition>
                  <comment><![CDATA[RTG_COMM: If the identifiers have a ISIN & CUSIP present, CUSIP will not be processed and will be derived from the ISIN values. This is done to avoid creation of split instruments for the same security.]]></comment><![CDATA[if ((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6")) && ((OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID"))))
	return "STREET_REF-ISSU";
else
	return "";]]>
                </condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "GUEST";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="TRANSACTIONCODE" type="attribute"/>
                <Node name="EVENT" type="attribute"/>
                <Node name="MSGSET" type="attribute"/>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if ((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6")) && ((OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID"))))
	return "STREET_REF-ISSU";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="ASOFDATE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ATTRLOCK" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CALID" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CNTRYCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATAID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATAIDCTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DONOTPOST" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EMPLOYEE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="ISSUEACTIONREPLACE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUELOCK" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LOCALE" type="element">
                    <Node name="NLS" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ENU";]]></expr>
                      </Node>
                    </Node>
                    <Node name="TIMEZONE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "GMT Standard Time";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDBTNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MUNI";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MERGEMESSAGE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYSINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGSET" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MSGTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="ORGID" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="PUBLISH" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REALMSG" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REFDATA" type="element"/>
                  <Node name="REFERRINGPAGE" type="element"/>
                  <Node name="ROLLBACKONSEGMENTERROR" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECURITYLABEL" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRANSLATE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRILLIUM" type="element">
                    <Node name="FORCENEWENTITY" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRILLIUMTABLEID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRILLIUMTABLETYPE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYSINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="VENDORRECORDID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="VENDORTYPE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="VTTRMSGSET" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewSecurity  -  Moodys_RDS_Instrument. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                  </Node>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                    <Do>
                      <Execute>
                        <expr><![CDATA[return StoreString("VAL-ROLE", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code);]]></expr>
                      </Execute>
                      <Execute>
                        <expr><![CDATA[return StoreString("VAL-RLCD", Strcat(GetStringByKey("VAL-ROLE"), Strcat(";", GetStringByKey("VAL-RLCD"))));]]></expr>
                      </Execute>
                      <Node name="IssuerIdentifier" type="segment">
                        <comment><![CDATA[GT 140695]]></comment>
                        <condition><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="DUP_CHECK" type="attribute"/>
                        <Node name="ENDDATEIND" type="attribute"/>
                        <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                        <Node name="ERROR" type="attribute"/>
                        <Node name="LOOKUP" type="attribute"/>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute"/>
                        <Node name="NESTED_ERR_TXT" type="attribute"/>
                        <Node name="ONLY" type="attribute"/>
                        <Node name="PARENT_LINK" type="attribute"/>
                        <Node name="PUBLISH" type="attribute"/>
                        <Node name="SEGPROCESSEDIND" type="attribute"/>
                        <Node name="START_TMS_MATCH" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="TSATTRIBUTE" type="attribute"/>
                        <Node name="TSOPTION" type="attribute"/>
                        <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                        <Node name="TSTOLERANCE" type="attribute"/>
                        <Node name="DATASRCID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="DATASTATTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="ENDTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUCNT" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="INSTRISSRID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="IRIDOID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="ISSRID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSRIDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "MDY";]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSRUSAGETYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="LASTCHGTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="LASTCHGUSRID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="MERGEUNIQOID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="STARTTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                    </Do>
                  </ForEach>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PUBLIC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="AVREXEMPTIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="BNCHOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CLTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CNVRTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDREDISTRIBUTORID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATAREDISTRIBUTORID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DECPRECNUM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code, "Unk"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DFLTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DFLTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DISTRIBUTIONCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DLVIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DLVREASCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EISTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EUROCNVRTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GOVTSUPPIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ILLIQUIDITYIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INCBASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INDIVCERTIFIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRISSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INVSCLOSEDTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISCDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATREASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSALPHSRCHTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSOBJTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSRATETXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Dated_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Dated_Date, 1, 10), "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute">
                      <comment><![CDATA[GT-135791]]></comment>
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MUNI";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUTCQTY" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUTMEASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LIQUIDRIGHTRANKTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MANDCNVRIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPDTEEXTNTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Maturity_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Maturity_Date, 1, 10), "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MINNETWORTHBALIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MONITORRESTRICTIONCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MOSTFAVOREDLENDERIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOMVALUNITCAMT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Face_Amount))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Face_Amount;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGMATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PARTFULLPDTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PARVALUETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRCMLTPLRCRTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRCQTMETHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSDESC" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="PRINBASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRINNOTLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REPACKAGEDSECIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="RTNGMAINTPROVSIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECFORMTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECLENDINGELIGIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SERIESTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STRUCTUREDSECIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SUBSTITUTIONCLAUSEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TBAELIGTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDGRSTTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TSFRRSTIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TYPEARNFORLIFECDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXLEVIEDSRCIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="IssueIdentifier" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute"/>
                    <Node name="NESTED_ERR_TXT" type="attribute"/>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ERGONOMICSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="GLOBALUNIQIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRSYMBOLSTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISIDOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSTENORTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISSUSAGETYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LISTINGSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MERGEUNIQOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MKTOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MULTISEDOLSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="NOTTRADABLEIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ORIGDATAPROVID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ROOTSYMBOLMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SRCECURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRADERSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRDNGCURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRGTCURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="WHENISSUEDIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CUSIP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                  <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDBTNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                  <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDEALNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node name="IssueDescription" type="segment">
                  <comment><![CDATA[GC-46279]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISDE_MATCH_2";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISDEOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSDESC" type="element">
                    <comment><![CDATA[GC-46279]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <comment><![CDATA[GC-46279]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSSHRTNME" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node name="DebtInstrumentCharacteristics" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Code))
	return "DebtInstrumentCharacteristics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentCharacteristics";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="NESTED_ERR_LVL" type="attribute"/>
                      <Node name="NESTED_ERR_TXT" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PARENT_LINK" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="ACRDINPRCNGBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ACTIVITIESRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDLNOMVALUNITCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLCPNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLTRANCHEDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLTRANCHEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADVERSECHNGCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADVRFNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="AMORTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ASSETSALESRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BDCHOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BENEFITRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDISDRVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDRTRMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDSNRTYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Type_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Type_Text;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="BUSDYCONVTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLALLOCMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLBYCREDITORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLBYDEBTORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLONLYTAXREASIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPREMCMPNDFQSPTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPREMDAYBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPROVSSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CAPSECTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CHNGCNTRLREDEMPTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLRNGINSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CNVREXERDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CNVRRTETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COLLECTIVEACTIONIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COLLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONDISCCALLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONDISCPUTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COVEREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNCUMCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNSTOPALLOWEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Short_Description;
else
	return "";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CRENHCENDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCSUPPIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRLINKEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CUMVOTPRIVILEGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CVTISSRHOLDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAREDISTRIBUTORID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DEATHPUTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DEBTSRVCCASHFLOWIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DEBTSRVCCOVERAGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DFLTINFOAVAILIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISCOUNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTREARNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTRIBUTIONELIGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTROTHERCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRAWRDMPREMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRWNGCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRWNGWORDMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DTEDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUALCURRCNVCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUALCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUEBILLRCPTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ECODEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EOMDUEDTEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTSINKFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXCHANGABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXTENDBYCREDITORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXTENDBYDEBTORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FACTORTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FEEBASEDSECIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIRSTCPNPDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FORFEITCPNONCNVRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FORFEITDIVAFTCNVRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERCORRECTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INDEBTEDNESSLIMITIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INFLATIONPROTECTEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INITCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSURBACKEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTACCUMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTDEFERCUMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTDEFERRALTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERETUNQPREDOMCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSFACTORABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISUSONTHERUNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCASHFLOWIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCPNPDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALDEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALMATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LITIGATIONDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LMTGOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LOCKOUTPRDQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LOTTERYBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAKEWHOLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDRDMTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MERGERRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDFILINGDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDINPAYPDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDINPAYPDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPAYPRDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPRNPAYPDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPRNPAYPDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MMPROGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MNCALLABLECAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MNDENOMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MULTIINDEXIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MUNINOTEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NASDTRACETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEGPLEDGECLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEXTXOCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOMREDUCTPOSSIBLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OIDCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OIDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OPTRDMDEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OPTRDMTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORIGDATAPROVID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAIDINADVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PARIPASSUIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYKNOWNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PCTHOLDERDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="POISONPUTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREPAYALLOWEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PROCEEDELIGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PURCHASEFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTALLOCMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="QTPCTPARIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMCOLLCALLIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMPRCCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMSCHMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REDNMMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REOPENCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REPAYOTHERCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RESTRICTACTVYPLEDGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RESTRICTDISTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RTNGDEBTCLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RTNGPROVISIONIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SALELEASEBACKRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SBSDRYDEBTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SERIESYRTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYAPPLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKALLOCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQDYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQSPTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDEXPTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDRDMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNNELIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKIMPROVEMENTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKMAINTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPARMKTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPRCCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPRIMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKREQOPTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPECIFICCPNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STEPUPDOWNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STEPUPDOWNTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRIPBNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRIPPABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRUCTUREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SUBORDINATEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SUPERSINKIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SURVIVOROPTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SYNDICATIONTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TAXCHGCALLIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TAXPGMBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TERMSERIALBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TOTLIFEEARNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="UNSECUREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="UNSUBORDINATEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="WOPHYSCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XOSPLRDMDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDDYBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDDYMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDYRBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YLDCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNTOINTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="DebtInstrumentStatistics" type="segment">
                      <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Rate, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Code))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                      </Node>
                      <Node name="ANRETIREDCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BDSTOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BNCHOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDCSHFLOWCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALCRECRDMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLSPRDTOTREASCQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CBEYIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CBEYIELDTOWORSTCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMPNDYIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNCRTE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Rate;]]></expr>
                        </Node>
                      </Node>
                      <Node name="CPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNRATETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CREVENTOCCURREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTINRTEMRGNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTISSCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTPRDINCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAREDISTRIBUTORID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="EFFMATYTMDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EFFMATYTWDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESCROWMATDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTACCRLCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTACTRTEDIFFIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTINCPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTPRINPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXDIVCALTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXDIVDYQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FCHFLTCRYSTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIRSTPYINYRDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTBDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="HILOSPRDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INDXCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INGUARNTDPVCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTALLMENTPAYCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCPNID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTRESETTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALOPINIONNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LMTGOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEXTINRTEMRGNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOMINALYIELDCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPTLZNCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPTLZNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTESTSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTFACTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTFACTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARPUTCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARPUTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPREMCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPREMCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPUTCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPUTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTRATEFIXINGINDXNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTREFIXDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTREFUNDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINK2BASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINK2CAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSTEPCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSTEPDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OASCURVEID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGATIONPREFDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGATIONPREFIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OFFERLNKID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORIGDATAPROVID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OUTSTCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYDOWNFACTCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVCPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVFACTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVFACTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVRESETDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINGUARNTDPVCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTNOTFCNBINDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTNOTFCNWDRWLDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RATEFIXINGINDXUPDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALFIRSTPYTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMQUOTETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REVISSCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RLDBNCHMRKNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECNDCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECNDCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASCMPNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASCQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASDYBASDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPSECALCCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATSCURRCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code, "Unk"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATSEFFTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString("1900-01-01", "%Y-%M-%D");]]></expr>
                        </Node>
                      </Node>
                      <Node name="VOLUNSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDTOCALLCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNCNVRCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                      <comment><![CDATA[RTG_COMM:Process organization data for role type other than issuer.]]></comment>
                      <Do>
                        <Node name="FinsRoleIssueParticipant" type="segment">
                          <comment><![CDATA[GT - 152705
Nested FINR to be added to FRIP]]></comment>
                          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "YES") && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "FinsRoleIssueParticipant";
else if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "NO"))
	return "";
else if (!OneOf(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "YES", "NO"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option against CreateParticipant  -  Moodys_RDS_Instrument. It is other than permitted value YES and NO used in Config_Option")), "");
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "FinsRoleIssueParticipant";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="FINSFinancialInstitutionRole" type="segment">
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "FINSFinancialInstitutionRole";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "FINSFinancialInstitutionRole";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "INST_MNEM , FINSRL_TYP";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM , FINSRL_TYP";]]></expr>
                            </Node>
                            <Node name="ACTSPYNGAGNTIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="AUTHUKINTERMEDIARYIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CALID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLAIMIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLIENTRSTIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLIENTSRVCTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CONTCTOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CROSSREFID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FinancialInstitutionIdentifier" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "INST_MNEM";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INST_MNEM";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <comment><![CDATA[GT 126071:- Added Match Key FIID1_ID_CTXT_FINSID]]></comment>
                                <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments.]]></comment>
                                <expr><![CDATA[return Strcat("2|CONCTNS|NESTED|FINSIDCTXTTYP|MDY|FINSID|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, "|DATASRCID|MOODYS_RDS"));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="FIIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINSIDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDY";]]></expr>
                                </Node>
                              </Node>
                              <Node name="GUCNT" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GUID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GUTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTSYMBOLSTATTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DAYSTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DFLTCORRBNKIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DLVPAYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ELECADDRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDBUSDYTME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLCONTCTTXT" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSUBTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="GLOBALDATAPROVIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MAILADDRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MSGFMTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NOFIXSETTLEDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PAYMETHTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFFINRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFIDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFISSCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFSETTLETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRINREGJURISID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="QICAPACITYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RCPTPAYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SROJURISEFFDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTBUSDYTME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node disabled="1" name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                              <Node name="INSERT_ONLY" type="attribute"/>
                            </Node>
                            <Node name="TRDRPTGMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="VALDAYSOFNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WEBPORTALIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="COMMCRTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSHSTLDAYSCNT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Organization]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date))
		return 
		Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
			else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINSINSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRLISSPRTID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FRRLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INITMARGINCPCT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTCITYNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRLTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTROUTINGID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTSTEPRVCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISIDOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSTYPGRPOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTCQTY" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTMEASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCAMT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCPCT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCURRCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PAYRECVTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PRIMRELIND" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PRTPURPTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RELSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RELSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Organization]]></comment>
                              <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date, 1, 10), "%Y-%M-%D");
		else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date))
		return "Y";
		else
		return "";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Do>
                    </ForEach>
                  </Then>
                  <Else/>
                </If>
                <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute">
                  <Do>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5156439"))
	return StoreString("SF_IND", "SFINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5156638"))
	return StoreString("HY_IND", "HYBINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5160447"))
	return StoreString("LD_IND", "LDBINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                  </Do>
                </ForEach>
                <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating">
                  <comment><![CDATA[RTG_COMM: As per the data format, ratings for each identifier will be processed.]]></comment>
                  <sort order="ASC">
                    <comment><![CDATA[RTG_COMM: Added sort order to ascending so the latest rating gets processed last in case when timeseries is disables. For enabled, the functionality will be as usual.]]></comment><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date;]]>
                  </sort>
                  <Do>
                    <If>
                      <comment><![CDATA[RTG_COMM: For each issue, ratings, attached qualifiers, statistics, outlook and watch data is captured through each segement.]]></comment>
                      <expr><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_ID);]]></expr>
                      <Then>
                        <Block displayName="Set">
                          <Execute displayName="RatingCodeFilter">
                            <expr><![CDATA[return StoreString("RTNGCDEFLTR", If((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level) && (Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level == "UND")) && (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code) && OneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "534", "535")), Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "U"), If((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level) && (Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level == "INS")) && (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code) && OneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "534")), Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "I"), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code)));]]></expr>
                          </Execute>
                          <Execute displayName="RatingValue535NoSpaceFilter">
                            <expr><![CDATA[return StoreString("RTNGVAL535NSFLTR", If(OneHasValue(GetStringByKey("RTNGCDEFLTR")) && OneOf(GetStringByKey("RTNGCDEFLTR"), "535", "535U"), Translate(MoodysRDSETT, true, "MDY_RTVL_535_NOSPACE", If(OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), If(OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)));]]></expr>
                          </Execute>
                        </Block>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <Do>
                            <If>
                              <expr><![CDATA[return Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5156692");]]></expr>
                              <Then>
                                <Execute>
                                  <expr><![CDATA[return StoreString("WR_REASON", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text);]]></expr>
                                </Execute>
                              </Then>
                              <Else/>
                            </If>
                          </Do>
                        </ForEach>
                        <Node name="IssueRating" type="segment">
                          <comment><![CDATA[GT163062]]></comment>
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "IssueRating";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UPDATE";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRating";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute"/>
                          <Node name="COPY_TO" type="attribute"/>
                          <Node name="DUP_CHECK" type="attribute"/>
                          <Node name="ENDDATEIND" type="attribute"/>
                          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                          <Node name="ERROR" type="attribute">
                            <expr><![CDATA[return "N";]]></expr>
                          </Node>
                          <Node name="LOOKUP" type="attribute"/>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISRT_MATCH_12";]]></expr>
                          </Node>
                          <Node name="NESTED_ERR_LVL" type="attribute"/>
                          <Node name="NESTED_ERR_TXT" type="attribute"/>
                          <Node name="ONLY" type="attribute"/>
                          <Node name="PARENT_LINK" type="attribute"/>
                          <Node name="PUBLISH" type="attribute"/>
                          <Node name="SEGPROCESSEDIND" type="attribute"/>
                          <Node name="START_TMS_MATCH" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="TSATTRIBUTE" type="attribute"/>
                          <Node name="TSOPTION" type="attribute">
                            <expr><![CDATA[return "N";]]></expr>
                          </Node>
                          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                          <Node name="TSTOLERANCE" type="attribute"/>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ERVLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="MULTRTNGSALETYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NEXTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_13";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ISIN";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute">
                                <expr><![CDATA[return "N";]]></expr>
                              </Node>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="IssueIdentifier" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "ISIN";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SECNDMRKTIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_15";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ISIN";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute">
                                <expr><![CDATA[return "N";]]></expr>
                              </Node>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="IssueIdentifier" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "ISIN";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SECNDMRKTIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ISIN";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute">
                                <expr><![CDATA[return "N";]]></expr>
                              </Node>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="IssueIdentifier" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "ISIN";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGEFFTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ISIN";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute">
                                <expr><![CDATA[return "N";]]></expr>
                              </Node>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="IssueIdentifier" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "ISIN";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGEFFTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_12";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && (OneHasValue(GetStringByKey("CHECK_ISIN")) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ISIN";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3)) && (OneHasValue(GetStringByKey("DER_US_CUSIP")) && !Strcmp(GetStringByKey("DER_US_CUSIP"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute">
                                <expr><![CDATA[return "N";]]></expr>
                              </Node>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="IssueIdentifier" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID_CTXT_ID_USG";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "ISIN";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRCDE" type="element">
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Currency_ISO_Code;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGVALUEOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHEXPDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHREASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSECINSTRIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRating" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "IssueRating";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRating";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute"/>
                          <Node name="COPY_TO" type="attribute"/>
                          <Node name="DUP_CHECK" type="attribute"/>
                          <Node name="ENDDATEIND" type="attribute"/>
                          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="LOOKUP" type="attribute"/>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                          </Node>
                          <Node name="NESTED_ERR_LVL" type="attribute"/>
                          <Node name="NESTED_ERR_TXT" type="attribute"/>
                          <Node name="ONLY" type="attribute"/>
                          <Node name="PARENT_LINK" type="attribute"/>
                          <Node name="PUBLISH" type="attribute"/>
                          <Node name="SEGPROCESSEDIND" type="attribute"/>
                          <Node name="START_TMS_MATCH" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="TSATTRIBUTE" type="attribute"/>
                          <Node name="TSOPTION" type="attribute"/>
                          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                          <Node name="TSTOLERANCE" type="attribute"/>
                          <Node name="RatingValue" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "RatingValue";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                            </Node>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="RatingSetDefinition" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETMNEM" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGSETNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETTBLTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGTENORMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RANKNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGCDENUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ERVLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="MULTRTNGSALETYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NEXTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCURRCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Currency_ISO_Code;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDEBTCLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGDIRECTIONTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Text;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGID" type="element">
                            <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSNRTYTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATREASTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(GetStringByKey("WR_REASON")))
	return GetStringByKey("WR_REASON");
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Reason_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSYMBOLTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATTYP" type="element">
                            <comment><![CDATA[GT 124664]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
		if ((Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID > "0"))
			return "ACTUAL";
		else
			return "DERIVED";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGVALUEOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGEFFTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGTERMINTMS" type="element">
                            <comment><![CDATA[GT 125379]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Local_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="SECNDMRKTIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                            </Node>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return TimeStamp();]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                          <Node name="UNDERLYENHCSALETYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shadow_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shadow_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCLASSID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Number))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Number;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCLASSTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Text;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="WATCHDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHEXPDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHREASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSECINSTRIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Execute>
                          <expr><![CDATA[return StoreString("WR_REASON", "");]]></expr>
                        </Execute>
                        <Node name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if ((AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text))) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <comment><![CDATA[GC-40944]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute"/>
                          </Node>
                        </Node>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <comment><![CDATA[RTG_COMM:As per the data format provided by the vendor, looping through each qualifier-endorsement,unsolicited etc are captured.]]></comment>
                          <Do>
                            <Node displayName="Unsolicited Indicator" name="ISRTRatingQualifier" type="segment">
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && (OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_TYP_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code)) && OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute, GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Text, Strcat("-", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text));]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");
]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[	if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";
]]></expr>
                                </Node>
                              </Node>
                            </Node>
                            <Node displayName="Endorsement Indicator" name="ISRTRatingQualifier" type="segment">
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5156627")))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "EU Endorsement";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ENDORSEMENT INDICATOR";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");
]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";]]></expr>
                                </Node>
                              </Node>
                            </Node>
                            <Node displayName="UK Endorsement Indicator" name="ISRTRatingQualifier" type="segment">
                              <comment><![CDATA[GT 159594 : Added RTQL for 'UK Endorsement Indicator']]></comment>
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5170429")))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "UK Endorsement";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "UK ENDORSEMENT INDICATOR";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");
]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";]]></expr>
                                </Node>
                              </Node>
                            </Node>
                          </Do>
                        </ForEach>
                        <Node displayName="SFIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("SF_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute,GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating  for Structured Finance";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "SF INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[	if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";

]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node displayName="HYBIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("HY_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute]]></comment>
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");
]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating  for Hybrid Instruments";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "HYBRID INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node displayName="LDIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("LD_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute]]></comment>
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");
]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating with Limited Default";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "LIMITED DEFAULT INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRatingComment" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Initial_Rating_Indicator, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "IssueRatingComment";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRatingComment";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CMNTSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CMNTTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Initial_Rating_Indicator;]]></expr>
                            </Node>
                          </Node>
                          <Node name="COMMREASMNEM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "INITRTNG";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CREATEDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="CROSSREFID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GNCMOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GNCMTBLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISRT";]]></expr>
                            </Node>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LNNUM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "1";]]></expr>
                            </Node>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRatingComment" type="segment">
                          <condition>
                            <comment><![CDATA[RTG_GNCM: Extended the logic by adding Moodys_Rating_ID>0]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Office_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "IssueRatingComment";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRatingComment";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CMNTSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CMNTTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Office_ID;]]></expr>
                            </Node>
                          </Node>
                          <Node name="COMMREASMNEM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "RTNGOFFC";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CREATEDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="CROSSREFID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GNCMOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GNCMTBLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISRT";]]></expr>
                            </Node>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LNNUM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "1";]]></expr>
                            </Node>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <comment><![CDATA[RTG_COMM:Process multiple Rating Outlooks as per data format through a loop.]]></comment>
                          <Do>
                            <If>
                              <expr><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5160019");]]></expr>
                              <Then>
                                <Node displayName="Outlook" name="ISSURatingOpinions" type="segment">
                                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5160019"))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                                  <Node name="ACTION" type="attribute">
                                    <comment><![CDATA[GC-45360]]></comment>
                                    <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                                  </Node>
                                  <Node name="TYPE" type="attribute">
                                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                                  </Node>
                                  <Node name="ERROR" type="attribute">
                                    <comment><![CDATA[GC-45360]]></comment>
                                    <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                                  </Node>
                                  <Node name="RatingSetDefinition" type="segment">
                                    <Node name="ACTION" type="attribute">
                                      <expr><![CDATA[return "REFERENCE";]]></expr>
                                    </Node>
                                    <Node name="TYPE" type="attribute">
                                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                    </Node>
                                    <Node name="COPY_FROM" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="COPY_TO" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="DUP_CHECK" type="attribute"/>
                                    <Node name="ENDDATEIND" type="attribute"/>
                                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                    <Node name="ERROR" type="attribute"/>
                                    <Node name="LOOKUP" type="attribute"/>
                                    <Node name="MATCH" type="attribute">
                                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_LVL" type="attribute">
                                      <expr><![CDATA[return "ERROR";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_TXT" type="attribute">
                                      <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                    </Node>
                                    <Node name="ONLY" type="attribute"/>
                                    <Node name="PARENT_LINK" type="attribute"/>
                                    <Node name="PUBLISH" type="attribute"/>
                                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                                    <Node name="START_TMS_MATCH" type="attribute"/>
                                    <Node name="TRANSLATE" type="attribute"/>
                                    <Node name="TSATTRIBUTE" type="attribute"/>
                                    <Node name="TSOPTION" type="attribute"/>
                                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                    <Node name="TSTOLERANCE" type="attribute"/>
                                    <Node name="DATASRCID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="DATASTATTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="ENDTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="INSTMNEM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGUSRID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETCURRCDE" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETDESC" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETMNEM" type="element">
                                      <Node name="VALUE" type="attribute">
                                        <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                      </Node>
                                    </Node>
                                    <Node name="RTNGSETNME" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETTBLTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGTENORMNEM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="STARTTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                  </Node>
                                  <Node disabled="1" name="RatingValue" type="segment">
                                    <Node name="ACTION" type="attribute">
                                      <expr><![CDATA[return "REFERENCE";]]></expr>
                                    </Node>
                                    <Node name="TYPE" type="attribute">
                                      <expr><![CDATA[return "RatingValue";]]></expr>
                                    </Node>
                                    <Node name="COPY_FROM" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="COPY_TO" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="DUP_CHECK" type="attribute"/>
                                    <Node name="ENDDATEIND" type="attribute"/>
                                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                    <Node name="ERROR" type="attribute"/>
                                    <Node name="LOOKUP" type="attribute"/>
                                    <Node name="MATCH" type="attribute">
                                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_LVL" type="attribute">
                                      <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                      <expr><![CDATA[return "ERROR";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_TXT" type="attribute">
                                      <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                      <expr><![CDATA[return Strcat("1|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, "|DATASRCID|MOODYS_RDS"))));]]></expr>
                                    </Node>
                                    <Node name="ONLY" type="attribute"/>
                                    <Node name="PARENT_LINK" type="attribute"/>
                                    <Node name="PUBLISH" type="attribute"/>
                                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                                    <Node name="START_TMS_MATCH" type="attribute"/>
                                    <Node name="TRANSLATE" type="attribute"/>
                                    <Node name="TSATTRIBUTE" type="attribute"/>
                                    <Node name="TSOPTION" type="attribute"/>
                                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                    <Node name="TSTOLERANCE" type="attribute"/>
                                    <Node name="RatingSetDefinition" type="segment">
                                      <Node name="ACTION" type="attribute">
                                        <expr><![CDATA[return "REFERENCE";]]></expr>
                                      </Node>
                                      <Node name="TYPE" type="attribute">
                                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                      </Node>
                                      <Node name="COPY_FROM" type="attribute">
                                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                      </Node>
                                      <Node name="COPY_TO" type="attribute">
                                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                      </Node>
                                      <Node name="DUP_CHECK" type="attribute"/>
                                      <Node name="ENDDATEIND" type="attribute"/>
                                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                      <Node name="ERROR" type="attribute"/>
                                      <Node name="LOOKUP" type="attribute"/>
                                      <Node name="MATCH" type="attribute">
                                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                      </Node>
                                      <Node name="NESTED_ERR_LVL" type="attribute">
                                        <expr><![CDATA[return "ERROR";]]></expr>
                                      </Node>
                                      <Node name="NESTED_ERR_TXT" type="attribute">
                                        <expr><![CDATA[return Strcat("1|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                      </Node>
                                      <Node name="ONLY" type="attribute"/>
                                      <Node name="PARENT_LINK" type="attribute"/>
                                      <Node name="PUBLISH" type="attribute"/>
                                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                                      <Node name="START_TMS_MATCH" type="attribute"/>
                                      <Node name="TRANSLATE" type="attribute"/>
                                      <Node name="TSATTRIBUTE" type="attribute"/>
                                      <Node name="TSOPTION" type="attribute"/>
                                      <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                      <Node name="TSTOLERANCE" type="attribute"/>
                                      <Node name="DATASRCID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="DATASTATTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="ENDTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="INSTMNEM" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="LASTCHGTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="LASTCHGUSRID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETCURRCDE" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETDESC" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETMNEM" type="element">
                                        <Node name="VALUE" type="attribute">
                                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code;]]></expr>
                                        </Node>
                                      </Node>
                                      <Node name="RTNGSETNME" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETOID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETTBLTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGTENORMNEM" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="STARTTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                    </Node>
                                    <Node name="DATASRCID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="DATASTATTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="ENDTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGUSRID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RANKNUM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGCDE" type="element">
                                      <Node name="VALUE" type="attribute">
                                        <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text;]]></expr>
                                      </Node>
                                    </Node>
                                    <Node name="RTNGCDENUM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGDESC" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGNME" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGVALUEOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="STARTTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                  </Node>
                                  <Node name="DATASRCID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="DATASTATTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return "ACTIVE";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="ENDTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <comment><![CDATA[GC-45360]]></comment>
                                      <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="INSTMNEM" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="INSTRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="INSTRISSRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="LASTCHGTMS" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="LASTCHGUSRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTNGCURRTYP" type="element">
                                    <comment><![CDATA[RTG_RTOP: Extended the logic by not comparing the domain value 19140.]]></comment>
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                                    </Node>
                                    <Node name="TRANSLATE" type="attribute">
                                      <expr><![CDATA[return "YES";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONAGENCYNME" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTNGOPINIONEFFTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONEXPTMS" type="element">
                                    <comment><![CDATA[GT 125264]]></comment>
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONSTATTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text;
else
	return "";]]></expr>
                                    </Node>
                                    <Node name="TRANSLATE" type="attribute">
                                      <expr><![CDATA[return "YES";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONTXT" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text;]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGSETOID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTOPOID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="STARTTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return TimeStamp();]]></expr>
                                    </Node>
                                    <Node name="INSERT_ONLY" type="attribute">
                                      <expr><![CDATA[return "Y";]]></expr>
                                    </Node>
                                  </Node>
                                </Node>
                              </Then>
                              <Else/>
                            </If>
                          </Do>
                        </ForEach>
                        <Node displayName="Watch" name="ISSURatingOpinions" type="segment">
                          <comment><![CDATA[RTG_COMM: Process Watch details.]]></comment>
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Code) && OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "ISSURatingOpinions";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="RatingSetDefinition" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                            </Node>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETMNEM" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSETNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETTBLTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGTENORMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="IssueIdentifier" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueIdentifier";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute"/>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERGONOMICSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="GLOBALUNIQIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="IDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDYDBTNO";]]></expr>
                              </Node>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRSYMBOLSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISIDOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="ISSTENORTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSUSAGETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LISTINGSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MERGEUNIQOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MKTOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTISEDOLSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NOTTRADABLEIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ROOTSYMBOLMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SRCECURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRADERSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRDNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRGTCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WHENISSUEDIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="INSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRISSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_RTOP: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONAGENCYNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGOPINIONEFFTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONEXPTMS" type="element">
                            <comment><![CDATA[GT 125264]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Short_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Short_Description;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Txt;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "WATCH";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTOPOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return TimeStamp();]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Block displayName="Reset">
                          <Execute displayName="RatingCodeFilter">
                            <expr><![CDATA[return StoreString("RTNGCDEFLTR", "");]]></expr>
                          </Execute>
                          <Execute displayName="RatingValue535NoSpaceFilter">
                            <expr><![CDATA[return StoreString("RTNGVAL535NSFLTR", "");]]></expr>
                          </Execute>
                        </Block>
                      </Then>
                      <Else/>
                    </If>
                    <If>
                      <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                      <Then>
                        <Node name="IssueStatistic" type="segment">
                          <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shelf_Type_Text))
	return "IssueStatistic";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueStatistic";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute"/>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="DENOMCURRCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATCHARVALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shelf_Type_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATDEFID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "SHELFREG";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATINTVALNUM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALCAMT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                        </Node>
                        <Node name="IssueClassification" type="segment">
                          <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return "IssueClassification";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueClassification";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CLSFOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CLSFPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="IndustryClassification" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IndustryClassification";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "CLSF_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "CLSF_OID";]]></expr>
                            </Node>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "INCL_VALUE";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|MDYDBID|CLVALUE|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description, "|DATASRCID|MOODYS_RDS"));]]></expr>
                            </Node>
                            <Node name="CLVALUE" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;]]></expr>
                              </Node>
                            </Node>
                            <Node name="INDUSCLSETID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDYDBID";]]></expr>
                              </Node>
                            </Node>
                            <Node name="LEVELNUM" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "1";]]></expr>
                              </Node>
                            </Node>
                            <Node name="CLDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLSFOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLVALUE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INDUSCLSETID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LEVELNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRNTCLSFOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRNTCLVALUE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="CLVALUE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;]]></expr>
                            </Node>
                          </Node>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="EINCOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GUCNT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GUID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GUTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INDUSCLSETID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "MDYDBID";]]></expr>
                            </Node>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISIDOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSCLSFDESC" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSCLSFOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Then>
                      <Else/>
                    </If>
                  </Do>
                </ForEach>
              </Node>
            </Then>
            <Else/>
          </If>
        </Do>
      </ForEach>
      <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier">
        <comment><![CDATA[RTG_COMM: The data element layout provided by the vendor has been modified. On using the layout as is, it was not possible to associate and loop through the rating details of each identifer as the <Instr_Rating> element is on the same level as the <Identifier>.
For each Instrument, all the details are placed within each incoming identifier data element.]]></comment>
        <where>
          <comment><![CDATA[GT 147627
Removed check of CUP]]></comment><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "CUS", "CU2", "CU3", "CU4", "CU5");]]>
        </where>
        <Do>
          <If>
            <comment><![CDATA[GT 147627
Removed check of CUP]]></comment>
            <expr><![CDATA[return ((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1);]]></expr>
            <Then>
              <Block>
                <Execute>
                  <comment><![CDATA[RTG_COMM: If incoming data has identifiers of type ISIN or CUSIP, only then all the data is processed.

GT 147627
Removed check of CUP]]></comment>
                  <expr><![CDATA[if ((((((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6"))
	return StoreString("ISIDValue", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value);
else
	return "";]]></expr>
                </Execute>
                <Execute>
                  <expr><![CDATA[return StoreString("CHECK_CUS", "");]]></expr>
                </Execute>
                <Execute>
                  <expr><![CDATA[if (((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1))
	return StoreString("CHECK_CUS", CatchError(CheckIdentifier("CUSIP", GetStringByKey("ISIDValue")), "INVALID"));
else
	return "";]]></expr>
                </Execute>
                <Execute>
                  <comment><![CDATA[GT 147627
Removed check of CUP]]></comment>
                  <expr><![CDATA[if ((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "CUS", "CU2", "CU3", "CU4", "CU5")) && (OneHasValue(GetStringByKey("CHECK_CUS")) && Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return ThrowMapErrorAndContinue(Strcat(GetStringByKey("ISIDValue"), "- CUSIP Identifier sent in the file is INVALID and processing of this message was ignored."), "DATA_ERROR: ");
else
	return "";]]></expr>
                </Execute>
              </Block>
              <ForEach displayName="FINS" recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                <comment><![CDATA[RTG_COMM: Creation of Financial Institution, Identifier and Role for role types other than issuer are setup with this mapping. As the Role Types for each Organization are provided in the Insrtument Data Layout and not in Organization Data Layout.]]></comment>
                <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></sort>
                <Do>
                  <Node displayName="FINS" messageformat="GSREF" name="STREET_REF" type="message">
                    <Options>
                      <Option key="OutputEncoding"/>
                      <Option key="AddTZIndicators">true</Option>
                      <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                      <Option key="DocType">STREET_REF</Option>
                    </Options>
                    <comment><![CDATA[RTG_COMM: Street-Ref for setting up the Roles.]]></comment>
                    <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "STREET_REF-FINS";
else
	return "";]]></condition>
                    <Node name="USERID" type="attribute">
                      <expr><![CDATA[return "GUEST";]]></expr>
                    </Node>
                    <Node name="TRACE" type="attribute">
                      <expr><![CDATA[return "false";]]></expr>
                    </Node>
                    <Node name="TRANSACTIONCODE" type="attribute"/>
                    <Node name="EVENT" type="attribute"/>
                    <Node name="MSGSET" type="attribute"/>
                    <Node name="MESSAGECONDITION" type="attribute">
                      <expr><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "STREET_REF-FINS";
else
	return "";]]></expr>
                    </Node>
                    <Node name="HEADER" type="element">
                      <Node name="ASOFDATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ATTRLOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CHECKLASTDBUPDATE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CHGAPPRTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CNTRYCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CURRENTTIMESTAMP" type="element">
                        <expr><![CDATA[return TimeStamp();]]></expr>
                      </Node>
                      <Node name="DATAID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAIDCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASOURCE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DONOTPOST" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EMPLOYEE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ISSUEACTIONREPLACE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUELOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUERDERIVATIONMODE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LOCALE" type="element">
                        <Node name="NLS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TIMEZONE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAIN_ENTITY_NME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "FINS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MERGEMESSAGE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGCLASSIFICATION" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="PUBLISH" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALMSG" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REFDATA" type="element"/>
                      <Node name="REFERRINGPAGE" type="element"/>
                      <Node name="ROLLBACKONSEGMENTERROR" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECURITYLABEL" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRANSLATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRILLIUM" type="element">
                        <Node name="FORCENEWENTITY" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLEID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLETYPE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="USERID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="VENDORRECORDID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VENDORTYPE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VTTRMSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="FinancialInstitution" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewIssuer  -  Moodys_RDS_Instrument. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinancialInstitution";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                      </Node>
                      <If>
                        <comment><![CDATA[GC-41414]]></comment>
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return "TRUE";
else if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "OFF"))
	return "";
else if (!OneHasValue(Translate(Config_Options, true,
		"SimpleIssueBasedIssuerMatching", "Moodys_RDS_Instrument")))
	return "";
else if (!OneOf(
		"OFF",
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true,
					"SimpleIssueBasedIssuerMatching",
					"Moodys_RDS_Instrument"),
					Strcat("--",
							"Wrong value in Config_Option against Moodys_RDS_Instrument. It is other than permitted value ON, OFF and No value used in Config_option")),
			"");
else
	return "";]]></expr>
                        <Then>
                          <Node name="FinancialInstitutionIdentifier" type="segment">
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                            </Node>
                            <Node name="FINSID" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="FINSIDCTXTTYP" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDY";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="Issuer" type="segment">
                            <condition><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "Issuer";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "FINS_INST_MNEM";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute">
                              <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                            </Node>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "Issuer";]]></expr>
                            </Node>
                            <Node name="Issue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "FTFISSU1_ISSU_INSTRM";]]></expr>
                              </Node>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "Issue";]]></expr>
                              </Node>
                              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                                <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute"/>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute"/>
                                <Node name="NESTED_ERR_TXT" type="attribute"/>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ERGONOMICSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="GLOBALUNIQIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="IDCTXTTYP" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return "CUSIP";]]></expr>
                                  </Node>
                                </Node>
                                <Node name="INSTRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTRSYMBOLSTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISIDOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSID" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="ISSTENORTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ISSUSAGETYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LISTINGSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MERGEUNIQOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MKTOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="MULTISEDOLSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="NOTTRADABLEIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ORIGDATAPROVID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ROOTSYMBOLMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="SRCECURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRADERSYMBOLIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRDNGCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="TRGTCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="WHENISSUEDIND" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="INSTRISSRID" type="element">
                                <Node name="INSERT_ONLY" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                          </Node>
                        </Then>
                      </If>
                      <Node name="ACQBYPRNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BALSHEETCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BUSINESSSTARTYRTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BUSINESSSTRUCTURETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMRCLREGISTDELETEDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMRCLREGISTENTRYDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COMPANYMATCHID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSREFID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DELETEREASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISSOLUTIONDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSDIASCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSGLBLULTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSHIERCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ELECADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FISCALYRENDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FUNDSRCETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTAGENCYFILINGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IMPORTEXPORTAGENTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCORPORATIONDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCORPORATIONPLACETXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTCATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTDESC" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="INSTFOUNDINGDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTLEGALFORMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTLEGALNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTNME" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="INSTSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEILEGALFORMTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILDLVBLTYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="OBLIGORCLVALUE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGORSUBGRPCLSFOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINSID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINSIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFISSCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUBLICCORPIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECFORM15IND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="SUBSIDIARYIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="FinancialInstitutionIdentifier" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIIDOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="FINSIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="GUCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GUID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GUTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSYMBOLSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSYMBOLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTUSAGETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MERGEUNIQOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="FINSFinancialInstitutionRole" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "FINSFinancialInstitutionRole";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FINSFinancialInstitutionRole";]]></expr>
                      </Node>
                      <Node name="ACTSPYNGAGNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="AUTHUKINTERMEDIARYIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLAIMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLIENTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLIENTSRVCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONTCTOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSREFID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DAYSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DFLTCORRBNKIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DLVPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ELECADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDBUSDYTME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLCONTCTTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSUBTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="GLOBALDATAPROVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGFMTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOFIXSETTLEDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFISSCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFSETTLETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINREGJURISID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="QICAPACITYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RCPTPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SROJURISEFFDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTBUSDYTME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="TRDRPTGMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VALDAYSOFNUM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="WEBPORTALIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                  </Node>
                </Do>
              </ForEach>
              <ForEach displayName="ISSR" recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                <comment><![CDATA[GC-41414]]></comment>
                <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></sort>
                <Do>
                  <Node displayName="ISSR" messageformat="GSREF" name="STREET_REF" type="message">
                    <Options>
                      <Option key="OutputEncoding"/>
                      <Option key="AddTZIndicators">true</Option>
                      <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                      <Option key="DocType">STREET_REF</Option>
                    </Options>
                    <comment><![CDATA[RTG_COMM: Street-Ref for setting up the Roles.]]></comment>
                    <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "STREET_REF-ISSR";
else
	return "";]]></condition>
                    <Node name="USERID" type="attribute">
                      <expr><![CDATA[return "GUEST";]]></expr>
                    </Node>
                    <Node name="TRACE" type="attribute">
                      <expr><![CDATA[return "false";]]></expr>
                    </Node>
                    <Node name="TRANSACTIONCODE" type="attribute"/>
                    <Node name="EVENT" type="attribute"/>
                    <Node name="MSGSET" type="attribute"/>
                    <Node name="MESSAGECONDITION" type="attribute">
                      <expr><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "STREET_REF-ISSR";
else
	return "";]]></expr>
                    </Node>
                    <Node name="HEADER" type="element">
                      <Node name="ASOFDATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ATTRLOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CHECKLASTDBUPDATE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CHGAPPRTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CNTRYCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CURRENTTIMESTAMP" type="element">
                        <expr><![CDATA[return TimeStamp();]]></expr>
                      </Node>
                      <Node name="DATAID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAIDCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASOURCE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DONOTPOST" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EMPLOYEE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ISSUEACTIONREPLACE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUELOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUERDERIVATIONMODE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LOCALE" type="element">
                        <Node name="NLS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TIMEZONE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAIN_ENTITY_NME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISSR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MERGEMESSAGE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGCLASSIFICATION" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="PUBLISH" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALMSG" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REFDATA" type="element"/>
                      <Node name="REFERRINGPAGE" type="element"/>
                      <Node name="ROLLBACKONSEGMENTERROR" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECURITYLABEL" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRANSLATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRILLIUM" type="element">
                        <Node name="FORCENEWENTITY" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLEID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLETYPE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="USERID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="VENDORRECORDID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VENDORTYPE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VTTRMSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="Issuer" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer",
		"Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateNewIssuer",
					"Moodys_RDS_Instrument"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateNewIssuer. It is other than permitted value YES, NO, No value and NO_SILENT used in Config_option.xml")),
			"");
else
	return "";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                      </Node>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "Issuer";]]></expr>
                      </Node>
                      <If>
                        <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return "TRUE";
else if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "OFF"))
	return "";
else if (!OneHasValue(Translate(Config_Options, true,
		"SimpleIssueBasedIssuerMatching", "Moodys_RDS_Instrument")))
	return "";
else if (!OneOf(
		"OFF",
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"Moodys_RDS_Instrument"), "ON"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true,
					"SimpleIssueBasedIssuerMatching",
					"Moodys_RDS_Instrument"),
					Strcat("--",
							"Wrong value in Config_Option against Moodys_RDS_Instrument. It is other than permitted value ON, OFF and No value used in Config_option")),
			"");
else
	return "";]]></expr>
                        <Then>
                          <Node name="IssuerIdentifier" type="segment">
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                            </Node>
                            <Node name="ISSRID" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="ISSRIDCTXTTYP" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDY";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="Issue" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "FTFISSU1_ISSU_INSTRM";]]></expr>
                            </Node>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "Issue";]]></expr>
                            </Node>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="INSTRISSRID" type="element">
                              <Node name="INSERT_ONLY" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                        </Then>
                      </If>
                      <Node name="FinancialInstitutionIdentifier" type="segment">
                        <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INST_MNEM";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "FINS_INST_MNEM";]]></expr>
                        </Node>
                        <Node name="DUP_CHECK" type="attribute"/>
                        <Node name="ENDDATEIND" type="attribute"/>
                        <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                        <Node name="ERROR" type="attribute"/>
                        <Node name="LOOKUP" type="attribute"/>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                        </Node>
                        <Node name="ONLY" type="attribute"/>
                        <Node name="PARENT_LINK" type="attribute"/>
                        <Node name="PUBLISH" type="attribute"/>
                        <Node name="SEGPROCESSEDIND" type="attribute"/>
                        <Node name="START_TMS_MATCH" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="TSATTRIBUTE" type="attribute"/>
                        <Node name="TSOPTION" type="attribute"/>
                        <Node name="TSTOLERANCE" type="attribute"/>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                        </Node>
                        <Node name="FINSID" type="element">
                          <Node name="INSERT_ONLY" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                          </Node>
                        </Node>
                        <Node name="FINSIDCTXTTYP" type="element">
                          <Node name="INSERT_ONLY" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "MDY";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSINSTMNEM" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FISCALYRENDTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSRALPHSRCHTXT" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSRDESC" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSRNME" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MULTSHRIND" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="PREFISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="IssuerIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PARENT_LINK" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IRIDOID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSRIDCTXTTYP" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Node>
                </Do>
              </ForEach>
              <Node displayName="ISSU-CUSIP" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <comment><![CDATA[RTG_COMM: Street-Ref for setting up instrument identifiers like Moodys Debt Id, Deal No. and ISIN/CUSIP. Ratings for each ISIN and CUSIP will be setup up too. Bond details will be processed if present and setup in DebtChar and DebtStat segments.]]></comment>
                <condition>
                  <comment><![CDATA[RTG_COMM: In cases if the data contains only a CUSIP and no ISIN identifiers, we will setup the CUSIP value for the instrument from the data file.

GT 147627
Removed check of CUP]]></comment><![CDATA[if ((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "CUS", "CU2", "CU3", "CU4", "CU5")) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "STREET_REF-ISSUC";
else
	return "";]]>
                </condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "GUEST";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="TRANSACTIONCODE" type="attribute"/>
                <Node name="EVENT" type="attribute"/>
                <Node name="MSGSET" type="attribute"/>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if ((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && StrContainsOneOf(GetStringByKey("ID-ALL"), "CUS", "CU2", "CU3", "CU4", "CU5")) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "STREET_REF-ISSUC";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="ASOFDATE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ATTRLOCK" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CALID" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CNTRYCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATAID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATAIDCTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DONOTPOST" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EMPLOYEE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="ISSUEACTIONREPLACE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUELOCK" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LOCALE" type="element">
                    <Node name="NLS" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ENU";]]></expr>
                      </Node>
                    </Node>
                    <Node name="TIMEZONE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "GMT Standard Time";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDBTNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MUNI";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MERGEMESSAGE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYSINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGSET" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MSGTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="ORGID" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="PUBLISH" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REALMSG" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REFDATA" type="element"/>
                  <Node name="REFERRINGPAGE" type="element"/>
                  <Node name="ROLLBACKONSEGMENTERROR" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECURITYLABEL" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRANSLATE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRILLIUM" type="element">
                    <Node name="FORCENEWENTITY" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRILLIUMTABLEID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRILLIUMTABLETYPE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYSINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="VENDORRECORDID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="VENDORTYPE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="VTTRMSGSET" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewSecurity  -  Moodys_RDS_Instrument. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                  </Node>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                    <Do>
                      <Execute>
                        <expr><![CDATA[return StoreString("VAL-ROLE", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code);]]></expr>
                      </Execute>
                      <Execute>
                        <expr><![CDATA[return StoreString("VAL-RLCD", Strcat(GetStringByKey("VAL-ROLE"), Strcat(";", GetStringByKey("VAL-RLCD"))));]]></expr>
                      </Execute>
                      <Node name="IssuerIdentifier" type="segment">
                        <comment><![CDATA[GT 140695]]></comment>
                        <condition><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="DUP_CHECK" type="attribute"/>
                        <Node name="ENDDATEIND" type="attribute"/>
                        <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                        <Node name="ERROR" type="attribute"/>
                        <Node name="LOOKUP" type="attribute"/>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute"/>
                        <Node name="NESTED_ERR_TXT" type="attribute"/>
                        <Node name="ONLY" type="attribute"/>
                        <Node name="PARENT_LINK" type="attribute"/>
                        <Node name="PUBLISH" type="attribute"/>
                        <Node name="SEGPROCESSEDIND" type="attribute"/>
                        <Node name="START_TMS_MATCH" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="TSATTRIBUTE" type="attribute"/>
                        <Node name="TSOPTION" type="attribute"/>
                        <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                        <Node name="TSTOLERANCE" type="attribute"/>
                        <Node name="DATASRCID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="DATASTATTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="ENDTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUCNT" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="INSTRISSRID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="IRIDOID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="ISSRID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSRIDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "MDY";]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSRUSAGETYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="LASTCHGTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="LASTCHGUSRID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="MERGEUNIQOID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="STARTTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                    </Do>
                  </ForEach>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PUBLIC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="AVREXEMPTIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="BNCHOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CLTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CNVRTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDREDISTRIBUTORID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATAREDISTRIBUTORID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DECPRECNUM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code, "Unk"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DFLTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DFLTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DISTRIBUTIONCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DLVIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DLVREASCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EISTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EUROCNVRTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GOVTSUPPIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ILLIQUIDITYIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INCBASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INDIVCERTIFIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRISSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INVSCLOSEDTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISCDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATREASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSALPHSRCHTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSOBJTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSRATETXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Dated_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Dated_Date, 1, 10), "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute">
                      <comment><![CDATA[GT-135791]]></comment>
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MUNI";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUTCQTY" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUTMEASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LIQUIDRIGHTRANKTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MANDCNVRIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPDTEEXTNTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Maturity_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Maturity_Date, 1, 10), "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MINNETWORTHBALIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MONITORRESTRICTIONCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MOSTFAVOREDLENDERIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOMVALUNITCAMT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Face_Amount))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Face_Amount;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGMATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PARTFULLPDTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PARVALUETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRCMLTPLRCRTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRCQTMETHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSDESC" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="PRINBASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRINNOTLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REPACKAGEDSECIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="RTNGMAINTPROVSIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECFORMTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECLENDINGELIGIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SERIESTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STRUCTUREDSECIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SUBSTITUTIONCLAUSEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TBAELIGTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDGRSTTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TSFRRSTIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TYPEARNFORLIFECDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXLEVIEDSRCIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                  <condition>
                    <comment><![CDATA[GT 147627
Removed check for CUP]]></comment><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]>
                  </condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CUSIP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                  <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDBTNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                  <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDEALNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node name="IssueDescription" type="segment">
                  <comment><![CDATA[GC-46279]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISDE_MATCH_2";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISDEOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSDESC" type="element">
                    <comment><![CDATA[GC-46279]]></comment>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <comment><![CDATA[GC-46279]]></comment>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSSHRTNME" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node name="DebtInstrumentCharacteristics" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Code))
	return "DebtInstrumentCharacteristics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentCharacteristics";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="NESTED_ERR_LVL" type="attribute"/>
                      <Node name="NESTED_ERR_TXT" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PARENT_LINK" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="ACRDINPRCNGBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ACTIVITIESRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDLNOMVALUNITCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLCPNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLTRANCHEDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLTRANCHEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADVERSECHNGCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADVRFNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="AMORTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ASSETSALESRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BDCHOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BENEFITRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDISDRVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDRTRMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDSNRTYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Type_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Type_Text;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="BUSDYCONVTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLALLOCMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLBYCREDITORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLBYDEBTORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLONLYTAXREASIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPREMCMPNDFQSPTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPREMDAYBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPROVSSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CAPSECTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CHNGCNTRLREDEMPTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLRNGINSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CNVREXERDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CNVRRTETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COLLECTIVEACTIONIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COLLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONDISCCALLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONDISCPUTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COVEREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNCUMCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNSTOPALLOWEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Short_Description;
else
	return "";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CRENHCENDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCSUPPIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRLINKEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CUMVOTPRIVILEGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CVTISSRHOLDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAREDISTRIBUTORID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DEATHPUTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DEBTSRVCCASHFLOWIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DEBTSRVCCOVERAGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DFLTINFOAVAILIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISCOUNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTREARNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTRIBUTIONELIGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTROTHERCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRAWRDMPREMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRWNGCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRWNGWORDMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DTEDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUALCURRCNVCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUALCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUEBILLRCPTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ECODEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EOMDUEDTEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTSINKFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXCHANGABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXTENDBYCREDITORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXTENDBYDEBTORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FACTORTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FEEBASEDSECIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIRSTCPNPDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FORFEITCPNONCNVRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FORFEITDIVAFTCNVRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERCORRECTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INDEBTEDNESSLIMITIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INFLATIONPROTECTEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INITCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSURBACKEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTACCUMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTDEFERCUMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTDEFERRALTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERETUNQPREDOMCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSFACTORABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISUSONTHERUNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCASHFLOWIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCPNPDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALDEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALMATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LITIGATIONDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LMTGOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LOCKOUTPRDQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LOTTERYBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAKEWHOLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDRDMTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MERGERRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDFILINGDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDINPAYPDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDINPAYPDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPAYPRDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPRNPAYPDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPRNPAYPDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MMPROGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MNCALLABLECAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MNDENOMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MULTIINDEXIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MUNINOTEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NASDTRACETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEGPLEDGECLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEXTXOCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOMREDUCTPOSSIBLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OIDCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OIDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OPTRDMDEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OPTRDMTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORIGDATAPROVID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAIDINADVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PARIPASSUIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYKNOWNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PCTHOLDERDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="POISONPUTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREPAYALLOWEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PROCEEDELIGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PURCHASEFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTALLOCMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="QTPCTPARIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMCOLLCALLIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMPRCCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMSCHMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REDNMMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REOPENCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REPAYOTHERCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RESTRICTACTVYPLEDGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RESTRICTDISTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RTNGDEBTCLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RTNGPROVISIONIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SALELEASEBACKRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SBSDRYDEBTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SERIESYRTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYAPPLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKALLOCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQDYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQSPTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDEXPTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDRDMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNNELIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKIMPROVEMENTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKMAINTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPARMKTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPRCCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPRIMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKREQOPTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPECIFICCPNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STEPUPDOWNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STEPUPDOWNTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRIPBNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRIPPABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRUCTUREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SUBORDINATEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SUPERSINKIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SURVIVOROPTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SYNDICATIONTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TAXCHGCALLIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TAXPGMBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TERMSERIALBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TOTLIFEEARNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="UNSECUREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="UNSUBORDINATEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="WOPHYSCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XOSPLRDMDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDDYBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDDYMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDYRBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YLDCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNTOINTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="DebtInstrumentStatistics" type="segment">
                      <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Rate, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Code))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                      </Node>
                      <Node name="ANRETIREDCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BDSTOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BNCHOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDCSHFLOWCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALCRECRDMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLSPRDTOTREASCQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CBEYIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CBEYIELDTOWORSTCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMPNDYIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNCRTE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Rate;]]></expr>
                        </Node>
                      </Node>
                      <Node name="CPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNRATETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CREVENTOCCURREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTINRTEMRGNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTISSCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTPRDINCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAREDISTRIBUTORID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="EFFMATYTMDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EFFMATYTWDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESCROWMATDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTACCRLCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTACTRTEDIFFIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTINCPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTPRINPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXDIVCALTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXDIVDYQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FCHFLTCRYSTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIRSTPYINYRDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTBDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="HILOSPRDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INDXCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INGUARNTDPVCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTALLMENTPAYCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCPNID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTRESETTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALOPINIONNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LMTGOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEXTINRTEMRGNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOMINALYIELDCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPTLZNCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPTLZNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTESTSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTFACTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTFACTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARPUTCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARPUTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPREMCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPREMCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPUTCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPUTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTRATEFIXINGINDXNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTREFIXDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTREFUNDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINK2BASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINK2CAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSTEPCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSTEPDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OASCURVEID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGATIONPREFDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGATIONPREFIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OFFERLNKID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORIGDATAPROVID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OUTSTCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYDOWNFACTCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVCPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVFACTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVFACTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVRESETDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINGUARNTDPVCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTNOTFCNBINDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTNOTFCNWDRWLDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RATEFIXINGINDXUPDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALFIRSTPYTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMQUOTETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REVISSCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RLDBNCHMRKNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECNDCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECNDCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASCMPNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASCQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASDYBASDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPSECALCCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATSCURRCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code, "Unk"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATSEFFTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString("1900-01-01", "%Y-%M-%D");]]></expr>
                        </Node>
                      </Node>
                      <Node name="VOLUNSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDTOCALLCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNCNVRCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                      <comment><![CDATA[RTG_COMM:Process organization data for role type other than issuer.]]></comment>
                      <Do>
                        <Node name="FinsRoleIssueParticipant" type="segment">
                          <comment><![CDATA[GT - 152705
Nested FINR to be added to FRIP]]></comment>
                          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "YES") && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "FinsRoleIssueParticipant";
else if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "NO"))
	return "";
else if (!OneOf(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "YES", "NO"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option against CreateParticipant  -  Moodys_RDS_Instrument. It is other than permitted value YES and NO used in Config_Option")), "");
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "FinsRoleIssueParticipant";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="FINSFinancialInstitutionRole" type="segment">
                            <comment><![CDATA[GT - 152705
Nested FINR to be added to FRIP]]></comment>
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "FINSFinancialInstitutionRole";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "FINSFinancialInstitutionRole";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "INST_MNEM , FINSRL_TYP";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM , FINSRL_TYP";]]></expr>
                            </Node>
                            <Node name="ACTSPYNGAGNTIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="AUTHUKINTERMEDIARYIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CALID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLAIMIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLIENTRSTIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLIENTSRVCTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CONTCTOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CROSSREFID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FinancialInstitutionIdentifier" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "INST_MNEM";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INST_MNEM";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <comment><![CDATA[GT 126071:- Added Match Key FIID1_ID_CTXT_FINSID]]></comment>
                                <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments.]]></comment>
                                <expr><![CDATA[return Strcat("2|CONCTNS|NESTED|FINSIDCTXTTYP|MDY|FINSID|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, "|DATASRCID|MOODYS_RDS"));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FIIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINSIDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDY";]]></expr>
                                </Node>
                              </Node>
                              <Node name="GUCNT" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GUID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GUTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTSYMBOLSTATTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DAYSTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DFLTCORRBNKIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DLVPAYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ELECADDRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDBUSDYTME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLCONTCTTXT" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSUBTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="GLOBALDATAPROVIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MAILADDRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MSGFMTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NOFIXSETTLEDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PAYMETHTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFFINRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFIDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFISSCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFSETTLETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRINREGJURISID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="QICAPACITYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RCPTPAYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SROJURISEFFDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTBUSDYTME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                              <Node name="INSERT_ONLY" type="attribute"/>
                            </Node>
                            <Node name="TRDRPTGMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="VALDAYSOFNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WEBPORTALIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="COMMCRTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSHSTLDAYSCNT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Organization]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date))
		return 
		Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
			else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINSINSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRLISSPRTID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FRRLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INITMARGINCPCT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTCITYNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRLTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTROUTINGID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTSTEPRVCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISIDOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSTYPGRPOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTCQTY" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTMEASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCAMT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCPCT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCURRCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PAYRECVTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PRIMRELIND" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PRTPURPTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RELSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RELSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Organization]]></comment>
                              <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date, 1, 10), "%Y-%M-%D");
		else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date))
		return "Y";
		else
		return "";
]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Do>
                    </ForEach>
                  </Then>
                  <Else/>
                </If>
                <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute">
                  <Do>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5156439"))
	return StoreString("SF_IND", "SFINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5156638"))
	return StoreString("HY_IND", "HYBINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5160447"))
	return StoreString("LD_IND", "LDBINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                  </Do>
                </ForEach>
                <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating">
                  <comment><![CDATA[RTG_COMM: As per the data format, ratings for each identifier will be processed.]]></comment>
                  <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date;]]></sort>
                  <Do>
                    <If>
                      <comment><![CDATA[RTG_COMM: For each issue, ratings, attached qualifiers, statistics, outlook and watch data is captured through each segement.]]></comment>
                      <expr><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_ID);]]></expr>
                      <Then>
                        <Block displayName="Set">
                          <Execute displayName="RatingCodeFilter">
                            <expr><![CDATA[return StoreString("RTNGCDEFLTR", If((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level) && (Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level == "UND")) && (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code) && OneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "534", "535")), Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "U"), If((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level) && (Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level == "INS")) && (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code) && OneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "534")), Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "I"), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code)));]]></expr>
                          </Execute>
                          <Execute displayName="RatingValue535NoSpaceFilter">
                            <expr><![CDATA[return StoreString("RTNGVAL535NSFLTR", If(OneHasValue(GetStringByKey("RTNGCDEFLTR")) && OneOf(GetStringByKey("RTNGCDEFLTR"), "535", "535U"), Translate(MoodysRDSETT, true, "MDY_RTVL_535_NOSPACE", If(OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), If(OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)));]]></expr>
                          </Execute>
                        </Block>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <Do>
                            <If>
                              <expr><![CDATA[return Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5156692");]]></expr>
                              <Then>
                                <Execute>
                                  <expr><![CDATA[return StoreString("WR_REASON", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text);]]></expr>
                                </Execute>
                              </Then>
                              <Else/>
                            </If>
                          </Do>
                        </ForEach>
                        <Node name="IssueRating" type="segment">
                          <comment><![CDATA[GT163062]]></comment>
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "IssueRating";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UPDATE";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRating";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute"/>
                          <Node name="COPY_TO" type="attribute"/>
                          <Node name="DUP_CHECK" type="attribute"/>
                          <Node name="ENDDATEIND" type="attribute"/>
                          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                          <Node name="ERROR" type="attribute">
                            <expr><![CDATA[return "N";]]></expr>
                          </Node>
                          <Node name="LOOKUP" type="attribute"/>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISRT_MATCH_12";]]></expr>
                          </Node>
                          <Node name="NESTED_ERR_LVL" type="attribute"/>
                          <Node name="NESTED_ERR_TXT" type="attribute"/>
                          <Node name="ONLY" type="attribute"/>
                          <Node name="PARENT_LINK" type="attribute"/>
                          <Node name="PUBLISH" type="attribute"/>
                          <Node name="SEGPROCESSEDIND" type="attribute"/>
                          <Node name="START_TMS_MATCH" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="TSATTRIBUTE" type="attribute"/>
                          <Node name="TSOPTION" type="attribute">
                            <expr><![CDATA[return "N";]]></expr>
                          </Node>
                          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                          <Node name="TSTOLERANCE" type="attribute"/>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ERVLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="MULTRTNGSALETYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NEXTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_13";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SECNDMRKTIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_15";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SECNDMRKTIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGEFFTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGEFFTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_12";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                              <condition><![CDATA[if ((((((Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS") || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) || Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 1)) && (OneHasValue(GetStringByKey("CHECK_CUS")) && !Strcmp(GetStringByKey("CHECK_CUS"), "INVALID")))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "CUSIP";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("ISIDValue");]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRCDE" type="element">
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Currency_ISO_Code;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGVALUEOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHEXPDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHREASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSECINSTRIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRating" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "IssueRating";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRating";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute"/>
                          <Node name="COPY_TO" type="attribute"/>
                          <Node name="DUP_CHECK" type="attribute"/>
                          <Node name="ENDDATEIND" type="attribute"/>
                          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="LOOKUP" type="attribute"/>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                          </Node>
                          <Node name="NESTED_ERR_LVL" type="attribute"/>
                          <Node name="NESTED_ERR_TXT" type="attribute"/>
                          <Node name="ONLY" type="attribute"/>
                          <Node name="PARENT_LINK" type="attribute"/>
                          <Node name="PUBLISH" type="attribute"/>
                          <Node name="SEGPROCESSEDIND" type="attribute"/>
                          <Node name="START_TMS_MATCH" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="TSATTRIBUTE" type="attribute"/>
                          <Node name="TSOPTION" type="attribute"/>
                          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                          <Node name="TSTOLERANCE" type="attribute"/>
                          <Node name="RatingValue" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "RatingValue";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                            </Node>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="RatingSetDefinition" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETMNEM" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGSETNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETTBLTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGTENORMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RANKNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGCDENUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ERVLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="MULTRTNGSALETYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NEXTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCURRCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Currency_ISO_Code;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDEBTCLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGDIRECTIONTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Text;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGID" type="element">
                            <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSNRTYTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATREASTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(GetStringByKey("WR_REASON")))
	return GetStringByKey("WR_REASON");
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Reason_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSYMBOLTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATTYP" type="element">
                            <comment><![CDATA[GT 124664]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
		if ((Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID > "0"))
			return "ACTUAL";
		else
			return "DERIVED";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGVALUEOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGEFFTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGTERMINTMS" type="element">
                            <comment><![CDATA[GT 125379]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Local_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="SECNDMRKTIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                            </Node>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return TimeStamp();]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                          <Node name="UNDERLYENHCSALETYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shadow_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shadow_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCLASSID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Number))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Number;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCLASSTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Text;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="WATCHDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHEXPDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHREASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSECINSTRIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Execute>
                          <expr><![CDATA[return StoreString("WR_REASON", "");]]></expr>
                        </Execute>
                        <Node name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if ((AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text))) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <comment><![CDATA[GC-40944]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute"/>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                        </Node>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <comment><![CDATA[RTG_COMM:As per the data format provided by the vendor, looping through each qualifier-endorsement,unsolicited etc are captured.]]></comment>
                          <Do>
                            <Node displayName="Unsolicited Indicator" name="ISRTRatingQualifier" type="segment">
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && (OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_TYP_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code)) && OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Text, Strcat("-", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text));]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[	if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";
]]></expr>
                                </Node>
                              </Node>
                            </Node>
                            <Node displayName="Endorsement Indicator" name="ISRTRatingQualifier" type="segment">
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5156627")))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "EU Endorsement";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ENDORSEMENT INDICATOR";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");


]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";]]></expr>
                                </Node>
                              </Node>
                            </Node>
                            <Node displayName="UK Endorsement Indicator" name="ISRTRatingQualifier" type="segment">
                              <comment><![CDATA[GT 159594 : Added RTQL for 'UK Endorsement Indicator']]></comment>
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5170429")))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute]]></comment>
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "UK Endorsement";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "UK ENDORSEMENT INDICATOR";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");
]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";]]></expr>
                                </Node>
                              </Node>
                            </Node>
                          </Do>
                        </ForEach>
                        <Node displayName="SFIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("SF_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute,GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating  for Structured Finance";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "SF INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";
]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node displayName="HYBIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("HY_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute,GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating  for Hybrid Instruments";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "HYBRID INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node displayName="LDIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("LD_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute,GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating with Limited Default";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "LIMITED DEFAULT INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRatingComment" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Initial_Rating_Indicator, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "IssueRatingComment";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRatingComment";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CMNTSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CMNTTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Initial_Rating_Indicator;]]></expr>
                            </Node>
                          </Node>
                          <Node name="COMMREASMNEM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "INITRTNG";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CREATEDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="CROSSREFID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GNCMOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GNCMTBLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISRT";]]></expr>
                            </Node>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LNNUM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "1";]]></expr>
                            </Node>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRatingComment" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Office_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "IssueRatingComment";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRatingComment";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CMNTSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CMNTTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Office_ID;]]></expr>
                            </Node>
                          </Node>
                          <Node name="COMMREASMNEM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "RTNGOFFC";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CREATEDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="CROSSREFID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GNCMOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GNCMTBLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISRT";]]></expr>
                            </Node>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LNNUM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "1";]]></expr>
                            </Node>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <comment><![CDATA[RTG_COMM:Process multiple Rating Outlooks as per data format through a loop.]]></comment>
                          <Do>
                            <If>
                              <expr><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5160019");]]></expr>
                              <Then>
                                <Node displayName="Outlook" name="ISSURatingOpinions" type="segment">
                                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5160019"))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                                  <Node name="ACTION" type="attribute">
                                    <comment><![CDATA[GC-45360]]></comment>
                                    <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                                  </Node>
                                  <Node name="TYPE" type="attribute">
                                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                                  </Node>
                                  <Node name="ERROR" type="attribute">
                                    <comment><![CDATA[GC-45360]]></comment>
                                    <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                                  </Node>
                                  <Node name="RatingSetDefinition" type="segment">
                                    <Node name="ACTION" type="attribute">
                                      <expr><![CDATA[return "REFERENCE";]]></expr>
                                    </Node>
                                    <Node name="TYPE" type="attribute">
                                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                    </Node>
                                    <Node name="COPY_FROM" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="COPY_TO" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="DUP_CHECK" type="attribute"/>
                                    <Node name="ENDDATEIND" type="attribute"/>
                                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                    <Node name="ERROR" type="attribute"/>
                                    <Node name="LOOKUP" type="attribute"/>
                                    <Node name="MATCH" type="attribute">
                                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_LVL" type="attribute">
                                      <expr><![CDATA[return "ERROR";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_TXT" type="attribute">
                                      <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                    </Node>
                                    <Node name="ONLY" type="attribute"/>
                                    <Node name="PARENT_LINK" type="attribute"/>
                                    <Node name="PUBLISH" type="attribute"/>
                                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                                    <Node name="START_TMS_MATCH" type="attribute"/>
                                    <Node name="TRANSLATE" type="attribute"/>
                                    <Node name="TSATTRIBUTE" type="attribute"/>
                                    <Node name="TSOPTION" type="attribute"/>
                                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                    <Node name="TSTOLERANCE" type="attribute"/>
                                    <Node name="DATASRCID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="DATASTATTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="ENDTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="INSTMNEM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGUSRID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETCURRCDE" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETDESC" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETMNEM" type="element">
                                      <Node name="VALUE" type="attribute">
                                        <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                      </Node>
                                    </Node>
                                    <Node name="RTNGSETNME" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETTBLTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGTENORMNEM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="STARTTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                  </Node>
                                  <Node disabled="1" name="RatingValue" type="segment">
                                    <Node name="ACTION" type="attribute">
                                      <expr><![CDATA[return "REFERENCE";]]></expr>
                                    </Node>
                                    <Node name="TYPE" type="attribute">
                                      <expr><![CDATA[return "RatingValue";]]></expr>
                                    </Node>
                                    <Node name="COPY_FROM" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="COPY_TO" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="DUP_CHECK" type="attribute"/>
                                    <Node name="ENDDATEIND" type="attribute"/>
                                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                    <Node name="ERROR" type="attribute"/>
                                    <Node name="LOOKUP" type="attribute"/>
                                    <Node name="MATCH" type="attribute">
                                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_LVL" type="attribute">
                                      <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                      <expr><![CDATA[return "ERROR";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_TXT" type="attribute">
                                      <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                      <expr><![CDATA[return Strcat("1|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Strcat("|RTNGVAL|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, "|DATASRCID|MOODYS_RDS"))));]]></expr>
                                    </Node>
                                    <Node name="ONLY" type="attribute"/>
                                    <Node name="PARENT_LINK" type="attribute"/>
                                    <Node name="PUBLISH" type="attribute"/>
                                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                                    <Node name="START_TMS_MATCH" type="attribute"/>
                                    <Node name="TRANSLATE" type="attribute"/>
                                    <Node name="TSATTRIBUTE" type="attribute"/>
                                    <Node name="TSOPTION" type="attribute"/>
                                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                    <Node name="TSTOLERANCE" type="attribute"/>
                                    <Node name="RatingSetDefinition" type="segment">
                                      <Node name="ACTION" type="attribute">
                                        <expr><![CDATA[return "REFERENCE";]]></expr>
                                      </Node>
                                      <Node name="TYPE" type="attribute">
                                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                      </Node>
                                      <Node name="COPY_FROM" type="attribute">
                                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                      </Node>
                                      <Node name="COPY_TO" type="attribute">
                                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                      </Node>
                                      <Node name="DUP_CHECK" type="attribute"/>
                                      <Node name="ENDDATEIND" type="attribute"/>
                                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                      <Node name="ERROR" type="attribute"/>
                                      <Node name="LOOKUP" type="attribute"/>
                                      <Node name="MATCH" type="attribute">
                                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                      </Node>
                                      <Node name="NESTED_ERR_LVL" type="attribute">
                                        <expr><![CDATA[return "ERROR";]]></expr>
                                      </Node>
                                      <Node name="NESTED_ERR_TXT" type="attribute">
                                        <expr><![CDATA[return Strcat("1|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "|DATASRCID|MOODYS_RDS"));]]></expr>
                                      </Node>
                                      <Node name="ONLY" type="attribute"/>
                                      <Node name="PARENT_LINK" type="attribute"/>
                                      <Node name="PUBLISH" type="attribute"/>
                                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                                      <Node name="START_TMS_MATCH" type="attribute"/>
                                      <Node name="TRANSLATE" type="attribute"/>
                                      <Node name="TSATTRIBUTE" type="attribute"/>
                                      <Node name="TSOPTION" type="attribute"/>
                                      <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                      <Node name="TSTOLERANCE" type="attribute"/>
                                      <Node name="DATASRCID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="DATASTATTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="ENDTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="INSTMNEM" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="LASTCHGTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="LASTCHGUSRID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETCURRCDE" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETDESC" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETMNEM" type="element">
                                        <Node name="VALUE" type="attribute">
                                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code;]]></expr>
                                        </Node>
                                      </Node>
                                      <Node name="RTNGSETNME" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETOID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETTBLTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGTENORMNEM" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="STARTTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                    </Node>
                                    <Node name="DATASRCID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="DATASTATTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="ENDTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGUSRID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RANKNUM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGCDE" type="element">
                                      <Node name="VALUE" type="attribute">
                                        <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text;]]></expr>
                                      </Node>
                                    </Node>
                                    <Node name="RTNGCDENUM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGDESC" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGNME" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGVALUEOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="STARTTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                  </Node>
                                  <Node name="DATASRCID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="DATASTATTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return "ACTIVE";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="ENDTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <comment><![CDATA[GC-45360]]></comment>
                                      <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="INSTMNEM" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="INSTRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="INSTRISSRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="LASTCHGTMS" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="LASTCHGUSRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTNGCURRTYP" type="element">
                                    <comment><![CDATA[RTG_RTOP: Extended the logic by not comparing the domain value 19140.]]></comment>
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                                    </Node>
                                    <Node name="TRANSLATE" type="attribute">
                                      <expr><![CDATA[return "YES";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONAGENCYNME" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTNGOPINIONEFFTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONEXPTMS" type="element">
                                    <comment><![CDATA[GT 125264]]></comment>
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONSTATTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text;
else
	return "";]]></expr>
                                    </Node>
                                    <Node name="TRANSLATE" type="attribute">
                                      <expr><![CDATA[return "YES";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONTXT" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text;]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGSETOID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTOPOID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="STARTTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return TimeStamp();]]></expr>
                                    </Node>
                                    <Node name="INSERT_ONLY" type="attribute">
                                      <expr><![CDATA[return "Y";]]></expr>
                                    </Node>
                                  </Node>
                                </Node>
                              </Then>
                            </If>
                          </Do>
                        </ForEach>
                        <Node displayName="Watch" name="ISSURatingOpinions" type="segment">
                          <comment><![CDATA[RTG_COMM: Process Watch details.]]></comment>
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Code) && OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "ISSURatingOpinions";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="RatingSetDefinition" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                            </Node>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETMNEM" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSETNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETTBLTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGTENORMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="IssueIdentifier" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueIdentifier";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute"/>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERGONOMICSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="GLOBALUNIQIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="IDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDYDBTNO";]]></expr>
                              </Node>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRSYMBOLSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISIDOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="ISSTENORTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSUSAGETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LISTINGSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MERGEUNIQOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MKTOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTISEDOLSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NOTTRADABLEIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ROOTSYMBOLMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SRCECURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRADERSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRDNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRGTCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WHENISSUEDIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="INSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRISSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_RTOP: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONAGENCYNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGOPINIONEFFTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONEXPTMS" type="element">
                            <comment><![CDATA[GT 125264]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Short_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Short_Description;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Txt;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "WATCH";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTOPOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return TimeStamp();]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Block displayName="Reset">
                          <Execute displayName="RatingCodeFilter">
                            <expr><![CDATA[return StoreString("RTNGCDEFLTR", "");]]></expr>
                          </Execute>
                          <Execute displayName="RatingValue535NoSpaceFilter">
                            <expr><![CDATA[return StoreString("RTNGVAL535NSFLTR", "");]]></expr>
                          </Execute>
                        </Block>
                      </Then>
                    </If>
                    <If>
                      <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                      <Then>
                        <Node name="IssueStatistic" type="segment">
                          <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shelf_Type_Text))
	return "IssueStatistic";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueStatistic";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute"/>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="DENOMCURRCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATCHARVALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shelf_Type_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATDEFID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "SHELFREG";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATINTVALNUM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALCAMT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                        </Node>
                        <Node name="IssueClassification" type="segment">
                          <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return "IssueClassification";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueClassification";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CLSFOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CLSFPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="IndustryClassification" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IndustryClassification";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "CLSF_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "CLSF_OID";]]></expr>
                            </Node>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "INCL_VALUE";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments.]]></comment>
                              <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|MDYDBID|CLVALUE|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description, "|DATASRCID|MOODYS_RDS"));]]></expr>
                            </Node>
                            <Node name="CLVALUE" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;]]></expr>
                              </Node>
                            </Node>
                            <Node name="INDUSCLSETID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDYDBID";]]></expr>
                              </Node>
                            </Node>
                            <Node name="LEVELNUM" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "1";]]></expr>
                              </Node>
                            </Node>
                            <Node name="CLDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLSFOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLVALUE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INDUSCLSETID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LEVELNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRNTCLSFOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRNTCLVALUE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="CLVALUE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;]]></expr>
                            </Node>
                          </Node>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="EINCOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GUCNT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GUID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GUTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INDUSCLSETID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "MDYDBID";]]></expr>
                            </Node>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISIDOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSCLSFDESC" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSCLSFOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Then>
                      <Else/>
                    </If>
                  </Do>
                </ForEach>
              </Node>
            </Then>
            <Else/>
          </If>
        </Do>
      </ForEach>
      <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier">
        <comment><![CDATA[GT 125469 : New StreetRef added for Moodys Debt No]]></comment>
        <where>
          <comment><![CDATA[GT 147627
Removed Parameter fro CUP]]></comment><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID) && !StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6", "CUS", "CU2", "CU3", "CU4", "CU5");]]>
        </where>
        <Do>
          <If>
            <comment><![CDATA[GT 147627
removed check for CUP]]></comment>
            <expr><![CDATA[return (((((((((!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI") && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU2")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU3")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU4")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CU5")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS2")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS3")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS4")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS5")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "IS6")) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS");]]></expr>
            <Then>
              <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></sort>
                <Do>
                  <Node displayName="FINS" messageformat="GSREF" name="STREET_REF" type="message">
                    <Options>
                      <Option key="OutputEncoding"/>
                      <Option key="AddTZIndicators">true</Option>
                      <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                      <Option key="DocType">STREET_REF</Option>
                    </Options>
                    <comment><![CDATA[RTG_COMM: Street-Ref for setting up the Roles.]]></comment>
                    <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "STREET_REF-ID";
else
	return "";]]></condition>
                    <Node name="USERID" type="attribute">
                      <expr><![CDATA[return "GUEST";]]></expr>
                    </Node>
                    <Node name="TRACE" type="attribute">
                      <expr><![CDATA[return "false";]]></expr>
                    </Node>
                    <Node name="TRANSACTIONCODE" type="attribute"/>
                    <Node name="EVENT" type="attribute"/>
                    <Node name="MSGSET" type="attribute"/>
                    <Node name="MESSAGECONDITION" type="attribute">
                      <expr><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "STREET_REF-ID";
else
	return "";]]></expr>
                    </Node>
                    <Node name="HEADER" type="element">
                      <Node name="ASOFDATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ATTRLOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CHECKLASTDBUPDATE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CHGAPPRTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CNTRYCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="CURRENTTIMESTAMP" type="element">
                        <expr><![CDATA[return TimeStamp();]]></expr>
                      </Node>
                      <Node name="DATAID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAIDCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASOURCE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DONOTPOST" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EMPLOYEE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ISSUEACTIONREPLACE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUELOCK" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSUERDERIVATIONMODE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                      </Node>
                      <Node name="LOCALE" type="element">
                        <Node name="NLS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TIMEZONE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAIN_ENTITY_NME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "FINS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MERGEMESSAGE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGCLASSIFICATION" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="MSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                        <Node name="DEFAULT" type="attribute"/>
                        <Node name="ERR_LVL" type="attribute"/>
                      </Node>
                      <Node name="PUBLISH" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALMSG" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REFDATA" type="element"/>
                      <Node name="REFERRINGPAGE" type="element"/>
                      <Node name="ROLLBACKONSEGMENTERROR" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECURITYLABEL" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRANSLATE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TRILLIUM" type="element">
                        <Node name="FORCENEWENTITY" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLEID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="TRILLIUMTABLETYPE" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                      <Node name="USERID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDYSINSTR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="VENDORRECORDID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VENDORTYPE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VTTRMSGSET" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="FinancialInstitution" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewIssuer  -  Moodys_RDS_Instrument. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinancialInstitution";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                      </Node>
                      <Node name="ACQBYPRNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BALSHEETCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BUSINESSSTARTYRTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BUSINESSSTRUCTURETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMRCLREGISTDELETEDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMRCLREGISTENTRYDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COMPANYMATCHID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSREFID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DELETEREASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISSOLUTIONDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSDIASCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSGLBLULTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUNSHIERCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ELECADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FISCALYRENDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FUNDSRCETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTAGENCYFILINGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IMPORTEXPORTAGENTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCORPORATIONDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCORPORATIONPLACETXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTCATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTDESC" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="INSTFOUNDINGDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTLEGALFORMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTLEGALNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTNME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Moodys_Legal_Name;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="INSTSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEILEGALFORMTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILDLVBLTYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="OBLIGORCLVALUE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGORSUBGRPCLSFOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORGID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINSID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINSIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFISSCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUBLICCORPIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECFORM15IND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="SUBSIDIARYIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="FinancialInstitutionIdentifier" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIIDOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                        </Node>
                      </Node>
                      <Node name="FINSIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "MDY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="GUCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GUID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GUTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSYMBOLSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTSYMBOLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTUSAGETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MERGEUNIQOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="FINSFinancialInstitutionRole" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "FINSFinancialInstitutionRole";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FINSFinancialInstitutionRole";]]></expr>
                      </Node>
                      <Node name="ACTSPYNGAGNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="AUTHUKINTERMEDIARYIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLAIMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLIENTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLIENTSRVCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONTCTOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSREFID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DAYSTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DFLTCORRBNKIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DLVPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ELECADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDBUSDYTME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLCONTCTTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLSUBTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FINSRLTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="GLOBALDATAPROVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAILADDRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MSGFMTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOFIXSETTLEDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFCURRCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFFINRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFIDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFISSCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREFSETTLETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINREGJURISID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="QICAPACITYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RCPTPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SROJURISEFFDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTBUSDYTME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="TRDRPTGMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="VALDAYSOFNUM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="WEBPORTALIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                  </Node>
                </Do>
              </ForEach>
              <Node displayName="ISSU" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <comment><![CDATA[RTG_COMM: Street-Ref for setting up instrument identifiers like Moodys Debt Id, Deal No.]]></comment>
                <condition>
                  <comment><![CDATA[GT 147627
Removed parameter for CUP]]></comment><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && !StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6", "CUS", "CU2", "CU3", "CU4", "CU5"))
		return "STREET_REF";
	else
		return "";
]]>
                </condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "GUEST";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="TRANSACTIONCODE" type="attribute"/>
                <Node name="EVENT" type="attribute"/>
                <Node name="MSGSET" type="attribute"/>
                <Node name="MESSAGECONDITION" type="attribute">
                  <comment><![CDATA[GT 147627
Removed CUP]]></comment>
                  <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID) && !StrContainsOneOf(GetStringByKey("ID-ALL"), "ISI", "IS2", "IS3", "IS4", "IS5", "IS6", "CUS", "CU2", "CU3", "CU4", "CU5"))
	return "STREET_REF";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="ASOFDATE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ATTRLOCK" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CALID" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CNTRYCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATAID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATAIDCTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MOODYS_RDS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DONOTPOST" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EMPLOYEE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="ISSUEACTIONREPLACE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUELOCK" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LOCALE" type="element">
                    <Node name="NLS" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ENU";]]></expr>
                      </Node>
                    </Node>
                    <Node name="TIMEZONE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "GMT Standard Time";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDBTNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MUNI";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MERGEMESSAGE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYSINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGSET" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MSGTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="ORGID" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                    <Node name="DEFAULT" type="attribute"/>
                    <Node name="ERR_LVL" type="attribute"/>
                  </Node>
                  <Node name="PUBLISH" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REALMSG" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REFDATA" type="element"/>
                  <Node name="REFERRINGPAGE" type="element"/>
                  <Node name="ROLLBACKONSEGMENTERROR" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECURITYLABEL" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRANSLATE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRILLIUM" type="element">
                    <Node name="FORCENEWENTITY" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRILLIUMTABLEID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRILLIUMTABLETYPE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYSINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="VENDORRECORDID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="VENDORTYPE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="VTTRMSGSET" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewSecurity  -  Moodys_RDS_Instrument. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewSecurity", "Moodys_RDS_Instrument"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                  </Node>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                    <Do>
                      <Execute>
                        <expr><![CDATA[return StoreString("VAL-ROLE", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code);]]></expr>
                      </Execute>
                      <Execute>
                        <expr><![CDATA[return StoreString("VAL-RLCD", Strcat(GetStringByKey("VAL-ROLE"), Strcat(";", GetStringByKey("VAL-RLCD"))));]]></expr>
                      </Execute>
                      <Node name="IssuerIdentifier" type="segment">
                        <comment><![CDATA[GT 140695]]></comment>
                        <condition><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="DUP_CHECK" type="attribute"/>
                        <Node name="ENDDATEIND" type="attribute"/>
                        <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                        <Node name="ERROR" type="attribute"/>
                        <Node name="LOOKUP" type="attribute"/>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute"/>
                        <Node name="NESTED_ERR_TXT" type="attribute"/>
                        <Node name="ONLY" type="attribute"/>
                        <Node name="PARENT_LINK" type="attribute"/>
                        <Node name="PUBLISH" type="attribute"/>
                        <Node name="SEGPROCESSEDIND" type="attribute"/>
                        <Node name="START_TMS_MATCH" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="TSATTRIBUTE" type="attribute"/>
                        <Node name="TSOPTION" type="attribute"/>
                        <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                        <Node name="TSTOLERANCE" type="attribute"/>
                        <Node name="DATASRCID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="DATASTATTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="ENDTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUCNT" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="GUTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="INSTRISSRID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="IRIDOID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="ISSRID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSRIDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "MDY";]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSRUSAGETYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="LASTCHGTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="LASTCHGUSRID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="MERGEUNIQOID" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="STARTTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                      </Node>
                    </Do>
                  </ForEach>
                  <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute"/>
                    <Node name="NESTED_ERR_TXT" type="attribute"/>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ACTIVE";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ERGONOMICSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="GLOBALUNIQIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "MDYDBTNO";]]></expr>
                      </Node>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRSYMBOLSTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISIDOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSTENORTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISSUSAGETYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LISTINGSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MERGEUNIQOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MKTOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MULTISEDOLSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="NOTTRADABLEIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ROOTSYMBOLMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SRCECURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                      </Node>
                      <Node name="INSERT_ONLY" type="attribute">
                        <expr><![CDATA[return "Y";]]></expr>
                      </Node>
                    </Node>
                    <Node name="TRADERSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRDNGCURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRGTCURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="WHENISSUEDIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ACTIVE";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ERGONOMICSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="GLOBALUNIQIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "MDYDEALNO";]]></expr>
                      </Node>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRSYMBOLSTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISIDOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSTENORTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ISSUSAGETYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LISTINGSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MERGEUNIQOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MKTOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="MULTISEDOLSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="NOTTRADABLEIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ORIGDATAPROVID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ROOTSYMBOLMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SRCECURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                      </Node>
                      <Node name="INSERT_ONLY" type="attribute">
                        <expr><![CDATA[return "Y";]]></expr>
                      </Node>
                    </Node>
                    <Node name="TRADERSYMBOLIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRDNGCURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="TRGTCURRCDE" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="WHENISSUEDIND" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PUBLIC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="AVREXEMPTIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="BNCHOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CLTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CNVRTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDREDISTRIBUTORID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATAREDISTRIBUTORID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DECPRECNUM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code, "Unk"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DFLTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DFLTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DISTRIBUTIONCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DLVIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DLVREASCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EISTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="EUROCNVRTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GOVTSUPPIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ILLIQUIDITYIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INCBASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INDIVCERTIFIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRISSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INVSCLOSEDTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISCDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATREASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSALPHSRCHTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSOBJTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSRATETXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Dated_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Dated_Date, 1, 10), "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="INSERT_ONLY" type="attribute">
                      <comment><![CDATA[GT-135791]]></comment>
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MUNI";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUTCQTY" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUTMEASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LIQUIDRIGHTRANKTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MANDCNVRIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPDTEEXTNTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Maturity_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Maturity_Date, 1, 10), "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MINNETWORTHBALIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MONITORRESTRICTIONCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MOSTFAVOREDLENDERIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOMVALUNITCAMT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Face_Amount))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Face_Amount;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGMATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PARTFULLPDTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PARVALUETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRCMLTPLRCRTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRCQTMETHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFIDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSDESC" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="PRINBASTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PRINNOTLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="REPACKAGEDSECIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="RTNGMAINTPROVSIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECFORMTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SECLENDINGELIGIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SERIESTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STRUCTUREDSECIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SUBSTITUTIONCLAUSEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TBAELIGTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDGRSTTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TSFRRSTIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TYPEARNFORLIFECDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXLEVIEDSRCIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                  <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDBTNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ERGONOMICSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="GLOBALUNIQIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MDYDEALNO";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRSYMBOLSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTENORTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LISTINGSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MERGEUNIQOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MULTISEDOLSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NOTTRADABLEIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ORIGDATAPROVID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ROOTSYMBOLMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SRCECURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="TRADERSYMBOLIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRDNGCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="TRGTCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="WHENISSUEDIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node name="IssueDescription" type="segment">
                  <comment><![CDATA[GC-46279]]></comment>
                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute"/>
                  <Node name="COPY_TO" type="attribute"/>
                  <Node name="DUP_CHECK" type="attribute"/>
                  <Node name="ENDDATEIND" type="attribute"/>
                  <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="LOOKUP" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISDE_MATCH_2";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute"/>
                  <Node name="NESTED_ERR_TXT" type="attribute"/>
                  <Node name="ONLY" type="attribute"/>
                  <Node name="PARENT_LINK" type="attribute"/>
                  <Node name="PUBLISH" type="attribute"/>
                  <Node name="SEGPROCESSEDIND" type="attribute"/>
                  <Node name="START_TMS_MATCH" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                  <Node name="TSTOLERANCE" type="attribute"/>
                  <Node name="DATASRCID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="INSTRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISDEOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISIDOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSDESC" type="element">
                    <comment><![CDATA[GC-46279]]></comment>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSMNEM" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <comment><![CDATA[GC-46279]]></comment>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Security_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSSHRTNME" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="LASTCHGUSRID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MKTOID" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node name="DebtInstrumentCharacteristics" type="segment">
                      <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Code))
	return "DebtInstrumentCharacteristics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentCharacteristics";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute"/>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="NESTED_ERR_LVL" type="attribute"/>
                      <Node name="NESTED_ERR_TXT" type="attribute"/>
                      <Node name="ONLY" type="attribute"/>
                      <Node name="PARENT_LINK" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="ACRDINPRCNGBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ACTIVITIESRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDLNOMVALUNITCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLCPNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLTRANCHEDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADDNLTRANCHEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADVERSECHNGCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ADVRFNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="AMORTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ASSETSALESRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BDCHOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BENEFITRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDISDRVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDRTRMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDSNRTYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Type_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Type_Text;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="BUSDYCONVTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLALLOCMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLBYCREDITORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLBYDEBTORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLONLYTAXREASIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPREMCMPNDFQSPTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPREMDAYBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLPROVSSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CAPSECTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CHNGCNTRLREDEMPTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CLRNGINSTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CNVREXERDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CNVRRTETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COLLECTIVEACTIONIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COLLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONDISCCALLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CONDISCPUTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="COVEREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNCUMCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNSTOPALLOWEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Short_Description;
else
	return "";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CRENHCENDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCSUPPIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRLINKEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CROSSDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CUMVOTPRIVILEGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CVTISSRHOLDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAREDISTRIBUTORID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DEATHPUTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DEBTSRVCCASHFLOWIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DEBTSRVCCOVERAGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DFLTINFOAVAILIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISCOUNTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTREARNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTRIBUTIONELIGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DISTROTHERCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRAWRDMPREMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRWNGCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DRWNGWORDMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DTEDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUALCURRCNVCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUALCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DUEBILLRCPTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ECODEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EOMDUEDTEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTSINKFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXCHANGABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXTENDBYCREDITORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXTENDBYDEBTORIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FACTORTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FEEBASEDSECIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIRSTCPNPDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FORFEITCPNONCNVRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FORFEITDIVAFTCNVRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GFATHERCORRECTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INDEBTEDNESSLIMITIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INFLATIONPROTECTEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INITCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INPAYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSURBACKEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTACCUMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTDEFERCUMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERESTDEFERRALTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INTERETUNQPREDOMCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISSFACTORABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ISUSONTHERUNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCASHFLOWIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCPNPDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALDEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALMATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LITIGATIONDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LMTGOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LOCKOUTPRDQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LOTTERYBONDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MAKEWHOLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDRDMTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MANDTENDERIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MERGERRESTRICTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDFILINGDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDINPAYPDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDINPAYPDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPAYPRDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPRNPAYPDDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MISSEDPRNPAYPDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MMPROGTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MNCALLABLECAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MNDENOMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MULTIINDEXIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="MUNINOTEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NASDTRACETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEGPLEDGECLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEXTXOCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOMREDUCTPOSSIBLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OIDCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OIDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OPTRDMDEFEASANCEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OPTRDMTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORIGDATAPROVID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAIDINADVIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PARIPASSUIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYKNOWNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PCTHOLDERDFLTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="POISONPUTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREPAYALLOWEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PROCEEDELIGIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PURCHASEFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTALLOCMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="QTPCTPARIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMCOLLCALLIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMPRCCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RDMSCHMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REDNMMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REOPENCLAUSEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REPAYOTHERCURRIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RESTRICTACTVYPLEDGEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RESTRICTDISTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RTNGDEBTCLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RTNGPROVISIONIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SALELEASEBACKRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SBSDRYDEBTRSTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SERIESYRTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYAPPLTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKADDNLPYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKALLOCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQDYTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFQSPTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDEXPTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDRDMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNNELIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKIMPROVEMENTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKMAINTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPARMKTMNEM" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPRCCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKPRIMIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKREQOPTTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPECIFICCPNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STEPUPDOWNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STEPUPDOWNTRIGGERTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRIPBNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRIPPABLEIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STRUCTUREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SUBORDINATEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SUPERSINKIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SURVIVOROPTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SYNDICATIONTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TAXCHGCALLIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TAXPGMBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TERMSERIALBONDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="TOTLIFEEARNTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="UNSECUREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="UNSUBORDINATEDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="WOPHYSCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XORDMTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="XOSPLRDMDEFEASEDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDDYBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDDYMETHTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDYRBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YLDCALCTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNTOINTIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node name="DebtInstrumentStatistics" type="segment">
                      <condition><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Rate, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Type_Code))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                      </Node>
                      <Node name="ANRETIREDCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BDSTOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BNCHOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="BONDCSHFLOWCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALCRECRDMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CALLSPRDTOTREASCQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CBEYIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CBEYIELDTOWORSTCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CMPNDYIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNCRTE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Coupon_Rate;]]></expr>
                        </Node>
                      </Node>
                      <Node name="CPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CPNRATETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRENHCCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CREVENTOCCURREDIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTINRTEMRGNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTISSCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="CRRNTPRDINCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATAREDISTRIBUTORID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASRCID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="EFFMATYTMDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EFFMATYTWDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESCROWMATDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTACCRLCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTACTRTEDIFFIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTINCPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ESTPRINPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXDIVCALTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="EXDIVDYQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FCHFLTCRYSTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="FIRSTPYINYRDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="GOVTBDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="HILOSPRDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INCPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INDXCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INGUARNTDPVCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTALLMENTPAYCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="INSTRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCHGUSRID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTCPNID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LASTRESETTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LEGALOPINIONNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="LMTGOID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NEXTINRTEMRGNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NOMINALYIELDCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPTLZNCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTCPTLZNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTESTSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTFACTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTFACTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARPUTCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPARPUTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPREMCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPREMCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPUTCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTPUTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTRATEFIXINGINDXNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTREFIXDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTREFUNDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINK2BASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINK2CAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKBASTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSINKDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSTEPCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="NXTSTEPDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OASCURVEID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGATIONPREFDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OBLIGATIONPREFIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OFFERLNKID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ORIGDATAPROVID" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="OUTSTCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PAYDOWNFACTCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVCPNCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVCPNDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVFACTCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVFACTDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PREVRESETDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINGUARNTDPVCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PRINPAYCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTNOTFCNBINDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="PUTNOTFCNWDRWLDYCNT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RATEFIXINGINDXUPDDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REALFIRSTPYTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RECRDMQUOTETYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="REVISSCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="RLDBNCHMRKNME" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECNDCALLCPRC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SECNDCALLDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDSTATTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SINKFUNDSTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASCMPNDTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASCQTY" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPRDTOTREASDYBASDESC" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="SPSECALCCPNIND" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATSCURRCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code, "Unk"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ISO_Currency_Code;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATSEFFTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return DateFromString("1900-01-01", "%Y-%M-%D");]]></expr>
                        </Node>
                      </Node>
                      <Node name="VOLUNSINKCAMT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDTOCALLCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="YIELDTOMATCPCT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="ZEROCPNCNVRCRTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization">
                      <comment><![CDATA[RTG_COMM:Process organization data for role type other than issuer.]]></comment>
                      <Do>
                        <Node name="FinsRoleIssueParticipant" type="segment">
                          <comment><![CDATA[GT - 152705
Nested FINR to be added to FRIP]]></comment>
                          <condition><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "YES") && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code, "129"))
	return "FinsRoleIssueParticipant";
else if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "NO"))
	return "";
else if (!OneOf(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), "YES", "NO"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateParticipant", "Moodys_RDS_Instrument"), Strcat("--", "Wrong value in Config_Option against CreateParticipant  -  Moodys_RDS_Instrument. It is other than permitted value YES and NO used in Config_Option")), "");
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "FinsRoleIssueParticipant";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="FINSFinancialInstitutionRole" type="segment">
                            <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code))
	return "FINSFinancialInstitutionRole";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "FINSFinancialInstitutionRole";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "INST_MNEM , FINSRL_TYP";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INST_MNEM , FINSRL_TYP";]]></expr>
                            </Node>
                            <Node name="ACTSPYNGAGNTIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="AUTHUKINTERMEDIARYIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CALID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLAIMIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLIENTRSTIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLIENTSRVCTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CONTCTOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CROSSREFID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FinancialInstitutionIdentifier" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "INST_MNEM";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INST_MNEM";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <comment><![CDATA[GT 126071:- Added Match Key FIID1_ID_CTXT_FINSID]]></comment>
                                <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments.]]></comment>
                                <expr><![CDATA[return Strcat("2|CONCTNS|NESTED|FINSIDCTXTTYP|MDY|FINSID|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID, "|DATASRCID|MOODYS_RDS"));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FIIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINSIDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDY";]]></expr>
                                </Node>
                              </Node>
                              <Node name="GUCNT" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GUID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GUTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTSYMBOLSTATTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DAYSTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DFLTCORRBNKIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DLVPAYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ELECADDRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDBUSDYTME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLCONTCTTXT" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLSUBTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="FINSRLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="GLOBALDATAPROVIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MAILADDRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MSGFMTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NOFIXSETTLEDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PAYMETHTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFFINRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFIDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFISSCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PREFSETTLETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRINREGJURISID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="QICAPACITYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RCPTPAYTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SROJURISEFFDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTBUSDYTME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                              <Node name="INSERT_ONLY" type="attribute"/>
                            </Node>
                            <Node name="TRDRPTGMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="VALDAYSOFNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WEBPORTALIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="COMMCRTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSHSTLDAYSCNT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Organization]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date))
		return 
		Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
			else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINSINSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRLISSPRTID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FRRLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INITMARGINCPCT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTCITYNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRLTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTROUTINGID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTSTEPRVCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISIDOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSTYPGRPOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTCQTY" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTMEASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSUTPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCAMT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCPCT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PARTCURRCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PAYRECVTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PRIMRELIND" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PRTPURPTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Organization_Role_Code;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RELSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RELSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Organization]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date, 1, 10), "%Y-%M-%D");
		else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");



]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Organizations.Instrument_Organization.Effective_Date))
		return "Y";
		else
		return "";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Do>
                    </ForEach>
                  </Then>
                  <Else/>
                </If>
                <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute">
                  <Do>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5156439"))
	return StoreString("SF_IND", "SFINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5156638"))
	return StoreString("HY_IND", "HYBINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                    <Execute>
                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Rating_Attribute_Code, "5160447"))
	return StoreString("LD_IND", "LDBINDICATOR");
else
	return "";]]></expr>
                    </Execute>
                  </Do>
                </ForEach>
                <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating">
                  <comment><![CDATA[RTG_COMM: As per the data format, ratings for each identifier will be processed.]]></comment>
                  <sort order="ASC"><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date;]]></sort>
                  <Do>
                    <If>
                      <comment><![CDATA[RTG_COMM: For each issue, ratings, attached qualifiers, statistics, outlook and watch data is captured through each segement.]]></comment>
                      <expr><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_ID);]]></expr>
                      <Then>
                        <Block displayName="Set">
                          <Execute displayName="RatingCodeFilter">
                            <expr><![CDATA[return StoreString("RTNGCDEFLTR", If((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level) && (Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level == "UND")) && (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code) && OneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "534", "535")), Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "U"), If((OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level) && (Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Enhancement_Level == "INS")) && (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code) && OneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "534")), Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "I"), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code)));]]></expr>
                          </Execute>
                          <Execute displayName="RatingValue535NoSpaceFilter">
                            <expr><![CDATA[return StoreString("RTNGVAL535NSFLTR", If(OneHasValue(GetStringByKey("RTNGCDEFLTR")) && OneOf(GetStringByKey("RTNGCDEFLTR"), "535", "535U"), Translate(MoodysRDSETT, true, "MDY_RTVL_535_NOSPACE", If(OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), If(OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)), Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text), Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)));]]></expr>
                          </Execute>
                        </Block>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <Do>
                            <If>
                              <expr><![CDATA[return Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5156692");]]></expr>
                              <Then>
                                <Execute>
                                  <expr><![CDATA[return StoreString("WR_REASON", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text);]]></expr>
                                </Execute>
                              </Then>
                              <Else/>
                            </If>
                          </Do>
                        </ForEach>
                        <Node name="IssueRating" type="segment">
                          <comment><![CDATA[GT163062]]></comment>
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "IssueRating";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UPDATE";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRating";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute"/>
                          <Node name="COPY_TO" type="attribute"/>
                          <Node name="DUP_CHECK" type="attribute"/>
                          <Node name="ENDDATEIND" type="attribute"/>
                          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                          <Node name="ERROR" type="attribute">
                            <expr><![CDATA[return "N";]]></expr>
                          </Node>
                          <Node name="LOOKUP" type="attribute"/>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISRT_MATCH_12";]]></expr>
                          </Node>
                          <Node name="NESTED_ERR_LVL" type="attribute"/>
                          <Node name="NESTED_ERR_TXT" type="attribute"/>
                          <Node name="ONLY" type="attribute"/>
                          <Node name="PARENT_LINK" type="attribute"/>
                          <Node name="PUBLISH" type="attribute"/>
                          <Node name="SEGPROCESSEDIND" type="attribute"/>
                          <Node name="START_TMS_MATCH" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="TSATTRIBUTE" type="attribute"/>
                          <Node name="TSOPTION" type="attribute">
                            <expr><![CDATA[return "N";]]></expr>
                          </Node>
                          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                          <Node name="TSTOLERANCE" type="attribute"/>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ERVLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="MULTRTNGSALETYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NEXTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_13";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SECNDMRKTIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_15";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SECNDMRKTIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGEFFTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGEFFTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                              </Node>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="IssueRating" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueRating";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "ISS_RTNG_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute">
                              <expr><![CDATA[return "L";]]></expr>
                            </Node>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISRT_MATCH_12";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node displayName="MDYDBTNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="NESTED_ERR_LVL" type="attribute"/>
                              <Node name="NESTED_ERR_TXT" type="attribute"/>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDBTNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node displayName="MDYDEALNO" name="IssueIdentifier" type="segment">
                              <comment><![CDATA[RTGCOMM: removed match attribute to be in sync with U_003 changes.]]></comment>
                              <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number))
	return "IssueIdentifier";
else
	return "";]]></condition>
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "IssueIdentifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute"/>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "INSTR_ID";]]></expr>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ERGONOMICSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GLOBALUNIQIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="IDCTXTTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "MDYDEALNO";]]></expr>
                                </Node>
                              </Node>
                              <Node name="INSTRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTRSYMBOLSTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISIDOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSID" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Deal_number;]]></expr>
                                </Node>
                              </Node>
                              <Node name="ISSTENORTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSUSAGETYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LISTINGSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MERGEUNIQOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MKTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="MULTISEDOLSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="NOTTRADABLEIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ORIGDATAPROVID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ROOTSYMBOLMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="SRCECURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[return "Y";]]></expr>
                                </Node>
                              </Node>
                              <Node name="TRADERSYMBOLIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRDNGCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="TRGTCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="WHENISSUEDIND" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="RatingValue" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingValue";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="RatingSetDefinition" type="segment">
                                <Node name="ACTION" type="attribute">
                                  <expr><![CDATA[return "REFERENCE";]]></expr>
                                </Node>
                                <Node name="TYPE" type="attribute">
                                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                </Node>
                                <Node name="COPY_FROM" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="COPY_TO" type="attribute">
                                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                </Node>
                                <Node name="DUP_CHECK" type="attribute"/>
                                <Node name="ENDDATEIND" type="attribute"/>
                                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                <Node name="ERROR" type="attribute"/>
                                <Node name="LOOKUP" type="attribute"/>
                                <Node name="MATCH" type="attribute">
                                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_LVL" type="attribute">
                                  <expr><![CDATA[return "ERROR";]]></expr>
                                </Node>
                                <Node name="NESTED_ERR_TXT" type="attribute">
                                  <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                </Node>
                                <Node name="ONLY" type="attribute"/>
                                <Node name="PARENT_LINK" type="attribute"/>
                                <Node name="PUBLISH" type="attribute"/>
                                <Node name="SEGPROCESSEDIND" type="attribute"/>
                                <Node name="START_TMS_MATCH" type="attribute"/>
                                <Node name="TRANSLATE" type="attribute"/>
                                <Node name="TSATTRIBUTE" type="attribute"/>
                                <Node name="TSOPTION" type="attribute"/>
                                <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                <Node name="TSTOLERANCE" type="attribute"/>
                                <Node name="DATASRCID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="DATASTATTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="ENDTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="INSTMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="LASTCHGUSRID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETCURRCDE" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETDESC" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETMNEM" type="element">
                                  <Node name="VALUE" type="attribute">
                                    <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                  </Node>
                                </Node>
                                <Node name="RTNGSETNME" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETOID" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTBLTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGSETTYP" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="RTNGTENORMNEM" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                                <Node name="STARTTMS" type="element">
                                  <Node name="VALUE" type="attribute"/>
                                </Node>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RANKNUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGCDE" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGCDENUM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGVALUEOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATAREDISTRIBUTORID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ACTIVE";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERVLOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSRTNGOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTRTNGREVWUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTRTNGSALETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NEXTRTNGREVWDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCURRTYP" type="element">
                              <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                              <Node name="VALUE" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDEBTCLTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGDIRECTIONDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                              <Node name="VALUE" type="attribute">
                                <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGPURPTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSNRTYTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSTATTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return TimeStamp();]]></expr>
                              </Node>
                              <Node name="INSERT_ONLY" type="attribute">
                                <expr><![CDATA[return "Y";]]></expr>
                              </Node>
                            </Node>
                            <Node name="WATCHDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHEXPDTE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHREASTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WATCHSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSECINSTRIND" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                              </Node>
                              <Node name="TRANSLATE" type="attribute">
                                <expr><![CDATA[return "YES";]]></expr>
                              </Node>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRCDE" type="element">
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Currency_ISO_Code;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_ISRT: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGVALUEOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHEXPDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHREASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSECINSTRIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRating" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "IssueRating";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRating";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute"/>
                          <Node name="COPY_TO" type="attribute"/>
                          <Node name="DUP_CHECK" type="attribute"/>
                          <Node name="ENDDATEIND" type="attribute"/>
                          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="LOOKUP" type="attribute"/>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                          </Node>
                          <Node name="NESTED_ERR_LVL" type="attribute"/>
                          <Node name="NESTED_ERR_TXT" type="attribute"/>
                          <Node name="ONLY" type="attribute"/>
                          <Node name="PARENT_LINK" type="attribute"/>
                          <Node name="PUBLISH" type="attribute"/>
                          <Node name="SEGPROCESSEDIND" type="attribute"/>
                          <Node name="START_TMS_MATCH" type="attribute"/>
                          <Node name="TRANSLATE" type="attribute"/>
                          <Node name="TSATTRIBUTE" type="attribute"/>
                          <Node name="TSOPTION" type="attribute"/>
                          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                          <Node name="TSTOLERANCE" type="attribute"/>
                          <Node name="RatingValue" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "RatingValue";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "RTNG_CDE,RTNG_SET_OID,RTNG_VALUE_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.
GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(GetStringByKey("RTNGCDEFLTR"), Strcat("|RTNGVAL|", Strcat(GetStringByKey("RTNGVAL535NSFLTR"), "|DATASRCID|MOODYS_RDS"))));]]></expr>
                            </Node>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="RatingSetDefinition" type="segment">
                              <Node name="ACTION" type="attribute">
                                <expr><![CDATA[return "REFERENCE";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                              </Node>
                              <Node name="COPY_FROM" type="attribute">
                                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                              </Node>
                              <Node name="COPY_TO" type="attribute">
                                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                              </Node>
                              <Node name="DUP_CHECK" type="attribute"/>
                              <Node name="ENDDATEIND" type="attribute"/>
                              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                              <Node name="ERROR" type="attribute"/>
                              <Node name="LOOKUP" type="attribute"/>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_LVL" type="attribute">
                                <expr><![CDATA[return "ERROR";]]></expr>
                              </Node>
                              <Node name="NESTED_ERR_TXT" type="attribute">
                                <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                              </Node>
                              <Node name="ONLY" type="attribute"/>
                              <Node name="PARENT_LINK" type="attribute"/>
                              <Node name="PUBLISH" type="attribute"/>
                              <Node name="SEGPROCESSEDIND" type="attribute"/>
                              <Node name="START_TMS_MATCH" type="attribute"/>
                              <Node name="TRANSLATE" type="attribute"/>
                              <Node name="TSATTRIBUTE" type="attribute"/>
                              <Node name="TSOPTION" type="attribute"/>
                              <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                              <Node name="TSTOLERANCE" type="attribute"/>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="INSTMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETCURRCDE" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETDESC" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETMNEM" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGSETNME" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETTBLTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGSETTYP" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGTENORMNEM" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RANKNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGCDE" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGCDENUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGVALUEOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ERVLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTRTNGREVWUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="MULTRTNGSALETYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NEXTRTNGREVWDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCURRCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Currency_ISO_Code;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDEBTCLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGDIRECTIONTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Text;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGDIRECTIONTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Direction_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGID" type="element">
                            <comment><![CDATA[RTG_COMM:05122015 changed the field to rating ID as per Moodys confirmation received that is it unique per rating and the legacy sytem Moodys Unique Number is migrated to this value.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSNRTYTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Seniority_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATREASTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(GetStringByKey("WR_REASON")))
	return GetStringByKey("WR_REASON");
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Reason_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSYMBOLTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return GetStringByKey("RTNGVAL535NSFLTR");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSTATTYP" type="element">
                            <comment><![CDATA[GT 124664]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
		if ((Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID > "0"))
			return "ACTUAL";
		else
			return "DERIVED";
	else
		return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGVALUEOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGEFFTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGTERMINTMS" type="element">
                            <comment><![CDATA[GT 125379]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Termination_Local_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="SECNDMRKTIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Secondary_Market_Indicator;]]></expr>
                            </Node>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return TimeStamp();]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                          <Node name="UNDERLYENHCSALETYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shadow_Short_Description))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shadow_Short_Description;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCLASSTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Text;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGCLASSID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Number))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Class_Number;
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="WATCHDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHEXPDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHREASTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="WATCHSTATTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGSECINSTRIND" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Level;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Execute>
                          <expr><![CDATA[return StoreString("WR_REASON", "");]]></expr>
                        </Execute>
                        <Node name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if ((AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text))) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052"))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_QUAL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <comment><![CDATA[GC-40944]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute"/>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                        </Node>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <comment><![CDATA[RTG_COMM:As per the data format provided by the vendor, looping through each qualifier-endorsement,unsolicited etc are captured.]]></comment>
                          <Do>
                            <Node displayName="Unsolicited Indicator" name="ISRTRatingQualifier" type="segment">
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && (OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_TYP_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code)) && OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Text, Strcat("-", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text));]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "RTNG_AT_CD", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[	if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";
]]></expr>
                                </Node>
                              </Node>
                            </Node>
                            <Node displayName="Endorsement Indicator" name="ISRTRatingQualifier" type="segment">
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5156627")))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");
]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "EU Endorsement";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ENDORSEMENT INDICATOR";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";]]></expr>
                                </Node>
                              </Node>
                            </Node>
                            <Node displayName="UK Endorsement Indicator" name="ISRTRatingQualifier" type="segment">
                              <comment><![CDATA[GT 159594 : Added RTQL for 'UK Endorsement Indicator']]></comment>
                              <condition>
                                <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5170429")))
	return "ISRTRatingQualifier";
else
	return "";]]>
                              </condition>
                              <Node name="ACTION" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                              </Node>
                              <Node name="TYPE" type="attribute">
                                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                              </Node>
                              <Node name="MATCH" type="attribute">
                                <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                              </Node>
                              <Node name="ENDDATEIND" type="attribute">
                                <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                                <expr><![CDATA[return"O";
]]></expr>
                              </Node>
                              <Node name="ERROR" type="attribute">
                                <comment><![CDATA[GC-45360]]></comment>
                                <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                              </Node>
                              <Node name="ACRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="BNRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="CSTRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASRCID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="DATASTATTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "ACTIVE";]]></expr>
                                </Node>
                              </Node>
                              <Node name="ENDTMS" type="element">
                                <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute]]></comment>
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Rating_Attribute,GC-45360]]></comment>
                                  <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                                </Node>
                              </Node>
                              <Node name="FINRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="FINSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="GURTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="ISSRTNGOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGTMS" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="LASTCHGUSRID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="PPRTOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="RTNGQUALTXT" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code)))
	return Translate(MoodysRDSETT, true, "MDY_END_IND", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Code);
else
	return "UK Endorsement";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTNGQUALTYP" type="element">
                                <Node name="VALUE" type="attribute">
                                  <expr><![CDATA[return "UK ENDORSEMENT INDICATOR";]]></expr>
                                </Node>
                              </Node>
                              <Node name="RTQLOID" type="element">
                                <Node name="VALUE" type="attribute"/>
                              </Node>
                              <Node name="STARTTMS" type="element">
                                <Node name="VALUE" type="attribute">
                                  <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Rating_Attribute]]></comment>
                                  <expr><![CDATA[	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");
]]></expr>
                                </Node>
                                <Node name="INSERT_ONLY" type="attribute">
                                  <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date))
	return "Y";
	else 
	return "";]]></expr>
                                </Node>
                              </Node>
                            </Node>
                          </Do>
                        </ForEach>
                        <Node displayName="SFIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("SF_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute,GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating  for Structured Finance";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "SF INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";
]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node displayName="HYBIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("HY_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute,GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating  for Hybrid Instruments";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "HYBRID INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");

]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";
]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node displayName="LDIndicator" name="ISRTRatingQualifier" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (!Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "117052") && (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID) && OneHasValue(GetStringByKey("LD_IND"))))
	return "ISRTRatingQualifier";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "RTQL_MATCH_1";]]></expr>
                          </Node>
                          <Node name="ENDDATEIND" type="attribute">
                            <comment><![CDATA[Added ENDDATEIND=O as a part of GT 126209]]></comment>
                            <expr><![CDATA[return"O";
]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="ACRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="BNRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CSTRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date))
		return Transform2FTIDate(Strcat(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 1, 10), Strcat(" ", SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Termination_Date, 12, 8))), "YYYY-MM-DD hh:mm:ss");
	else
		return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="FINRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="FINSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GURTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSRTNGOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="PPRTOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGQUALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "Rating with Limited Default";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGQUALTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "LIMITED DEFAULT INDICATOR";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTQLOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <comment><![CDATA[GT 126209: Mapped termination date under Instrument_Attribute]]></comment>
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GT 126209: Mapped effective date under Instrument_Attribute]]></comment>
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");
	else
		return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[if (!OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Attributes.Instrument_Attribute.Effective_Date))
		return "Y";
	else
		return "";
]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRatingComment" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Initial_Rating_Indicator, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "IssueRatingComment";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRatingComment";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CMNTSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CMNTTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Initial_Rating_Indicator;]]></expr>
                            </Node>
                          </Node>
                          <Node name="COMMREASMNEM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "INITRTNG";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CREATEDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="CROSSREFID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GNCMOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GNCMTBLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISRT";]]></expr>
                            </Node>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LNNUM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "1";]]></expr>
                            </Node>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Node name="IssueRatingComment" type="segment">
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (AllHaveValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Office_ID, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "IssueRatingComment";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueRatingComment";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CMNTSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CMNTTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Office_ID;]]></expr>
                            </Node>
                          </Node>
                          <Node name="COMMREASMNEM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "RTNGOFFC";]]></expr>
                            </Node>
                          </Node>
                          <Node name="CREATEDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="CROSSREFID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GNCMOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GNCMTBLTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISRT";]]></expr>
                            </Node>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LNNUM" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "1";]]></expr>
                            </Node>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <ForEach recordType="Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute">
                          <comment><![CDATA[RTG_COMM:Process multiple Rating Outlooks as per data format through a loop.]]></comment>
                          <Do>
                            <If>
                              <expr><![CDATA[return OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5160019");]]></expr>
                              <Then>
                                <Node displayName="Outlook" name="ISSURatingOpinions" type="segment">
                                  <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Type_Code, "5160019"))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                                  <Node name="ACTION" type="attribute">
                                    <comment><![CDATA[GC-45360]]></comment>
                                    <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                                  </Node>
                                  <Node name="TYPE" type="attribute">
                                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                                  </Node>
                                  <Node name="ERROR" type="attribute">
                                    <comment><![CDATA[GC-45360]]></comment>
                                    <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                                  </Node>
                                  <Node name="RatingSetDefinition" type="segment">
                                    <Node name="ACTION" type="attribute">
                                      <expr><![CDATA[return "REFERENCE";]]></expr>
                                    </Node>
                                    <Node name="TYPE" type="attribute">
                                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                    </Node>
                                    <Node name="COPY_FROM" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="COPY_TO" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="DUP_CHECK" type="attribute"/>
                                    <Node name="ENDDATEIND" type="attribute"/>
                                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                    <Node name="ERROR" type="attribute"/>
                                    <Node name="LOOKUP" type="attribute"/>
                                    <Node name="MATCH" type="attribute">
                                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_LVL" type="attribute">
                                      <expr><![CDATA[return "ERROR";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_TXT" type="attribute">
                                      <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                                    </Node>
                                    <Node name="ONLY" type="attribute"/>
                                    <Node name="PARENT_LINK" type="attribute"/>
                                    <Node name="PUBLISH" type="attribute"/>
                                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                                    <Node name="START_TMS_MATCH" type="attribute"/>
                                    <Node name="TRANSLATE" type="attribute"/>
                                    <Node name="TSATTRIBUTE" type="attribute"/>
                                    <Node name="TSOPTION" type="attribute"/>
                                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                    <Node name="TSTOLERANCE" type="attribute"/>
                                    <Node name="DATASRCID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="DATASTATTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="ENDTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="INSTMNEM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGUSRID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETCURRCDE" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETDESC" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETMNEM" type="element">
                                      <Node name="VALUE" type="attribute">
                                        <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                                      </Node>
                                    </Node>
                                    <Node name="RTNGSETNME" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETTBLTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGTENORMNEM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="STARTTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                  </Node>
                                  <Node disabled="1" name="RatingValue" type="segment">
                                    <Node name="ACTION" type="attribute">
                                      <expr><![CDATA[return "REFERENCE";]]></expr>
                                    </Node>
                                    <Node name="TYPE" type="attribute">
                                      <expr><![CDATA[return "RatingValue";]]></expr>
                                    </Node>
                                    <Node name="COPY_FROM" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="COPY_TO" type="attribute">
                                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                    </Node>
                                    <Node name="DUP_CHECK" type="attribute"/>
                                    <Node name="ENDDATEIND" type="attribute"/>
                                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                    <Node name="ERROR" type="attribute"/>
                                    <Node name="LOOKUP" type="attribute"/>
                                    <Node name="MATCH" type="attribute">
                                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_LVL" type="attribute">
                                      <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                      <expr><![CDATA[return "ERROR";]]></expr>
                                    </Node>
                                    <Node name="NESTED_ERR_TXT" type="attribute">
                                      <comment><![CDATA[RTG_COMM17082015:Nested Error Text added for informative reasons.]]></comment>
                                      <expr><![CDATA[return Strcat("1|CONCTNS|NESTED|RTNGSETMNEM|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, Strcat("|RTNGVAL|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text, "|DATASRCID|MOODYS_RDS"))));]]></expr>
                                    </Node>
                                    <Node name="ONLY" type="attribute"/>
                                    <Node name="PARENT_LINK" type="attribute"/>
                                    <Node name="PUBLISH" type="attribute"/>
                                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                                    <Node name="START_TMS_MATCH" type="attribute"/>
                                    <Node name="TRANSLATE" type="attribute"/>
                                    <Node name="TSATTRIBUTE" type="attribute"/>
                                    <Node name="TSOPTION" type="attribute"/>
                                    <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                    <Node name="TSTOLERANCE" type="attribute"/>
                                    <Node name="RatingSetDefinition" type="segment">
                                      <Node name="ACTION" type="attribute">
                                        <expr><![CDATA[return "REFERENCE";]]></expr>
                                      </Node>
                                      <Node name="TYPE" type="attribute">
                                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                                      </Node>
                                      <Node name="COPY_FROM" type="attribute">
                                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                      </Node>
                                      <Node name="COPY_TO" type="attribute">
                                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                                      </Node>
                                      <Node name="DUP_CHECK" type="attribute"/>
                                      <Node name="ENDDATEIND" type="attribute"/>
                                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                                      <Node name="ERROR" type="attribute"/>
                                      <Node name="LOOKUP" type="attribute"/>
                                      <Node name="MATCH" type="attribute">
                                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                                      </Node>
                                      <Node name="NESTED_ERR_LVL" type="attribute">
                                        <expr><![CDATA[return "ERROR";]]></expr>
                                      </Node>
                                      <Node name="NESTED_ERR_TXT" type="attribute">
                                        <expr><![CDATA[return Strcat("1|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code, "|DATASRCID|MOODYS_RDS"));]]></expr>
                                      </Node>
                                      <Node name="ONLY" type="attribute"/>
                                      <Node name="PARENT_LINK" type="attribute"/>
                                      <Node name="PUBLISH" type="attribute"/>
                                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                                      <Node name="START_TMS_MATCH" type="attribute"/>
                                      <Node name="TRANSLATE" type="attribute"/>
                                      <Node name="TSATTRIBUTE" type="attribute"/>
                                      <Node name="TSOPTION" type="attribute"/>
                                      <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                                      <Node name="TSTOLERANCE" type="attribute"/>
                                      <Node name="DATASRCID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="DATASTATTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="ENDTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="INSTMNEM" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="LASTCHGTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="LASTCHGUSRID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETCURRCDE" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETDESC" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETMNEM" type="element">
                                        <Node name="VALUE" type="attribute">
                                          <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Type_Code;]]></expr>
                                        </Node>
                                      </Node>
                                      <Node name="RTNGSETNME" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETOID" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETTBLTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGSETTYP" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="RTNGTENORMNEM" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                      <Node name="STARTTMS" type="element">
                                        <Node name="VALUE" type="attribute"/>
                                      </Node>
                                    </Node>
                                    <Node name="DATASRCID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="DATASTATTYP" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="ENDTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="LASTCHGUSRID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RANKNUM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGCDE" type="element">
                                      <Node name="VALUE" type="attribute">
                                        <expr><![CDATA[if (OneHasValue(Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text)))
	return Translate(MoodysRDSETT, true, "MDY_RTVL_TO_RTVL", Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text);
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Rating_Text;]]></expr>
                                      </Node>
                                    </Node>
                                    <Node name="RTNGCDENUM" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGDESC" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGNME" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGSETOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="RTNGVALUEOID" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                    <Node name="STARTTMS" type="element">
                                      <Node name="VALUE" type="attribute"/>
                                    </Node>
                                  </Node>
                                  <Node name="DATASRCID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="DATASTATTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return "ACTIVE";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="ENDTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <comment><![CDATA[GC-45360]]></comment>
                                      <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="INSTMNEM" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="INSTRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="INSTRISSRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="LASTCHGTMS" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="LASTCHGUSRID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTNGCURRTYP" type="element">
                                    <comment><![CDATA[RTG_RTOP: Extended the logic by not comparing the domain value 19140.]]></comment>
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                                    </Node>
                                    <Node name="TRANSLATE" type="attribute">
                                      <expr><![CDATA[return "YES";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONAGENCYNME" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTNGOPINIONEFFTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Effective_Date, 1, 10), "%Y-%M-%D");]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONEXPTMS" type="element">
                                    <comment><![CDATA[GT 125264]]></comment>
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Termination_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONSTATTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text;
else
	return "";]]></expr>
                                    </Node>
                                    <Node name="TRANSLATE" type="attribute">
                                      <expr><![CDATA[return "YES";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONTXT" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Rating_Attributes.Instrument_Rating_Attribute.Rating_Attribute_Text;]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGOPINIONTYP" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                                    </Node>
                                  </Node>
                                  <Node name="RTNGSETOID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="RTOPOID" type="element">
                                    <Node name="VALUE" type="attribute"/>
                                  </Node>
                                  <Node name="STARTTMS" type="element">
                                    <Node name="VALUE" type="attribute">
                                      <expr><![CDATA[return TimeStamp();]]></expr>
                                    </Node>
                                    <Node name="INSERT_ONLY" type="attribute">
                                      <expr><![CDATA[return "Y";]]></expr>
                                    </Node>
                                  </Node>
                                </Node>
                              </Then>
                            </If>
                          </Do>
                        </ForEach>
                        <Node displayName="Watch" name="ISSURatingOpinions" type="segment">
                          <comment><![CDATA[RTG_COMM: Process Watch details.]]></comment>
                          <condition>
                            <comment><![CDATA[GT 124664]]></comment><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Code, Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Code) && OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Moodys_Rating_ID))
	return "ISSURatingOpinions";
else
	return "";]]>
                          </condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GC-45360]]></comment>
                            <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="RatingSetDefinition" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments]]></comment>
                              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|MDYSRTNG|RTNGVAL|", Strcat(GetStringByKey("RTNGCDEFLTR"), "|DATASRCID|MOODYS_RDS"));]]></expr>
                            </Node>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETMNEM" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey("RTNGCDEFLTR");]]></expr>
                              </Node>
                            </Node>
                            <Node name="RTNGSETNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETTBLTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGSETTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="RTNGTENORMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="IssueIdentifier" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueIdentifier";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute"/>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ID";]]></expr>
                            </Node>
                            <Node name="DUP_CHECK" type="attribute"/>
                            <Node name="ENDDATEIND" type="attribute"/>
                            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                            <Node name="ERROR" type="attribute"/>
                            <Node name="LOOKUP" type="attribute"/>
                            <Node name="MATCH" type="attribute"/>
                            <Node name="NESTED_ERR_LVL" type="attribute"/>
                            <Node name="NESTED_ERR_TXT" type="attribute"/>
                            <Node name="ONLY" type="attribute"/>
                            <Node name="PARENT_LINK" type="attribute"/>
                            <Node name="PUBLISH" type="attribute"/>
                            <Node name="SEGPROCESSEDIND" type="attribute"/>
                            <Node name="START_TMS_MATCH" type="attribute"/>
                            <Node name="TRANSLATE" type="attribute"/>
                            <Node name="TSATTRIBUTE" type="attribute"/>
                            <Node name="TSOPTION" type="attribute"/>
                            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
                            <Node name="TSTOLERANCE" type="attribute"/>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ERGONOMICSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="GLOBALUNIQIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="IDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDYDBTNO";]]></expr>
                              </Node>
                            </Node>
                            <Node name="INSTRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INSTRSYMBOLSTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISIDOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
                              </Node>
                            </Node>
                            <Node name="ISSTENORTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ISSUSAGETYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LISTINGSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MERGEUNIQOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MKTOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="MULTISEDOLSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="NOTTRADABLEIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ORIGDATAPROVID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ROOTSYMBOLMNEM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="SRCECURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRADERSYMBOLIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRDNGCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="TRGTCURRCDE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="WHENISSUEDIND" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <comment><![CDATA[GC-45360]]></comment>
                              <expr><![CDATA[if (Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="INSTMNEM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRISSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGCURRTYP" type="element">
                            <comment><![CDATA[RTG_RTOP: Extended the logic by not comparing the domain value 19140.]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code) && !Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code, "19140"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Currency_Capd_Code;
else
	return "";]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONAGENCYNME" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTNGOPINIONEFFTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Date, 1, 10), "%Y-%M-%D");
else if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Local_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Local_Date, 1, 10), "%Y-%M-%D");
else
	return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONEXPTMS" type="element">
                            <comment><![CDATA[GT 125264]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return DateFromString(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date, 1, 10), "%Y-%M-%D");
else
	return SetSendNullFlag("");]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONSTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Short_Description;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Short_Description;]]></expr>
                            </Node>
                            <Node name="TRANSLATE" type="attribute">
                              <expr><![CDATA[return "YES";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Date))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Termination_Txt;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Instrument_Watchlist.Watchlist_Direction_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGOPINIONTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "WATCH";]]></expr>
                            </Node>
                          </Node>
                          <Node name="RTNGSETOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="RTOPOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return TimeStamp();]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                        </Node>
                        <Block displayName="Reset">
                          <Execute displayName="RatingCodeFilter">
                            <expr><![CDATA[return StoreString("RTNGCDEFLTR", "");]]></expr>
                          </Execute>
                          <Execute displayName="RatingValue535NoSpaceFilter">
                            <expr><![CDATA[return StoreString("RTNGVAL535NSFLTR", "");]]></expr>
                          </Execute>
                        </Block>
                      </Then>
                    </If>
                    <If>
                      <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                      <Then>
                        <Node name="IssueStatistic" type="segment">
                          <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shelf_Type_Text))
	return "IssueStatistic";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueStatistic";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute"/>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="DENOMCURRCDE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return DateFromString(SubString(TimeStamp(), 1, 10), "%M-%D-%Y");]]></expr>
                            </Node>
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATCHARVALTXT" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Shelf_Type_Text;]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATDEFID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "SHELFREG";]]></expr>
                            </Node>
                          </Node>
                          <Node name="STATID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATINTVALNUM" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALCAMT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALDTE" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STATVALTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                        </Node>
                        <Node name="IssueClassification" type="segment">
                          <condition><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description))
	return "IssueClassification";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "UPDATE";
else
	return "UNKNOWN";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueClassification";]]></expr>
                          </Node>
                          <Node name="ERROR" type="attribute">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return "N";
else
	return "";]]></expr>
                          </Node>
                          <Node name="CLSFOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="CLSFPURPTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="IndustryClassification" type="segment">
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IndustryClassification";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "CLSF_OID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "CLSF_OID";]]></expr>
                            </Node>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "INCL_VALUE";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_LVL" type="attribute">
                              <expr><![CDATA[return "ERROR";]]></expr>
                            </Node>
                            <Node name="NESTED_ERR_TXT" type="attribute">
                              <comment><![CDATA[GT-121453
Changing notification id to the appropriate one as per the nested segments.]]></comment>
                              <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|MDYDBID|CLVALUE|", Strcat(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description, "|DATASRCID|MOODYS_RDS"));]]></expr>
                            </Node>
                            <Node name="CLVALUE" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;]]></expr>
                              </Node>
                            </Node>
                            <Node name="INDUSCLSETID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "MDYDBID";]]></expr>
                              </Node>
                            </Node>
                            <Node name="LEVELNUM" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "1";]]></expr>
                              </Node>
                            </Node>
                            <Node name="CLDESC" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLNME" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLSFOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="CLVALUE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASRCID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="DATASTATTYP" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="ENDTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="INDUSCLSETID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LASTCHGUSRID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="LEVELNUM" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRNTCLSFOID" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="PRNTCLVALUE" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                            <Node name="STARTTMS" type="element">
                              <Node name="VALUE" type="attribute"/>
                            </Node>
                          </Node>
                          <Node name="CLVALUE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.Security_Class_Short_Description;]]></expr>
                            </Node>
                          </Node>
                          <Node name="DATAREDISTRIBUTORID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASRCID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="DATASTATTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ACTIVE";]]></expr>
                            </Node>
                          </Node>
                          <Node name="EINCOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ENDTMS" type="element">
                            <comment><![CDATA[GT#126400 - Action Indicator Mapped]]></comment>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[if (OneHasValue(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action) && Strcmp(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_Ratings.Instrument_Rating.action, "Delete"))
	return TimeStamp();
else
	return "";]]></expr>
                            </Node>
                          </Node>
                          <Node name="GUCNT" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GUID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="GUTYP" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="INDUSCLSETID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "MDYDBID";]]></expr>
                            </Node>
                          </Node>
                          <Node name="INSTRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISIDOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSCLSFDESC" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="ISSCLSFOID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGTMS" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="LASTCHGUSRID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="NLSCDE" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ENGLISH";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ORIGDATAPROVID" type="element">
                            <Node name="VALUE" type="attribute"/>
                          </Node>
                          <Node name="STARTTMS" type="element">
                            <Node name="INSERT_ONLY" type="attribute">
                              <expr><![CDATA[return "Y";]]></expr>
                            </Node>
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Then>
                      <Else/>
                    </If>
                  </Do>
                </ForEach>
              </Node>
            </Then>
            <Else/>
          </If>
        </Do>
      </ForEach>
    </OutputDef>
  </Output>
  <Translation>
    <table uri="./../../Config_Options_NuveenMuni.ttl">
      <import name="Config_Options"/>
    </table>
    <table uri="MoodysRDSETT_NuveenMuni.ttl">
      <import name="MoodysRDSETT"/>
    </table>
  </Translation>
  <Expressions>
    <Expression enabled="true" ident="KeyStreaming">
      <expr><![CDATA[if (StrContainsOneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "ISI", "IS2", "IS3", "IS4", "IS5", "IS6"))
	if (((Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "US") || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "CA")) || Strcmp(SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 1, 2), "PR")) && !IsAlpha(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 3))
		return SubString(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value, 3, 9);
	else
		return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;
else if (StrContainsOneOf(Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.ID_Type_Short_Description, "CUS", "CU2", "CU3", "CU4", "CU5"))
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID_Value;
else
	return Instrument_Roots.Instrument_Root.Instrument_Identifiers.Instrument_Identifier.Instrument_ID;]]></expr>
    </Expression>
    <Expression enabled="false" ident="RecordIdentifier">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
    <Expression enabled="false" ident="GSDMFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
    <Expression enabled="false" ident="VDSFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
    <Expression enabled="false" ident="VDDBFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
  </Expressions>
</MappingDef>
