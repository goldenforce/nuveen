<?xml version="1.0" encoding="UTF-8"?>

<MappingDef type="MSF" version="1.0">
  <Options>
    <Option key="MappingComment"/>
    <Option key="MappingVersion">8.99.32.0</Option>
    <Option key="MappingAuthor"/>
    <Option key="MessageTranslatorVersion">8.1.1.1</Option>
    <Option key="RCode"/>
    <Option key="LastChangedTms">2024-07-29 at 11:52:11 EDT</Option>
    <Option key="MappingDesignerVersion">8.8.1.10</Option>
  </Options>
  <Input vendorType="BB">
    <Options>
      <Option key="DecimalSeparator">.</Option>
      <Option key="TrimFields">BOTH</Option>
      <Option key="CommentMarker">#</Option>
      <Option key="NullIdentifiers">N.A.</Option>
      <Option key="NotEntitledIndicator"/>
      <Option key="QuotationMark"/>
      <Option key="DDLName"/>
      <Option key="IsSingleCharDataDelimiter">TRUE</Option>
      <Option key="InputDataDelimiter">~|</Option>
      <Option key="TimeStampFormat">%Y%M%D%H%I%S.%f</Option>
      <Option key="EscapeCharacter"/>
      <Option key="MessageType"/>
      <Option key="DateTimeFormat">%Y%M%D%H%I%S</Option>
    </Options>
    <VendorDef name="Import">
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDatachangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.INSTRUMENTSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDatainstrumentSymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A numeric value that represents an attribute of an instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.RATINGDATAITEMID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDataratingDataItemId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The data value representation of an attribute of an instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.DATAVALUE" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDatadataValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A unique maturityspecific identifier (International Securities Identification Number)." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.ISIN" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDataISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="(CUSIP) Committee for Uniform Security Identification Procedures identifier assigned by CUSIP Global Services." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.CUSIP" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDataCUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="CUSIP International Numbering System identifier assigned by the CUSIP Global Services." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.CINS" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDataCINS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTLEVELDATA.SECURITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentLevelDatasecuritySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorchangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.INSTRUMENTSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorinstrumentSymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Sector code refers to the division of the market by type of issuer" excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.SECTORCODE" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorsectorCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Subsector code refers to the subdivision of the Corporates and Structured Finance sectors." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.SUBSECTORCODE" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorsubSectorCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Represents the industry code within the S&amp;P Sector and Subsector Industry Classification." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.INDUSTRYCODE" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorindustryCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Represent the primary Sector and Subsector with the S&amp;P Industry Classification." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.PRIMARYFLAG" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorprimaryFlag" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A unique maturityspecific identifier (International Securities Identification Number)." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.ISIN" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="(CUSIP) Committee for Uniform Security Identification Procedures identifier assigned by CUSIP Global Services." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.CUSIP" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorCUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="CUSIP International Numbering System identifier assigned by the CUSIP Global Services." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.CINS" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorCINS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTSECTOR.SECURITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentSectorsecuritySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDatachangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.SECURITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDatasecuritySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A numeric value that represents an attribute of an instrument." excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.RATINGDATAITEMID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDataratingDataItemId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A numeric value that represents an attribute of an instrument." excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.DATAVALUE" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDatadataValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A unique maturityspecific identifier (International Securities Identification Number)." excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.ISIN" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDataISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="(CUSIP) Committee for Uniform Security Identification Procedures identifier assigned by CUSIP Global Services." excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.CUSIP" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDataCUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="CUSIP International Numbering System identifier assigned by the CUSIP Global Services." excludedNullIdentifiers="" ident="SPSECURITYLEVELDATA.CINS" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spSecurityLevelDataCINS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPRATINGDATA.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatachangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P unique identifier for a rating record." excludedNullIdentifiers="" ident="SPRATINGDATA.RATINGDETAILID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataratingDetailId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each organization (issuer)." excludedNullIdentifiers="" ident="SPRATINGDATA.ENTITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataentitySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPRATINGDATA.INSTRUMENTSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatainstrumentSymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPRATINGDATA.SECURITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatasecuritySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Describes if the record is for an entity (2), instrument (39), or maturity (21)." excludedNullIdentifiers="" ident="SPRATINGDATA.OBJECTTYPEID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataobjectTypeId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique identifier of the rating organization debt type." excludedNullIdentifiers="" ident="SPRATINGDATA.ORGDEBTTYPECODE" length="10" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataorgDebtTypeCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Code identifying the type of ratings." excludedNullIdentifiers="" ident="SPRATINGDATA.RATINGTYPECODE" length="25" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataratingTypeCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Combines the rating symbol, rating qualifier, regulatory qualifier, and rating suffixes together in one field." excludedNullIdentifiers="" ident="SPRATINGDATA.CURRENTRATINGSYMBOL" length="50" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatacurrentRatingSymbol" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the current rating for an entity" excludedNullIdentifiers="" ident="SPRATINGDATA.RATINGSYMBOL" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataratingSymbol" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Date the rating was assigned; time zone is in Eastern Time (ET)." excludedNullIdentifiers="" ident="SPRATINGDATA.RATINGDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataratingDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the current CreditWatch value." excludedNullIdentifiers="" ident="SPRATINGDATA.CREDITWATCH" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatacreditwatch" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the current Outlook value." excludedNullIdentifiers="" ident="SPRATINGDATA.OUTLOOK" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataoutlook" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the date for when the Current CreditWatch value was assigned." excludedNullIdentifiers="" ident="SPRATINGDATA.CREDITWATCHDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatacreditwatchDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the date for when the Current Outlook value was assigned." excludedNullIdentifiers="" ident="SPRATINGDATA.OUTLOOKDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataoutlookDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the most prior rating for an entity" excludedNullIdentifiers="" ident="SPRATINGDATA.PRIORRATINGSYMBOL" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatapriorRatingSymbol" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the prior CreditWatch value." excludedNullIdentifiers="" ident="SPRATINGDATA.PRIORCREDITWATCH" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatapriorCreditwatch" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the prior Outlook value." excludedNullIdentifiers="" ident="SPRATINGDATA.PRIOROUTLOOK" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatapriorOutlook" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The qualifier subscript for the rating, such as L, pi, etc. A rating may or may not have a qualifier." excludedNullIdentifiers="" ident="SPRATINGDATA.RATINGQUALIFIER" length="10" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataratingQualifier" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="When deemed by S&amp;P Global Ratings to be a structured finance transaction under the guidelines of the European Regulation on Credit Rating Agencies (Regulation (EC) No 1060/2009), append qualifier to all ratings fields. These apply only to current ratings." excludedNullIdentifiers="" ident="SPRATINGDATA.REGULATORYQUALIFIER" length="300" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataregulatoryQualifier" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Indicates if the rating action was disseminated through the feed due to a New Rating, Upgrade, Downgrade, or Revised rating." excludedNullIdentifiers="" ident="SPRATINGDATA.RATINGACTIONWORD" length="50" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataratingActionWord" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field flags when there is an update which reflects a change in the CreditWatch or Outlook as it relates to the current rating." excludedNullIdentifiers="" ident="SPRATINGDATA.CWOLACTIONWORD" length="50" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataCWOLActionWord" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field flags if the current action is associated to CreditWatch or Outlook." excludedNullIdentifiers="" ident="SPRATINGDATA.CWOLIND" length="2" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatacwolInd" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Date on which the principal amount of a debt security becomes due and payable." excludedNullIdentifiers="" ident="SPRATINGDATA.MATURITYDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDatamaturityDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="(CUSIP) Committee for Uniform Security Identification Procedures identifier assigned by CUSIP Global Services." excludedNullIdentifiers="" ident="SPRATINGDATA.CUSIP" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataCUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="CUSIP International Numbering System identifier assigned by the CUSIP Global Services." excludedNullIdentifiers="" ident="SPRATINGDATA.CINS" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataCINS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A unique maturityspecific identifier (International Securities Identification Number)." excludedNullIdentifiers="" ident="SPRATINGDATA.ISIN" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="" excludedNullIdentifiers="" ident="SPRATINGDATA.CIQSECURITYID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataciqSecurityID" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="" excludedNullIdentifiers="" ident="SPRATINGDATA.CIQINSTRUMENTID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataciqInstrumentID" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPRATINGLEVELDATA.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingLevelDatachangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P unique identifier for a rating record." excludedNullIdentifiers="" ident="SPRATINGLEVELDATA.RATINGDETAILID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingLevelDataratingDetailId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A numeric value that represents an attribute of a rating." excludedNullIdentifiers="" ident="SPRATINGLEVELDATA.RATINGDATAITEMID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingLevelDataratingDataItemId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The data value representation of an attribute of a rating." excludedNullIdentifiers="" ident="SPRATINGLEVELDATA.DATAVALUE" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingLevelDatadataValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatachangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P unique row identifier for an assessment record." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ASSESSMENTDETAILID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataassessmentDetailId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each organization (issuer)." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ENTITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataentitySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.INSTRUMENTSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatainstrumentSymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.SECURITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatasecuritySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Describes if the record is for an entity (2), instrument (39), or maturity (21)." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.OBJECTTYPEID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataobjectTypeId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique identifier of the rating organization debt type." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ORGDEBTTYPECODE" length="10" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataorgDebtTypeCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Code identifying the type of assessment." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ASSESSMENTTYPECODE" length="25" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataassessmentTypeCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Combines the assessment symbol, regulatory qualifier, and assessment suffixes together in one field." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CURRENTASSESSMENTSYMBOL" length="50" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatacurrentAssessmentSymbol" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Current value of the assessment." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ASSESSMENTSYMBOL" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataassessmentSymbol" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Date the assessment was assigned; time zone is in Eastern Time (ET)." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ASSESSMENTDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataassessmentDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the current CreditWatch value." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CREDITWATCH" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatacreditwatch" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the current Outlook value." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.OUTLOOK" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataoutlook" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the date for when the Current CreditWatch value was assigned; time zone is in Eastern Time (ET)." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CREDITWATCHDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatacreditwatchDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the date for when the Current Outlook value was assigned; time zone is in Eastern Time (ET)." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.OUTLOOKDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataoutlookDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Prior value of the assessment." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.PRIORASSESSMENTSYMBOL" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatapriorAssessmentSymbol" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the prior CreditWatch value." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.PRIORCREDITWATCH" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatapriorCreditwatch" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field provides the prior Outlook value." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.PRIOROUTLOOK" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatapriorOutlook" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The qualifier subscript for the assessment,such as L, pi, etc. An assessment may or may not have a qualifier." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ASSESSMENTQUALIFIER" length="10" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataassessmentQualifier" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="When deemed by S&amp;P Global Ratings to be a structured finance transaction under the guidelines of the European Regulation on Credit Rating Agencies (Regulation (EC) No 1060/2009), append qualifier to all ratings fields. These apply only to current ratings." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.REGULATORYQUALIFIER" length="300" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataregulatoryQualifier" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Assessment Action Word Indicates the type of assessment action which caused the assessment value to be disseminated through the feed." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ASSESSMENTACTIONWORD" length="50" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataassessmentActionWord" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Indicates the type of assessment action which caused the assessment value to be disseminated through the feed." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CWOLACTIONWORD" length="50" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataCWOLActionWord" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This field flags if the current action is associated to CreditWatch or Outlook." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CWOLIND" length="2" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatacwolInd" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Date on which the principal amount of a debt security becomes due and payable." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.MATURITYDATE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDatamaturityDate" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="(CUSIP) Committee for Uniform Security Identification Procedures identifier assigned by CUSIP Global Services." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CUSIP" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataCUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="CUSIP International Numbering System identifier assigned by the CUSIP Global Services." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CINS" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataCINS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A unique maturityspecific identifier (International Securities Identification Number)." excludedNullIdentifiers="" ident="SPASSESSMENTDATA.ISIN" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P Capital IQ identifier that represents a securityId" excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CIQSECURITYID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataciqSecurityID" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P Capital IQ identifier that represents a instrumentId" excludedNullIdentifiers="" ident="SPASSESSMENTDATA.CIQINSTRUMENTID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataciqInstrumentID" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPASSESSMENTLEVELDATA.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentLevelDatachangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P unique row identifier for an assessment record." excludedNullIdentifiers="" ident="SPASSESSMENTLEVELDATA.ASSESSMENTDETAILID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentLevelDataassessmentDetailId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A numeric value that represents an attribute of an assessment." excludedNullIdentifiers="" ident="SPASSESSMENTLEVELDATA.ASSESSMENTDATAITEMID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentLevelDataassessmentDataItemId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The data value representation of an attribute of an assessment." excludedNullIdentifiers="" ident="SPASSESSMENTLEVELDATA.DATAVALUE" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentLevelDatadataValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.CHANGEBIT" length="1" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntitychangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.INSTRUMENTSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntityinstrumentSymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Code identifying the role type for a participant of a specific Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.ROLETYPECODE" length="100" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntityroleTypeCode" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each organization (issuer)." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.ENTITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntityentitySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="A unique maturityspecific identifier (International Securities Identification Number)." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.ISIN" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntityISIN" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="(CUSIP) Committee for Uniform Security Identification Procedures identifier assigned by CUSIP Global Services." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.CUSIP" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntityCUSIP" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="CUSIP International Numbering System identifier assigned by the CUSIP Global Services." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.CINS" length="20" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntityCINS" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Unique and proprietary S&amp;P Global Ratings identifier for each Instrument." excludedNullIdentifiers="" ident="SPINSTRUMENTTOENTITY.SECURITYSYMBOLVALUE" length="200" mandatory="false" mapable="true" match="false" multiple="false" name="spInstrumentToEntitysecuritySymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Change Indicator" excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.CHANGEBIT" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifierchangebit" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="S&amp;P unique row identifier for a symbol record." excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.SYMBOLID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifiersymbolId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The symbol type ID for CUSIP, ISIN etc." excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.SYMBOLTYPEID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifiersymbolTypeId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Provides the CUSIP, ISIN etc." excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.SYMBOLVALUE" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifiersymbolValue" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="This value represents a CIQ CompanyId, InstrumentID, or SecurityID depending on the SymbolTypeID" excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.OBJECTID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifierObjectId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="Identifies the CIQ Company ID related to a security or instrument." excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.RELATEDCOMPANYID" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifierrelatedCompanyId" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The activeFlag will be set to 1 if the identifier is active and set to 0 when the identifier is no longer applicable for the objectId referenced." excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.ACTIVEFLAG" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifieractiveFlag" pattern="" pos="0" readonly="false" type="String"/>
      <field decimals="0" desc="The primaryFlag identifies the primary S&amp;P Ratings Entity when more than one entitySymbolValue is linked to a CIQ CompanyID." excludedNullIdentifiers="" ident="SPRATINGIDENTIFIER.PRIMARYFLAG" length="255" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingIdentifierprimaryFlag" pattern="" pos="0" readonly="false" type="String"/>
      <record desc="" ident="SPINSTRUMENTLEVELDATA.BULKISIN" mandatory="false" mapable="true" multiple="true" name="spInstrumentLevelDataBULKISIN">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="BULKISIN" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="BULKISIN" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="" ident="SPINSTRUMENTSECTOR.BULKISIN" mandatory="false" mapable="true" multiple="true" name="spInstrumentSectorBULKISIN">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="BULKISIN" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="BULKISIN" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="" ident="SPSECURITYLEVELDATA.BULKISIN" mandatory="false" mapable="true" multiple="true" name="spSecurityLevelDataBULKISIN">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="BULKISIN" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="BULKISIN" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="" ident="SPRATINGDATA.BULKISIN" mandatory="false" mapable="true" multiple="true" name="spRatingDataBULKISIN">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="BULKISIN" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="BULKISIN" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="" ident="SPASSESSMENTDATA.BULKISIN" mandatory="false" mapable="true" multiple="true" name="spAssessmentDataBULKISIN">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="BULKISIN" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="BULKISIN" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="" ident="SPINSTRUMENTTOENTITY.BULKISIN" mandatory="false" mapable="true" multiple="true" name="spInstrumentToEntityBULKISIN">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="BULKISIN" length="1000" mandatory="false" mapable="true" match="false" multiple="false" name="BULKISIN" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="It indicates the regualtory information of the rating" ident="SPASSESSMENTDATA.REGULATORYINDICATOR" mandatory="false" mapable="true" multiple="true" name="spAssessmentDataregulatoryIndicator">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="SPASSESSMENTDATA.REGULATORYINDICATOR" length="300" mandatory="false" mapable="true" match="false" multiple="false" name="spAssessmentDataregulatoryIndicator" pattern="" pos="0" readonly="false" type="String"/>
      </record>
      <record desc="It indicates the regualtory information of the rating" ident="SPRATINGDATA.REGULATORYINDICATOR" mandatory="false" mapable="true" multiple="true" name="spRatingDataregulatoryIndicator">
        <field decimals="0" desc="" excludedNullIdentifiers="" ident="SPRATINGDATA.REGULATORYINDICATOR" length="300" mandatory="false" mapable="true" match="false" multiple="false" name="spRatingDataregulatoryIndicator" pattern="" pos="0" readonly="false" type="String"/>
      </record>
    </VendorDef>
    <Layout>
      <Override/>
      <record ref="Import"/>
    </Layout>
  </Input>
  <Output>
    <Options>
      <Option key="TimeStampOutputFormat">%M-%D-%Y %H:%I:%S.%f %A</Option>
      <Option key="DateTimeOutputFormat">%M-%D-%Y %H:%I:%S %A</Option>
      <Option key="OutputEncoding">UTF-8</Option>
      <Option key="DefaultEmptyNumericsToZero">FALSE</Option>
      <Option key="AddTZIndicators">true</Option>
      <Option key="AddVendorMnemonic">true</Option>
    </Options>
    <MappingFragments/>
    <OutputDef>
      <Node displayName="STAGING" messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "Y") && OneHasValue(spInstrumentLevelDatainstrumentSymbolValue, spSecurityLevelDatasecuritySymbolValue, spInstrumentSectorinstrumentSymbolValue, spInstrumentToEntityinstrumentSymbolValue, spRatingDataratingDetailId, spAssessmentDataassessmentDetailId,  spAssessmentLevelDataassessmentDetailId, spRatingIdentifiersymbolId, spRatingLevelDataratingDetailId))
	return "STAGING";
else
	return "";]]></condition>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "guest";]]></expr>
        </Node>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "Y") && OneHasValue(spInstrumentLevelDatainstrumentSymbolValue, spSecurityLevelDatasecuritySymbolValue, spInstrumentSectorinstrumentSymbolValue, spInstrumentToEntityinstrumentSymbolValue, spRatingDataratingDetailId, spAssessmentDataassessmentDetailId, spAssessmentLevelDataassessmentDetailId, spRatingIdentifiersymbolId, spRatingLevelDataratingDetailId))
	return "STAGING";
else
	return "";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="ASOFDATE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ATTRLOCK" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CALID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CHECKLASTDBUPDATE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CHGAPPRTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CNTRYCDE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATAID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATAIDCTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXF_RT";]]></expr>
            </Node>
          </Node>
          <Node name="DONOTPOST" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="EMPLOYEE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSUEACTIONREPLACE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSUELOCK" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSUERDERIVATIONMODE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="LOCALE" type="element"/>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return spInstrumentLevelDatainstrumentSymbolValue;
else if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return spSecurityLevelDatasecuritySymbolValue;
else if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return spInstrumentSectorinstrumentSymbolValue;
else if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return spInstrumentToEntityinstrumentSymbolValue;
else if (OneHasValue(spRatingDataratingDetailId))
	return spRatingDataratingDetailId;
else if (OneHasValue(spRatingLevelDataratingDetailId))
	return spRatingLevelDataratingDetailId;
else if (OneHasValue(spAssessmentDataassessmentDetailId))
	return spAssessmentDataassessmentDetailId;
else if (OneHasValue(spAssessmentLevelDataassessmentDetailId))
	return spAssessmentLevelDataassessmentDetailId;
else if (OneHasValue(spRatingIdentifiersymbolId))
	return spRatingIdentifiersymbolId;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "SPIL";
else if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "SPSL";
else if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "SPIS";
else if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "SPIE";
else if (OneHasValue(spRatingDataratingDetailId))
	return "SPRA";
else if (OneHasValue(spRatingLevelDataratingDetailId))
	return "SPRL";
else if (OneHasValue(spAssessmentDataassessmentDetailId))
	return "SPAS";
else if (OneHasValue(spAssessmentLevelDataassessmentDetailId))
	return "SPAL";
else if (OneHasValue(spRatingIdentifiersymbolId))
	return "SPRX";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return spInstrumentLevelDatainstrumentSymbolValue;
else if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return spSecurityLevelDatasecuritySymbolValue;
else if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return spInstrumentSectorinstrumentSymbolValue;
else if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return spInstrumentToEntityinstrumentSymbolValue;
else if (OneHasValue(spRatingDataratingDetailId))
	return spRatingDataratingDetailId;
else if (OneHasValue(spRatingLevelDataratingDetailId))
	return spRatingLevelDataratingDetailId;
else if (OneHasValue(spAssessmentDataassessmentDetailId))
	return spAssessmentDataassessmentDetailId;
else if (OneHasValue(spAssessmentLevelDataassessmentDetailId))
	return spAssessmentLevelDataassessmentDetailId;
else if (OneHasValue(spRatingIdentifiersymbolId))
	return spRatingIdentifiersymbolId;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MERGEMESSAGE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MODEL" type="element"/>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
          <Node name="MSGSET" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MSGTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORGID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PUBLISH" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REALMSG" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="REFDATA" type="element"/>
          <Node name="REFERRINGPAGE" type="element"/>
          <Node name="ROLLBACKONSEGMENTERROR" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SECURITYLABEL" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRANSLATE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="TRILLIUM" type="element"/>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
          <Node name="VENDORMODEL" type="element"/>
          <Node name="VENDORRECORDID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VENDORTYPE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="VTTRMSGSET" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node name="SPILSNPInstrumentLevelData" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "SPILSNPInstrumentLevelData";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPILSNPInstrumentLevelData";]]></expr>
          </Node>
          <Node name="COPY_FROM" type="attribute"/>
          <Node name="COPY_TO" type="attribute"/>
          <Node name="DUP_CHECK" type="attribute"/>
          <Node name="ENDDATEIND" type="attribute"/>
          <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
          <Node name="ERROR" type="attribute"/>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "SPIL_MATCH_1";]]></expr>
          </Node>
          <Node name="NESTED_ERR_LVL" type="attribute"/>
          <Node name="NESTED_ERR_TXT" type="attribute"/>
          <Node name="ONLY" type="attribute"/>
          <Node name="PARENT_LINK" type="attribute"/>
          <Node name="PUBLISH" type="attribute"/>
          <Node name="SEGPROCESSEDIND" type="attribute"/>
          <Node name="START_TMS_MATCH" type="attribute"/>
          <Node name="TRANSLATE" type="attribute"/>
          <Node name="TSATTRIBUTE" type="attribute"/>
          <Node name="TSOPTION" type="attribute"/>
          <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
          <Node name="TSTOLERANCE" type="attribute"/>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatachangebit;]]></expr>
            </Node>
          </Node>
          <Node name="DATAVALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDATAITEMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDataratingDataItemId;]]></expr>
            </Node>
          </Node>
          <Node name="SNPINSTRSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPSLSNPSecurityLevelData" type="segment">
          <condition><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "SPSLSNPSecurityLevelData";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPSLSNPSecurityLevelData";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[if (OneOf(spSecurityLevelDataratingDataItemId, "40", "62", "85"))
	return "";
else
	return "SPSL_MATCH_1";]]></expr>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spSecurityLevelDatachangebit;]]></expr>
            </Node>
          </Node>
          <Node name="DATAVALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDATAITEMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spSecurityLevelDataratingDataItemId;]]></expr>
            </Node>
          </Node>
          <Node name="SNPSECSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPISSNPInstrumentSector" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "SPISSNPInstrumentSector";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPISSNPInstrumentSector";]]></expr>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorchangebit;]]></expr>
            </Node>
          </Node>
          <Node name="INDUSTRYCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SECTORCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
            </Node>
          </Node>
          <Node name="SNPINSTRSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="SNPPRIMIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorprimaryFlag;]]></expr>
            </Node>
          </Node>
          <Node name="SUBSECTORCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPIESNPInstrumenttoEntity" type="segment">
          <condition><![CDATA[if (Strcmp(GetRuntimeParameter("StageFile"), "Y") && OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "SPIESNPInstrumenttoEntity";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPIESNPInstrumenttoEntity";]]></expr>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntitychangebit;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ROLETYPCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
            </Node>
          </Node>
          <Node name="SNPENTSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="SNPINSTRSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPRASNPRatingsData" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDataratingDetailId))
	return "SPRASNPRatingsData";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPRASNPRatingsData";]]></expr>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatachangebit;]]></expr>
            </Node>
          </Node>
          <Node name="CINSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataCINS;]]></expr>
            </Node>
          </Node>
          <Node name="CREDITWATCHTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="CURRRTNGSYMTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="CUSIPID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataCUSIP;]]></expr>
            </Node>
          </Node>
          <Node name="CWOLACTIONWORDTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataCWOLActionWord;]]></expr>
            </Node>
          </Node>
          <Node name="CWOLIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacwolInd;]]></expr>
            </Node>
          </Node>
          <Node name="ISINID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataISIN;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MATURITYDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spRatingDatamaturityDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="OBJECTTYPID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
          </Node>
          <Node name="ORGDBTTYPCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataorgDebtTypeCode;]]></expr>
            </Node>
          </Node>
          <Node name="OUTLOOKDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spRatingDataoutlookDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="OUTLOOKTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataoutlook;]]></expr>
            </Node>
          </Node>
          <Node name="PRIORCREDITWATCHTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="PRIOROUTLOOKTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorOutlook;]]></expr>
            </Node>
          </Node>
          <Node name="PRIORRTNGSYMTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="REGINDTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
            </Node>
          </Node>
          <Node name="REGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGACTIONWORDTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingActionWord;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spRatingDataratingDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGDTLID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingDetailId;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGTYPCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingTypeCode;]]></expr>
            </Node>
          </Node>
          <Node name="SNPCREDITWATCHDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spRatingDatacreditwatchDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="SNPENTSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataentitySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="SNPINSTRSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="SNPSECSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPRLSNPRatingLevelData" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingLevelDataratingDetailId))
	return "SPRLSNPRatingLevelData";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPRLSNPRatingLevelData";]]></expr>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingLevelDatachangebit;]]></expr>
            </Node>
          </Node>
          <Node name="DATAVALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGDATAITEMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingLevelDataratingDataItemId;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGDTLID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingLevelDataratingDetailId;]]></expr>
            </Node>
          </Node>
          <Node name="SPRLOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPASSNPAssessmentData" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDataassessmentDetailId))
	return "SPASSNPAssessmentData";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPASSNPAssessmentData";]]></expr>
          </Node>
          <Node name="ASMTACTIONWORDTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentActionWord;]]></expr>
            </Node>
          </Node>
          <Node name="ASMTDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spAssessmentDataassessmentDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="ASMTDTLID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentDetailId;]]></expr>
            </Node>
          </Node>
          <Node name="ASMTQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="ASMTSYMTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="ASMTTYPCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentTypeCode;]]></expr>
            </Node>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatachangebit;]]></expr>
            </Node>
          </Node>
          <Node name="CINSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataCINS;]]></expr>
            </Node>
          </Node>
          <Node name="CREDITWATCHTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="CURASMTSYMTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="CUSIPID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataCUSIP;]]></expr>
            </Node>
          </Node>
          <Node name="CWOLACTIONWORDTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataCWOLActionWord;]]></expr>
            </Node>
          </Node>
          <Node name="CWOLIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacwolInd;]]></expr>
            </Node>
          </Node>
          <Node name="ISINID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataISIN;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MATURITYDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spAssessmentDatamaturityDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="OBJECTTYPID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
          </Node>
          <Node name="ORGDBTTYPCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataorgDebtTypeCode;]]></expr>
            </Node>
          </Node>
          <Node name="OUTLOOKDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spAssessmentDataoutlookDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="OUTLOOKTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataoutlook;]]></expr>
            </Node>
          </Node>
          <Node name="PRIORASMTSYMTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorAssessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="PRIORCREDITWATCHTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="PRIOROUTLOOKTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorOutlook;]]></expr>
            </Node>
          </Node>
          <Node name="REGINDTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
            </Node>
          </Node>
          <Node name="REGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="SNPCREDITWATCHDTE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(spAssessmentDatacreditwatchDate, "YYYY-MM-DD hh:mm:ss:ff");]]></expr>
            </Node>
          </Node>
          <Node name="SNPENTSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataentitySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="SNPINSTRSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="SNPSECSYMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPALSNPAssessmentLevelData" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentLevelDataassessmentDetailId))
	return "SPALSNPAssessmentLevelData";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPALSNPAssessmentLevelData";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "SPAL_MATCH_1";]]></expr>
          </Node>
          <Node name="ASMTDATAITEMID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentLevelDataassessmentDataItemId;]]></expr>
            </Node>
          </Node>
          <Node name="ASMTDTLID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentLevelDataassessmentDetailId;]]></expr>
            </Node>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentLevelDatachangebit;]]></expr>
            </Node>
          </Node>
          <Node name="DATAVALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="SPRXSNPRatingIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingIdentifiersymbolId))
	return "SPRXSNPRatingIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "SPRXSNPRatingIdentifier";]]></expr>
          </Node>
          <Node name="CHGIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifierchangebit;]]></expr>
            </Node>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RLTDCOMPANYID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifierrelatedCompanyId;]]></expr>
            </Node>
          </Node>
          <Node name="SNPACTIVEFLAGNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifieractiveFlag;]]></expr>
            </Node>
          </Node>
          <Node name="SNPOBJECTID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifierObjectId;]]></expr>
            </Node>
          </Node>
          <Node name="SNPPRIMIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifierprimaryFlag;]]></expr>
            </Node>
          </Node>
          <Node name="SNPSYMVALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifiersymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="SYMBOLID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifiersymbolId;]]></expr>
            </Node>
          </Node>
          <Node name="SYMBOLTYPID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingIdentifiersymbolTypeId;]]></expr>
            </Node>
          </Node>
        </Node>
      </Node>
      <If displayName="ASSESSMENT DATA">
        <expr><![CDATA[return Strcmp(GetRuntimeParameter("IsStaging"), "N") && (OneHasValue(spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataBULKISIN, spAssessmentDataCINS) && Strcmp(spAssessmentDataobjectTypeId, "21"));]]></expr>
        <Then>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spAssessmentDataISIN))
	return StoreString("CHECK_ISIN", CatchError(CheckIdentifier("ISIN", spAssessmentDataISIN), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spAssessmentDataCUSIP) && !IsAlpha(spAssessmentDataCUSIP, 1, 1))
	return StoreString("CHECK_CUSIP", CatchError(CheckIdentifier("CUSIP", spAssessmentDataCUSIP), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spAssessmentDataCINS) && IsAlpha(spAssessmentDataCINS, 1, 1))
	return StoreString("CHECK_CINS", CatchError(CheckIdentifier("CINS", spAssessmentDataCINS), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Node displayName="ISIN/CUSIP/CINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spAssessmentDataISIN, spAssessmentDataassessmentSymbol)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spAssessmentDataCUSIP, spAssessmentDataassessmentSymbol)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spAssessmentDataCINS, spAssessmentDataassessmentSymbol))))
		return "SECURITY_ASSESSMENT_DATA_ISIN/CUSIP/CINS";
	else
		return "";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spAssessmentDataISIN, spAssessmentDataassessmentSymbol)) || (((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && !IsAlpha(spAssessmentDataCUSIP, 1, 1)) && AllHaveValue(spAssessmentDataCUSIP, spAssessmentDataassessmentSymbol)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spAssessmentDataCINS, spAssessmentDataassessmentSymbol))))
		return "SECURITY_ASSESSMENT_DATA_ISIN/CUSIP/CINS";
	else
		return "";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Strcat(spAssessmentDatasecuritySymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity","S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spAssessmentDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataISIN;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spAssessmentDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataCUSIP;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spAssessmentDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataCINS;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataISIN;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CUSIP";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataCUSIP;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CINS" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if ((!OneHasValue(spAssessmentDataCUSIP) && OneHasValue(spAssessmentDataCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CINS";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataCINS;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPCIQINTID";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataciqInstrumentID;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPCIQSECID" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDataciqSecurityID))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPCIQSECID";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataciqSecurityID;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <condition><![CDATA[if ((OneHasValue(spAssessmentDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spAssessmentDataCUSIP) && (!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && !IsAlpha(spAssessmentDataCUSIP, 1, 1))) || (OneHasValue(spAssessmentDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDataISIN))
	return spAssessmentDataISIN;
else if (OneHasValue(spAssessmentDataCUSIP))
	return spAssessmentDataCUSIP;
else if (OneHasValue(spAssessmentDataCINS))
	return spAssessmentDataCINS;
else
	return "";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate))
	return "IssueRating";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueRating";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDataassessmentActionWord))
	 return spAssessmentDataassessmentActionWord;
else
 	return SetSendNullFlag("");]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSYMBOLTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIOR ASSESSMENT" name="IssueRatingComment" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate, spAssessmentDatapriorAssessmentSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueRatingComment";]]></expr>
              </Node>
              <Node name="CMNTSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="CMNTTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatapriorAssessmentSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="COMMREASMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIORASM";]]></expr>
                </Node>
              </Node>
              <Node name="CREATEDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="GNCMTBLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISRT";]]></expr>
                </Node>
              </Node>
              <Node name="LNNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentQualifier, spAssessmentDataassessmentDate))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryQualifier, spAssessmentDataassessmentDate))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <ForEach recordType="spAssessmentDataregulatoryIndicator">
              <Do>
                <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator, spAssessmentDataassessmentDate))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Do>
            </ForEach>
            <Node displayName="ASSESSMENT OUTLOOK" name="ISSURatingOpinions" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataoutlook;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OUTLOOK";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
              <condition><![CDATA[if (!OneHasValue(spAssessmentDataoutlook))
  return "ISSURatingOpinions";
else
  return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ISSURatingOpinions" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTOP_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="ENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="EXPIRYTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTMNEM" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRISSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGUSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGCURRTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGDEBTCLTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONAGENCYNME" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONEFFTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RatingValue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingValue";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataISIN;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CUSIP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataCUSIP;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CINS" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CINS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataCINS;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONSTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONTXT" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "OUTLOOK";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSECINSTRIND" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                  </Node>
                  <Node name="TRANSLATE" type="attribute">
                    <expr><![CDATA[return "YES";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSETOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGSNRTYTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTOPOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="SYSEFFENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDataoutlookDate))
	 return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OUTLOOK";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIOR ASSESSMENT OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatasecuritySymbolValue, spAssessmentDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
              </Node>
              <Node name="CMNTSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="CMNTTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatapriorOutlook;]]></expr>
                </Node>
              </Node>
              <Node name="COMMREASMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIASOUT";]]></expr>
                </Node>
              </Node>
              <Node name="CREATEDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="GNCMTBLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "RTOP";]]></expr>
                </Node>
              </Node>
              <Node name="LNNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="ASSESSMENT WATCH" name="ISSURatingOpinions" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatacreditwatch;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "WATCH";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
              <condition><![CDATA[if (!OneHasValue(spAssessmentDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ISSURatingOpinions" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTOP_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="ENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="EXPIRYTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTMNEM" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRISSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGUSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGCURRTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGDEBTCLTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONAGENCYNME" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONEFFTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RatingValue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingValue";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataISIN;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CUSIP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataCUSIP;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CINS" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CINS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataCINS;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONSTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONTXT" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "WATCH";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSECINSTRIND" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                  </Node>
                  <Node name="TRANSLATE" type="attribute">
                    <expr><![CDATA[return "YES";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSETOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGSNRTYTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTOPOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="SYSEFFENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDatacreditwatchDate))
	 return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "WATCH";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIOR ASSESSMENT WATCH" name="ISSURatingOpinionsComment" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatasecuritySymbolValue, spAssessmentDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
              </Node>
              <Node name="CMNTSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="CMNTTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatapriorCreditwatch;]]></expr>
                </Node>
              </Node>
              <Node name="COMMREASMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIASWAT";]]></expr>
                </Node>
              </Node>
              <Node name="CREATEDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="GNCMTBLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "RTOP";]]></expr>
                </Node>
              </Node>
              <Node name="LNNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
            </Node>
          </Node>
          <Node displayName="SECURITY: ISIN/CUSIP/CINS END_DATE" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spAssessmentDataISIN, spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spAssessmentDataCUSIP, spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spAssessmentDataCINS, spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue))))
		return "SECURITY_ASSESSMENT_DATA_ISIN/CUSIP/CINS_ENDDATE";
	else
		return "";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spAssessmentDataISIN, spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spAssessmentDataCUSIP, spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spAssessmentDataCINS, spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue))))
		return "SECURITY_ASSESSMENT_DATA_ISIN/CUSIP/CINS_ENDDATE";
	else
		return "";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Strcat(spAssessmentDatasecuritySymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity","S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spAssessmentDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataISIN;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spAssessmentDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataCUSIP;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spAssessmentDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "UNKNOWN";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ACTIVE";]]></expr>
                  </Node>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spAssessmentDataCINS;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                  </Node>
                  <Node name="INSERT_ONLY" type="attribute">
                    <expr><![CDATA[return "Y";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueRating";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <comment><![CDATA[GT 155905]]></comment>
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentActionWord;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSYMBOLTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <ForEach recordType="spAssessmentDataregulatoryIndicator">
              <Do>
                <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Do>
            </ForEach>
          </Node>
          <ForEach recordType="spAssessmentDataBULKISIN">
            <where><![CDATA[return OneHasValue(spAssessmentDataBULKISIN.BULKISIN);]]></where>
            <Do>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spAssessmentDataBULKISIN.BULKISIN), spAssessmentDataBULKISIN.BULKISIN, ""));]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
              </Execute>
              <Node displayName="SECURITY: BULKISIN" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spAssessmentDataassessmentSymbol))
		return "SECURITY_ASSESSMENT_DATA_BULKISIN";
	else
		return "";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spAssessmentDataBULKISIN.BULKISIN, spAssessmentDataassessmentSymbol))
		return "SECURITY_ASSESSMENT_DATA_BULKISIN";
	else
		return "";
else
	return "";]]></expr>
                </Node>
                <Node name="TRANSACTIONCODE" type="attribute"/>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Strcat(spAssessmentDatasecuritySymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPCIQINTID";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataciqInstrumentID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPCIQSECID" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDataciqSecurityID))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPCIQSECID";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataciqSecurityID;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate))
	return "IssueRating";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueRating";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (((Strcmp(spAssessmentDataassessmentTypeCode, "ARGLONG") && OneOf(spAssessmentDataassessmentSymbol, "NR", "raNR")) || (Strcmp(spAssessmentDataassessmentTypeCode, "CAVALLONG") && OneOf(spAssessmentDataassessmentSymbol, "NR", "mxNR"))) || (Strcmp(spAssessmentDataassessmentTypeCode, "BRAZLONG") && OneOf(spAssessmentDataassessmentSymbol, "NR", "brNR")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spAssessmentDataassessmentActionWord))
	 return spAssessmentDataassessmentActionWord;
else
 	return SetSendNullFlag("");]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSYMBOLTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIOR ASSESSMENT" name="IssueRatingComment" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate, spAssessmentDatapriorAssessmentSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueRatingComment";]]></expr>
                  </Node>
                  <Node name="CMNTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CMNTTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatapriorAssessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="COMMREASMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIORASM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="GNCMTBLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LNNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <ForEach recordType="spAssessmentDataregulatoryIndicator">
                  <Do>
                    <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALREGIDIND" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTXT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return TimeStamp();]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Do>
                </ForEach>
                <Node displayName="ASSESSMENT OUTLOOK" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataoutlook;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (!OneHasValue(spAssessmentDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ISSURatingOpinions" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTOP_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                    </Node>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="EXPIRYTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRISSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGCURRTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGDEBTCLTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONAGENCYNME" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONEFFTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RatingValue" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingValue";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RatingSetDefinition" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                        </Node>
                        <Node name="RTNGSETMNEM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="RTNGCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISIN";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONSTATTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONTXT" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "OUTLOOK";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSECINSTRIND" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                      </Node>
                      <Node name="TRANSLATE" type="attribute">
                        <expr><![CDATA[return "YES";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSETOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGSNRTYTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTOPOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SYSEFFENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spAssessmentDataoutlookDate))
	 return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIOR ASSESSMENT OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatasecuritySymbolValue, spAssessmentDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
                  </Node>
                  <Node name="CMNTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CMNTTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatapriorOutlook;]]></expr>
                    </Node>
                  </Node>
                  <Node name="COMMREASMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIASOUT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="GNCMTBLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "RTOP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LNNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ASSESSMENT WATCH" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatacreditwatch;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "WATCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (!OneHasValue(spAssessmentDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ISSURatingOpinions" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTOP_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                    </Node>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="EXPIRYTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRISSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGCURRTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGDEBTCLTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONAGENCYNME" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONEFFTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RatingValue" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingValue";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RatingSetDefinition" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                        </Node>
                        <Node name="RTNGSETMNEM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="RTNGCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISIN";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONSTATTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONTXT" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "WATCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSECINSTRIND" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                      </Node>
                      <Node name="TRANSLATE" type="attribute">
                        <expr><![CDATA[return "YES";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSETOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGSNRTYTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTOPOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SYSEFFENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spAssessmentDatacreditwatchDate))
	 return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "WATCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIOR ASSESSMENT WATCH" name="ISSURatingOpinionsComment" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatasecuritySymbolValue, spAssessmentDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
                  </Node>
                  <Node name="CMNTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CMNTTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatapriorCreditwatch;]]></expr>
                    </Node>
                  </Node>
                  <Node name="COMMREASMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIASWAT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="GNCMTBLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "RTOP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LNNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Node>
              <Node displayName="SECURITY: BULKISIN END_DATE" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spAssessmentDataassessmentSymbol))
		return "SECURITY_ASSESSMENT_DATA_BULKISIN_END_DATE";
	else
		return "";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spAssessmentDataBULKISIN.BULKISIN, spAssessmentDataassessmentSymbol))
		return "SECURITY_ASSESSMENT_DATA_BULKISIN_END_DATE";
	else
		return "";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Strcat(spAssessmentDatasecuritySymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueRating";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <comment><![CDATA[GT 155905]]></comment>
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="TSOPTION" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (((Strcmp(spAssessmentDataassessmentTypeCode, "ARGLONG") && OneOf(spAssessmentDataassessmentSymbol, "NR", "raNR")) || (Strcmp(spAssessmentDataassessmentTypeCode, "CAVALLONG") && OneOf(spAssessmentDataassessmentSymbol, "NR", "mxNR"))) || (Strcmp(spAssessmentDataassessmentTypeCode, "BRAZLONG") && OneOf(spAssessmentDataassessmentSymbol, "NR", "brNR")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentActionWord;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSYMBOLTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <ForEach recordType="spAssessmentDataregulatoryIndicator">
                  <Do>
                    <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UPDATE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[return "N";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return TimeStamp();]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALREGIDIND" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTXT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return TimeStamp();]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Do>
                </ForEach>
              </Node>
            </Do>
          </ForEach>
        </Then>
        <Else/>
      </If>
      <If displayName="RATING DATA">
        <expr><![CDATA[return Strcmp(GetRuntimeParameter("IsStaging"), "N") && (OneHasValue(spRatingDataISIN, spRatingDataCUSIP, spRatingDataBULKISIN, spRatingDataCINS) && Strcmp(spRatingDataobjectTypeId, "21"));]]></expr>
        <Then>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spRatingDataISIN))
	return StoreString("CHECK_ISIN", CatchError(CheckIdentifier("ISIN", spRatingDataISIN), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spRatingDataCUSIP) && !IsAlpha(spRatingDataCUSIP, 1, 1))
	return StoreString("CHECK_CUSIP", CatchError(CheckIdentifier("CUSIP", spRatingDataCUSIP), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spRatingDataCINS) && IsAlpha(spRatingDataCINS, 1, 1))
	return StoreString("CHECK_CINS", CatchError(CheckIdentifier("CINS", spRatingDataCINS), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Node displayName="SECURITY : ISIN/CUSIP/CINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if (OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spRatingDataISIN, spRatingDataratingSymbol)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spRatingDataCUSIP, spRatingDataratingSymbol)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spRatingDataCINS, spRatingDataratingSymbol))))
		return "SECURITY_RATING_DATA_ISIN/CUSIP/CINS";
	else
		return "";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spRatingDataISIN, spRatingDataratingSymbol)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spRatingDataCUSIP, spRatingDataratingSymbol)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spRatingDataCINS, spRatingDataratingSymbol))))
		return "SECURITY_RATING_DATA_ISIN/CUSIP/CINS";
	else
		return "";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <comment><![CDATA[GC-45580]]></comment>
                  <expr><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return Strcat(spRatingDatasecuritySymbolValue, Strcat("-", spRatingDataratingDetailId));
else
	return spRatingDataISIN;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <comment><![CDATA[GC-45580]]></comment>
                  <expr><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "SNPSEC";
else
	return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <comment><![CDATA[GC-45580]]></comment>
                  <expr><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return spRatingDatasecuritySymbolValue;
else
	return spRatingDataISIN;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity","S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spRatingDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataISIN;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spRatingDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataCUSIP;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spRatingDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataCINS;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataISIN;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CUSIP";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataCUSIP;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CINS" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if ((!OneHasValue(spRatingDataCUSIP) && OneHasValue(spRatingDataCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CINS";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataCINS;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPCIQINTID";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataciqInstrumentID;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPCIQSECID" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDataciqSecurityID))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPCIQSECID";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataciqSecurityID;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <condition><![CDATA[if ((OneHasValue(spRatingDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spRatingDataCUSIP) && (!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && !IsAlpha(spRatingDataCUSIP, 1, 1))) || (OneHasValue(spRatingDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spRatingDataISIN))
	return spRatingDataISIN;
else if (OneHasValue(spRatingDataCUSIP))
	return spRatingDataCUSIP;
else if (OneHasValue(spRatingDataCINS))
	return spRatingDataCINS;
else
	return "";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="RATING" name="IssueRating" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataratingDate))
	return "IssueRating";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueRating";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGCDENUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spRatingDataratingActionWord))
	 return spRatingDataratingActionWord;
else
 	return SetSendNullFlag("");]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSYMBOLTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIOR RATING" name="IssueRatingComment" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDatasecuritySymbolValue, spRatingDataratingSymbol, spRatingDataratingDate, spRatingDatapriorRatingSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueRatingComment";]]></expr>
              </Node>
              <Node name="CMNTSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="CMNTTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatapriorRatingSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="COMMREASMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIORTNG";]]></expr>
                </Node>
              </Node>
              <Node name="CREATEDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="GNCMTBLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISRT";]]></expr>
                </Node>
              </Node>
              <Node name="LNNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataratingQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <ForEach recordType="spRatingDataregulatoryIndicator">
              <Do>
                <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                  <condition>
                    <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]>
                  </condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Do>
            </ForEach>
            <Node displayName="RATING OUTLOOK" name="ISSURatingOpinions" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate))
	return "ISSURatingOpinions";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                </Node>
                <Node name="RTNGCDENUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataoutlook;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OUTLOOK";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
              <condition><![CDATA[if (!OneHasValue(spRatingDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                </Node>
                <Node name="RTNGCDENUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ISSURatingOpinions" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTOP_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="ENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="EXPIRYTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTMNEM" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRISSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGUSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGCURRTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGDEBTCLTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONAGENCYNME" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONEFFTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RatingValue" type="segment">
                  <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingValue";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                  </Node>
                  <Node name="RTNGCDENUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RatingValue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingValue";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spRatingDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataISIN;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CUSIP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataCUSIP;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CINS" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spRatingDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CINS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataCINS;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONSTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONTXT" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "OUTLOOK";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSECINSTRIND" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                  </Node>
                  <Node name="TRANSLATE" type="attribute">
                    <expr><![CDATA[return "YES";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSETOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGSNRTYTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTOPOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="SYSEFFENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spRatingDataoutlookDate))
	 return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "OUTLOOK";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIOR RATING OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
              </Node>
              <Node name="CMNTSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="CMNTTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatapriorOutlook;]]></expr>
                </Node>
              </Node>
              <Node name="COMMREASMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIRTOUT";]]></expr>
                </Node>
              </Node>
              <Node name="CREATEDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="GNCMTBLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "RTOP";]]></expr>
                </Node>
              </Node>
              <Node name="LNNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="RATING WATCH" name="ISSURatingOpinions" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate))
	return "ISSURatingOpinions";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                </Node>
                <Node name="RTNGCDENUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatacreditwatch;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "WATCH";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
              <condition><![CDATA[if (!OneHasValue(spRatingDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                </Node>
                <Node name="RTNGCDENUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RatingValue" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RatingSetDefinition" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RTNGSETMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGCDE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ISSURatingOpinions" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTOP_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                </Node>
                <Node name="DATASRCID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="ENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="EXPIRYTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTMNEM" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="INSTRISSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="LASTCHGUSRID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGCURRTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGDEBTCLTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONAGENCYNME" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONEFFTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RatingValue" type="segment">
                  <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingValue";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute"/>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                  </Node>
                  <Node name="RTNGCDENUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RatingValue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "RatingValue";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_LVL" type="attribute">
                    <expr><![CDATA[return "ERROR";]]></expr>
                  </Node>
                  <Node name="NESTED_ERR_TXT" type="attribute">
                    <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spRatingDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataISIN;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CUSIP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataCUSIP;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CINS" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spRatingDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                  </Node>
                  <Node name="COPY_FROM" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="COPY_TO" type="attribute">
                    <expr><![CDATA[return "INSTR_ID";]]></expr>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CINS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataCINS;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONSTATTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGOPINIONTXT" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGOPINIONTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "WATCH";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSECINSTRIND" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                  </Node>
                  <Node name="TRANSLATE" type="attribute">
                    <expr><![CDATA[return "YES";]]></expr>
                  </Node>
                </Node>
                <Node name="RTNGSETOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTNGSNRTYTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="RTOPOID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="SYSEFFENDTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spRatingDatacreditwatchDate))
 	return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");
else
	 return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGOPINIONTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "WATCH";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIOR RATING WATCH" name="ISSURatingOpinionsComment" type="segment">
              <condition>
                <comment><![CDATA[GC-45580]]></comment><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]>
              </condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
              </Node>
              <Node name="CMNTSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="CMNTTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatapriorCreditwatch;]]></expr>
                </Node>
              </Node>
              <Node name="COMMREASMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIRTWAT";]]></expr>
                </Node>
              </Node>
              <Node name="CREATEDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="GNCMTBLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "RTOP";]]></expr>
                </Node>
              </Node>
              <Node name="LNNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
            </Node>
          </Node>
          <Node displayName="SECURITY : ISIN/CUSIP/CINS END_DATE" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if (OneHasValue(spRatingDatachangebit) && Strcmp(spRatingDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spRatingDataISIN, spRatingDataratingSymbol)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spRatingDataCUSIP, spRatingDataratingSymbol)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spRatingDataCINS, spRatingDataratingSymbol))))
		return "SECURITY_RATING_DATA_ISIN/CUSIP_ENDDATE";
	else
		return "";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDatachangebit) && Strcmp(spRatingDatachangebit, "D"))
	if ((!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && AllHaveValue(spRatingDataISIN, spRatingDataratingSymbol)) || ((!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && AllHaveValue(spRatingDataCUSIP, spRatingDataratingSymbol)) || (!Strcmp(GetStringByKey("CHECK_CINS"), "INVALID") && AllHaveValue(spRatingDataCINS, spRatingDataratingSymbol))))
		return "SECURITY_RATING_DATA_ISIN/CUSIP_ENDDATE";
	else
		return "";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Strcat(spRatingDatasecuritySymbolValue, Strcat("-", spRatingDataratingDetailId));]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity","S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spRatingDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataISIN;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spRatingDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataCUSIP;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spRatingDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spRatingDataCINS;]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="RATING" name="IssueRating" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueRating";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <comment><![CDATA[GT 155905]]></comment>
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="RatingValue" type="segment">
                <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingValue";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGCDENUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute"/>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATAREDISTRIBUTORID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ERVLOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSRTNGOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGUSRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTRTNGREVWDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTRTNGREVWUSRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LONGTERMRTNGTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MULTRTNGSALETYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="NEXTRTNGREVWDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ORIGDATAPROVID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGCLASSID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGCLASSTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGCURRCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGCURRTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGDEBTCLTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGDIRECTIONDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGDIRECTIONTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGDIRECTIONTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGDISCREPANCYCAMT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
                </Node>
              </Node>
              <Node name="RTNGID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGMODLVERSIONID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGOUTLOOKAGENCYNME" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGOUTLOOKEFFDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGOUTLOOKENDDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGOUTLOOKTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGPURPTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGSECINSTRIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSETOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGSIGNIFICANCECAMT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGSNRTYTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGSTATREASTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGSTATTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingActionWord;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGSYMBOLTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGTERMINTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGVALUEOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="RTNGWATCHAGENCYNME" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SECNDMRKTIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SHORTTERMRTNGTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SYSEFFENDTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="UNDERLYENHCSALETYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="WATCHDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="WATCHEXPDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="WATCHREASTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="WATCHSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataratingQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <ForEach recordType="spRatingDataregulatoryIndicator">
              <Do>
                <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Do>
            </ForEach>
          </Node>
          <ForEach recordType="spRatingDataBULKISIN">
            <where><![CDATA[return OneHasValue(spRatingDataBULKISIN.BULKISIN);]]></where>
            <Do>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spRatingDataBULKISIN.BULKISIN), spRatingDataBULKISIN.BULKISIN, ""));]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
              </Execute>
              <Node displayName="SECURITY : BULKISIN" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spRatingDataratingSymbol))
		return "SECURITY_RATING_DATA_BULKISIN";
	else
		return "";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spRatingDataBULKISIN.BULKISIN, spRatingDataratingSymbol))
		return "SECURITY_RATING_DATA_BULKISIN";
	else
		return "";
else
	return "";]]></expr>
                </Node>
                <Node name="TRANSACTIONCODE" type="attribute"/>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="RATING" name="IssueRating" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDatasecuritySymbolValue, spRatingDataratingSymbol, spRatingDataratingDate))
	return "IssueRating";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueRating";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGCDENUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spRatingDataratingActionWord))
	 return spRatingDataratingActionWord;
else
 	return SetSendNullFlag("");]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSYMBOLTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIOR RATING" name="IssueRatingComment" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDatasecuritySymbolValue, spRatingDataratingSymbol, spRatingDataratingDate, spRatingDatapriorRatingSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueRatingComment";]]></expr>
                  </Node>
                  <Node name="CMNTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CMNTTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatapriorRatingSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="COMMREASMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIORTNG";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="GNCMTBLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LNNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataratingQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <ForEach recordType="spAssessmentDataregulatoryIndicator">
                  <Do>
                    <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALREGIDIND" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTXT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return TimeStamp();]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Do>
                </ForEach>
                <Node displayName="RATING OUTLOOK" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute"/>
                    <Node name="NESTED_ERR_TXT" type="attribute"/>
                    <Node name="RTNGCDENUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataoutlook;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (!OneHasValue(spRatingDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute"/>
                    <Node name="NESTED_ERR_TXT" type="attribute"/>
                    <Node name="RTNGCDENUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ISSURatingOpinions" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTOP_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                    </Node>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="EXPIRYTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRISSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGCURRTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGDEBTCLTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONAGENCYNME" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONEFFTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RatingValue" type="segment">
                      <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingValue";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute"/>
                      <Node name="NESTED_ERR_TXT" type="attribute"/>
                      <Node name="RTNGCDENUM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RatingValue" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingValue";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RatingSetDefinition" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                        </Node>
                        <Node name="RTNGSETMNEM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="RTNGCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISIN";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONSTATTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONTXT" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "OUTLOOK";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSECINSTRIND" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                      </Node>
                      <Node name="TRANSLATE" type="attribute">
                        <expr><![CDATA[return "YES";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSETOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGSNRTYTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTOPOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SYSEFFENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spRatingDataoutlookDate))
	 return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "OUTLOOK";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIOR RATING OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatasecuritySymbolValue, spRatingDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
                  </Node>
                  <Node name="CMNTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CMNTTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatapriorOutlook;]]></expr>
                    </Node>
                  </Node>
                  <Node name="COMMREASMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIRTOUT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="GNCMTBLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "RTOP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LNNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="RATING WATCH" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGCDENUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatacreditwatch;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "WATCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
                  <condition><![CDATA[if (!OneHasValue(spRatingDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGCDENUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RatingSetDefinition" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGSETMNEM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGCDE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ISSURatingOpinions" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTOP_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
                    </Node>
                    <Node name="DATASRCID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="ENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="EXPIRYTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTMNEM" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="INSTRISSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="LASTCHGUSRID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGCURRTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGDEBTCLTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONAGENCYNME" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONEFFTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RatingValue" type="segment">
                      <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingValue";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RTNGCDENUM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RatingValue" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "RatingValue";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_LVL" type="attribute">
                        <expr><![CDATA[return "ERROR";]]></expr>
                      </Node>
                      <Node name="NESTED_ERR_TXT" type="attribute">
                        <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                      </Node>
                      <Node name="RatingSetDefinition" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                        </Node>
                        <Node name="RTNGSETMNEM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="RTNGCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISIN";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONSTATTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGOPINIONTXT" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGOPINIONTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "WATCH";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSECINSTRIND" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                      </Node>
                      <Node name="TRANSLATE" type="attribute">
                        <expr><![CDATA[return "YES";]]></expr>
                      </Node>
                    </Node>
                    <Node name="RTNGSETOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTNGSNRTYTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="RTOPOID" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="SYSEFFENDTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spRatingDatacreditwatchDate))
 	return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");
else
	 return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGOPINIONTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "WATCH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIOR RATING WATCH" name="ISSURatingOpinionsComment" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatasecuritySymbolValue, spRatingDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
                  </Node>
                  <Node name="CMNTSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CMNTTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatapriorCreditwatch;]]></expr>
                    </Node>
                  </Node>
                  <Node name="COMMREASMNEM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIRTWAT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CREATEDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="GNCMTBLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "RTOP";]]></expr>
                    </Node>
                  </Node>
                  <Node name="LNNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Node>
              <Node displayName="SECURITY: BULKISIN END_DATE" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spRatingDataratingSymbol))
		return "SECURITY_RATING_DATA_BULKISIN_ENDDATE";
	else
		return "";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D"))
	if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spRatingDataBULKISIN.BULKISIN, spRatingDataratingSymbol))
		return "SECURITY_RATING_DATA_BULKISIN_ENDDATE";
	else
		return "";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MISC";]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spRatingDatamaturityDate))
	return DateFromString(spRatingDatamaturityDate, "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="RATING" name="IssueRating" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueRating";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <comment><![CDATA[GT 155905]]></comment>
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="TSOPTION" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="RatingValue" type="segment">
                    <condition><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "RatingValue";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingValue";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGCDENUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR"))
	return "2483";
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))
	return "5869";
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR"))
	return "4295";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RatingSetDefinition" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                    </Node>
                    <Node name="RTNGSETMNEM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="RTNGCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR")) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSECINSTRIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingActionWord;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGSYMBOLTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataratingQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UPDATE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ENDTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALREGIDIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                    </Node>
                  </Node>
                  <Node name="RTNGQUALTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return TimeStamp();]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <ForEach recordType="spAssessmentDataregulatoryIndicator">
                  <Do>
                    <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UPDATE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[return "N";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ENDTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return TimeStamp();]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALREGIDIND" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTXT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                        </Node>
                      </Node>
                      <Node name="RTNGQUALTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return TimeStamp();]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Do>
                </ForEach>
              </Node>
            </Do>
          </ForEach>
        </Then>
        <Else/>
      </If>
      <If displayName="SECURITY LEVEL DATA">
        <expr><![CDATA[return Strcmp(GetRuntimeParameter("IsStaging"), "N") && ((OneHasValue(spSecurityLevelDatachangebit) && !Strcmp(spSecurityLevelDatachangebit, "D")) && OneHasValue(spSecurityLevelDataISIN, spSecurityLevelDataBULKISIN, spSecurityLevelDataCUSIP, spSecurityLevelDataCINS));]]></expr>
        <Then>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spSecurityLevelDataISIN))
	return StoreString("CHECK_ISIN", CatchError(CheckIdentifier("ISIN", spSecurityLevelDataISIN), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spSecurityLevelDataCUSIP) && !IsAlpha(spSecurityLevelDataCUSIP, 1, 1))
	return StoreString("CHECK_CUSIP", CatchError(CheckIdentifier("CUSIP", spSecurityLevelDataCUSIP), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spSecurityLevelDataCINS) && IsAlpha(spSecurityLevelDataCINS, 1, 1))
	return StoreString("CHECK_CINS", CatchError(CheckIdentifier("CINS", spSecurityLevelDataCINS), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Node displayName="SECURITY LEVEL DATA : ISIN/CUSIP/CINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <comment><![CDATA[GT 153906 : Changed condition (added AllHaveValue)]]></comment>
            <condition><![CDATA[if ((AllHaveValue(spSecurityLevelDatasecuritySymbolValue, spSecurityLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((AllHaveValue(spSecurityLevelDatasecuritySymbolValue, spSecurityLevelDataCUSIP) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (AllHaveValue(spSecurityLevelDatasecuritySymbolValue, spSecurityLevelDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "SECURITY_LEVEL_DATA_ISIN/CUSIP/CINS";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if ((AllHaveValue(spSecurityLevelDatasecuritySymbolValue, spSecurityLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((AllHaveValue(spSecurityLevelDatasecuritySymbolValue, spSecurityLevelDataCUSIP) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (AllHaveValue(spSecurityLevelDatasecuritySymbolValue, spSecurityLevelDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "SECURITY_LEVEL_DATA_ISIN/CUSIP/CINS";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateNewSecurity for S&P_XF_GR_Security_Ratings. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_Option")), "");
else
	return "";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spSecurityLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spSecurityLevelDataISIN;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spSecurityLevelDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spSecurityLevelDataCUSIP;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spSecurityLevelDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spSecurityLevelDataCINS;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PUBLIC";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DENOMCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spSecurityLevelDatadataValue) && Strcmp(spSecurityLevelDataratingDataItemId, "14"))
	if (OneHasValue(Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spSecurityLevelDatadataValue)))
		return Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spSecurityLevelDatadataValue);
	else
		return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "MISC";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <comment><![CDATA[170663]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "118"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="WTHHLDTAXIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "27"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDataISIN;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spSecurityLevelDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CUSIP";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDataCUSIP;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CINS" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if ((!OneHasValue(spSecurityLevelDataCUSIP) && OneHasValue(spSecurityLevelDataCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CINS";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDataCINS;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPRXSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "13"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPRXSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <condition><![CDATA[if ((OneHasValue(spSecurityLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spSecurityLevelDataCUSIP) && (!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && !IsAlpha(spSecurityLevelDataCUSIP, 1, 1))) || ((!OneHasValue(spSecurityLevelDataCUSIP) && OneHasValue(spSecurityLevelDataCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spSecurityLevelDataISIN))
	return spSecurityLevelDataISIN;
else if (OneHasValue(spSecurityLevelDataCUSIP))
	return spSecurityLevelDataCUSIP;
else
	return spSecurityLevelDataCINS;]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <If>
              <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
              <Then>
                <Node name="IssueCollateral" type="segment">
                  <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "40"))
	return "IssueCollateral";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueCollateral";]]></expr>
                  </Node>
                  <Node name="COLLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="CLASS NAME" name="IssueStatistic" type="segment">
                  <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "7"))
	return "IssueStatistic";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueStatistic";]]></expr>
                  </Node>
                  <Node name="STATCHARVALTXT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATDEFID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "CLASSNME";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="Amount Outstanding" name="IssueStatistic" type="segment">
                  <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && OneOf(spSecurityLevelDataratingDataItemId, "42", "43"))
	return "IssueStatistic";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueStatistic";]]></expr>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATCHARVALTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATDEFID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SECOSAMT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATVALDTE" type="element">
                    <comment><![CDATA[170663]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "42"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATVALCAMT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "43"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="Original Amount" name="IssueStatistic" type="segment">
                  <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "44") && OneHasValue(spSecurityLevelDatadataValue))
	return "IssueStatistic";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueStatistic";]]></expr>
                  </Node>
                  <Node name="STATCHARVALTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATDEFID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SECORAMT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATVALDTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATVALCAMT" type="element">
                    <comment><![CDATA[170663]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="DebtInstrumentCharacteristics" type="segment">
                  <condition><![CDATA[if (OneOf(spSecurityLevelDataratingDataItemId, "60", "46") && OneHasValue(spSecurityLevelDatadataValue))
	return "DebtInstrumentCharacteristics";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "DebtInstrumentCharacteristics";]]></expr>
                  </Node>
                  <Node name="CPNTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "46"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DTEDTMS" type="element">
                    <comment><![CDATA[170663]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "60"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="DebtInstrumentStatistics" type="segment">
                  <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "45") && OneHasValue(spSecurityLevelDatadataValue))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                  </Node>
                  <Node name="CPNCRTE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATSEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="UnderwriterCharacteristics" type="segment">
                  <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "20") && OneHasValue(spSecurityLevelDatadataValue))
	return "UnderwriterCharacteristics";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "UnderwriterCharacteristics";]]></expr>
                  </Node>
                  <Node name="OFFERNUM" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "1";]]></expr>
                    </Node>
                  </Node>
                  <Node name="PLCMNTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="MuniCharacteristics" type="segment">
                  <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "61"))
	return "MuniCharacteristics";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "MuniCharacteristics";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="RFNDSTATIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Then>
              <Else/>
            </If>
          </Node>
          <ForEach recordType="spSecurityLevelDataBULKISIN">
            <where><![CDATA[return OneHasValue(spSecurityLevelDataBULKISIN.BULKISIN);]]></where>
            <Do>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spSecurityLevelDataBULKISIN.BULKISIN), spSecurityLevelDataBULKISIN.BULKISIN, ""));]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
              </Execute>
              <Node displayName="SECURITY LEVEL DATA" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "SECURITY_LEVEL_DATA_BULKISIN";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "SECURITY_LEVEL_DATA_BULKISIN";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateNewSecurity for S&P_XF_GR_Security_Ratings. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_Option")), "");
else
	return "";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PUBLIC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spSecurityLevelDatadataValue) && Strcmp(spSecurityLevelDataratingDataItemId, "14"))
	if (OneHasValue(Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spSecurityLevelDatadataValue)))
		return Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spSecurityLevelDatadataValue);
	else
		return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "MISC";]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <comment><![CDATA[170663]]></comment>
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "118"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "27"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPRXSEC" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "13"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPRXSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node name="IssueCollateral" type="segment">
                      <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "40"))
	return "IssueCollateral";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueCollateral";]]></expr>
                      </Node>
                      <Node name="COLLTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="CLASS NAME" name="IssueStatistic" type="segment">
                      <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "7"))
	return "IssueStatistic";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueStatistic";]]></expr>
                      </Node>
                      <Node name="STATCHARVALTXT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATDEFID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "CLASSNME";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="Amount Outstanding" name="IssueStatistic" type="segment">
                      <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && OneOf(spSecurityLevelDataratingDataItemId, "42", "43"))
	return "IssueStatistic";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueStatistic";]]></expr>
                      </Node>
                      <Node name="STATDEFID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SECOSAMT";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATVALDTE" type="element">
                        <comment><![CDATA[170663]]></comment>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "42"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATVALCAMT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "43"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATCHARVALTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node displayName="Original Amount" name="IssueStatistic" type="segment">
                      <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "44") && OneHasValue(spSecurityLevelDatadataValue))
	return "IssueStatistic";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueStatistic";]]></expr>
                      </Node>
                      <Node name="STATDEFID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SECORAMT";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATCHARVALTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATVALDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATVALCAMT" type="element">
                        <comment><![CDATA[170663]]></comment>
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="DebtInstrumentCharacteristics" type="segment">
                      <condition><![CDATA[if (OneOf(spSecurityLevelDataratingDataItemId, "60", "46") && OneHasValue(spSecurityLevelDatadataValue))
	return "DebtInstrumentCharacteristics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentCharacteristics";]]></expr>
                      </Node>
                      <Node name="CPNTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "46"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DTEDTMS" type="element">
                        <comment><![CDATA[170663]]></comment>
                        <Node name="VALUE" type="attribute">
                          <comment><![CDATA[170633]]></comment>
                          <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "60"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="DebtInstrumentStatistics" type="segment">
                      <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "45") && OneHasValue(spSecurityLevelDatadataValue))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                      </Node>
                      <Node name="CPNCRTE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATSEFFTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="UnderwriterCharacteristics" type="segment">
                      <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "20") && OneHasValue(spSecurityLevelDatadataValue))
	return "UnderwriterCharacteristics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "UnderwriterCharacteristics";]]></expr>
                      </Node>
                      <Node name="OFFERNUM" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "1";]]></expr>
                        </Node>
                      </Node>
                      <Node name="PLCMNTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="MuniCharacteristics" type="segment">
                      <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "61"))
	return "MuniCharacteristics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "MuniCharacteristics";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="RFNDSTATIND" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Then>
                  <Else/>
                </If>
              </Node>
            </Do>
          </ForEach>
        </Then>
        <Else/>
      </If>
      <If displayName="INSTRUMENT LEVEL DATA">
        <expr><![CDATA[return Strcmp(GetRuntimeParameter("IsStaging"), "N") && ((OneHasValue(spInstrumentLevelDatachangebit) && !Strcmp(spInstrumentLevelDatachangebit, "D")) && OneHasValue(spInstrumentLevelDataBULKISIN, spInstrumentLevelDataISIN, spInstrumentLevelDataCUSIP, spInstrumentLevelDataCINS));]]></expr>
        <Then>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentLevelDataISIN))
	return StoreString("CHECK_ISIN", CatchError(CheckIdentifier("ISIN", spInstrumentLevelDataISIN), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentLevelDataCUSIP) && !IsAlpha(spInstrumentLevelDataCUSIP, 1, 1))
	return StoreString("CHECK_CUSIP", CatchError(CheckIdentifier("CUSIP", spInstrumentLevelDataCUSIP), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentLevelDataCINS) && IsAlpha(spInstrumentLevelDataCINS, 1, 1))
	return StoreString("CHECK_CINS", CatchError(CheckIdentifier("CINS", spInstrumentLevelDataCINS), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Node displayName="INSTRUMENT LEVEL DATA : ISIN/CUSIP/CINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if ((AllHaveValue(spInstrumentLevelDataISIN, spInstrumentLevelDatainstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((AllHaveValue(spInstrumentLevelDataCUSIP, spInstrumentLevelDatainstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (AllHaveValue(spInstrumentLevelDataCINS, spInstrumentLevelDatainstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "INSTRUMENT LEVEL DATA : ISIN/CUSIP/CINS";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if ((AllHaveValue(spInstrumentLevelDataISIN, spInstrumentLevelDatainstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((AllHaveValue(spInstrumentLevelDataCUSIP, spInstrumentLevelDatainstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (AllHaveValue(spInstrumentLevelDataCINS, spInstrumentLevelDatainstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "INSTRUMENT LEVEL DATA : ISIN/CUSIP/CINS";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute"/>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentLevelDataISIN;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spInstrumentLevelDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentLevelDataCUSIP;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentLevelDataCINS;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PUBLIC";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DENOMCURRCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatadataValue) && Strcmp(spInstrumentLevelDataratingDataItemId, "14"))
	if (OneHasValue(Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spInstrumentLevelDatadataValue)))
		return Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spInstrumentLevelDatadataValue);
	else
		return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "MISC";]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return "";
else
	return "Y";]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return "YES";
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "47") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="SERIESTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "63") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="WTHHLDTAXIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "27"))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDataISIN;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentLevelDataCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CUSIP";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDataCUSIP;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CINS" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if ((!OneHasValue(spInstrumentLevelDataCUSIP) && OneHasValue(spInstrumentLevelDataCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CINS";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDataCINS;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTR" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "35") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTR";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTPROG" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "82") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTPROG";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <comment><![CDATA[GT 153906]]></comment>
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSDESC" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <If>
              <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
              <Then>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <comment><![CDATA[GT 153906]]></comment>
                  <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "47") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSDESC" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="StructureCode and CategoryCode" name="IssueClassification" type="segment">
                  <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && OneOf(spInstrumentLevelDataratingDataItemId, "5", "6", "64")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueClassification";]]></expr>
                  </Node>
                  <Node name="IndustryClassification" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IndustryClassification";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "CLSF_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "INCL_VALUE";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPPFSCCD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPPFCTCD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPSFSCTD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else
	return "";]]></expr>
                    </Node>
                    <Node name="CLVALUE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="INDUSCLSETID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return "SPPFSCCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return "SPPFCTCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return "SPSFSCTD";
else
	return "";]]></expr>
                      </Node>
                    </Node>
                    <Node name="LEVELNUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "1";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="CLVALUE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INDUSCLSETID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return "SPPFSCCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return "SPPFCTCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return "SPSFSCTD";
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPDBID" name="IssueClassification" type="segment">
                  <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "115")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueClassification";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISCL_MATCH_SET";]]></expr>
                  </Node>
                  <Node name="TSATTRIBUTE" type="attribute">
                    <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
                  </Node>
                  <Node name="TSOPTION" type="attribute">
                    <expr><![CDATA[return "Y";]]></expr>
                  </Node>
                  <Node name="IndustryClassification" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IndustryClassification";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "CLSF_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "INCL_VALUE";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SNPDBID|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                    </Node>
                    <Node name="CLVALUE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="INDUSCLSETID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "SNPDBID";]]></expr>
                      </Node>
                    </Node>
                    <Node name="LEVELNUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "1";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="CLVALUE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INDUSCLSETID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPDBID";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPPRID" name="IssueClassification" type="segment">
                  <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "116")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueClassification";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISCL_MATCH_SET";]]></expr>
                  </Node>
                  <Node name="TSATTRIBUTE" type="attribute">
                    <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
                  </Node>
                  <Node name="TSOPTION" type="attribute">
                    <expr><![CDATA[return "Y";]]></expr>
                  </Node>
                  <Node name="IndustryClassification" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IndustryClassification";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "CLSF_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "INCL_VALUE";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SNPPRID|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                    </Node>
                    <Node name="CLVALUE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="INDUSCLSETID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "SNPPRID";]]></expr>
                      </Node>
                    </Node>
                    <Node name="LEVELNUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "1";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="CLVALUE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INDUSCLSETID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPPRID";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="Amount Outstanding" name="IssueStatistic" type="segment">
                  <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "43"))
	return "IssueStatistic";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueStatistic";]]></expr>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATCHARVALTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATDEFID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "INSOSAMT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATVALDTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATVALCAMT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="Original Amount" name="IssueStatistic" type="segment">
                  <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "44"))
	return "IssueStatistic";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueStatistic";]]></expr>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATCHARVALTXT" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATDEFID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "INSORAMT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATVALDTE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STATVALCAMT" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="DebtInstrumentStatistics" type="segment">
                  <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatadataValue) && Strcmp(spInstrumentLevelDataratingDataItemId, "45"))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                  </Node>
                  <Node name="CPNCRTE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STATSEFFTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Then>
              <Else/>
            </If>
          </Node>
          <ForEach recordType="spInstrumentLevelDataBULKISIN">
            <where><![CDATA[return OneHasValue(spInstrumentLevelDataBULKISIN.BULKISIN);]]></where>
            <Do>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spInstrumentLevelDataBULKISIN.BULKISIN), spInstrumentLevelDataBULKISIN.BULKISIN, ""));]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
              </Execute>
              <Node displayName="INSTRUMENT LEVEL DATA : BULKISIN" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "INSTRUMENT LEVEL DATA : BULKISIN";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "INSTRUMENT LEVEL DATA : BULKISIN";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateNewSecurity for S&P_XF_GR_Security_Ratings. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_Option")), "");
else
	return "";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                      <Node name="INSERT_ONLY" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PUBLIC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "14"))
	if (OneHasValue(Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spInstrumentLevelDatadataValue)))
		return Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spInstrumentLevelDatadataValue);
	else
		return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "MISC";]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return "";
else
	return "Y";]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return "YES";
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "47") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="SERIESTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "63") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatadataValue) && Strcmp(spInstrumentLevelDataratingDataItemId, "27"))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatasecuritySymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPINSTR" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "35") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SNPINSTPROG" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "82") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTPROG";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <comment><![CDATA[GT 153906]]></comment>
                  <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSDESC" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                      <comment><![CDATA[GT 153906]]></comment>
                      <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "47") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueDescription";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueDescription";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DESCSRCETYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "VENDOR";]]></expr>
                        </Node>
                      </Node>
                      <Node name="DESCUSAGETYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "PRIMARY";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSDESC" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSNME" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="StructureCode and CategoryCode" name="IssueClassification" type="segment">
                      <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && OneOf(spInstrumentLevelDataratingDataItemId, "5", "6", "64")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueClassification";]]></expr>
                      </Node>
                      <Node name="IndustryClassification" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IndustryClassification";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "CLSF_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "INCL_VALUE";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPPFSCCD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPPFCTCD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPSFSCTD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else
	return "";]]></expr>
                        </Node>
                        <Node name="CLVALUE" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                          </Node>
                        </Node>
                        <Node name="INDUSCLSETID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return "SPPFSCCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return "SPPFCTCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return "SPSFSCTD";
else
	return "";]]></expr>
                          </Node>
                        </Node>
                        <Node name="LEVELNUM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "1";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="CLVALUE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INDUSCLSETID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return "SPPFSCCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return "SPPFCTCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return "SPSFSCTD";
else
	return "";]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="SNPDBID" name="IssueClassification" type="segment">
                      <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "115")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueClassification";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISCL_MATCH_SET";]]></expr>
                      </Node>
                      <Node name="TSATTRIBUTE" type="attribute">
                        <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
                      </Node>
                      <Node name="TSOPTION" type="attribute">
                        <expr><![CDATA[return "Y";]]></expr>
                      </Node>
                      <Node name="IndustryClassification" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IndustryClassification";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "CLSF_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "INCL_VALUE";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SNPDBID|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                        </Node>
                        <Node name="CLVALUE" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                          </Node>
                        </Node>
                        <Node name="INDUSCLSETID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "SNPDBID";]]></expr>
                          </Node>
                        </Node>
                        <Node name="LEVELNUM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "1";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="CLVALUE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INDUSCLSETID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SNPDBID";]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="SNPPRID" name="IssueClassification" type="segment">
                      <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "116")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueClassification";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISCL_MATCH_SET";]]></expr>
                      </Node>
                      <Node name="TSATTRIBUTE" type="attribute">
                        <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
                      </Node>
                      <Node name="TSOPTION" type="attribute">
                        <expr><![CDATA[return "Y";]]></expr>
                      </Node>
                      <Node name="IndustryClassification" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IndustryClassification";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "CLSF_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "INCL_VALUE";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SNPPRID|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                        </Node>
                        <Node name="CLVALUE" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                          </Node>
                        </Node>
                        <Node name="INDUSCLSETID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "SNPPRID";]]></expr>
                          </Node>
                        </Node>
                        <Node name="LEVELNUM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "1";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="CLVALUE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INDUSCLSETID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SNPPRID";]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ENGLISH";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="Amount Outstanding" name="IssueStatistic" type="segment">
                      <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && OneOf(spInstrumentLevelDataratingDataItemId, "43"))
	return "IssueStatistic";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueStatistic";]]></expr>
                      </Node>
                      <Node name="STATDEFID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "INSOSAMT";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATVALCAMT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATCHARVALTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATVALDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                    </Node>
                    <Node displayName="Original Amount" name="IssueStatistic" type="segment">
                      <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "44"))
	return "IssueStatistic";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueStatistic";]]></expr>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATCHARVALTXT" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATDEFID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "INSORAMT";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATVALDTE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STATVALCAMT" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node name="DebtInstrumentStatistics" type="segment">
                      <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatadataValue) && Strcmp(spInstrumentLevelDataratingDataItemId, "45"))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
                      </Node>
                      <Node name="CPNCRTE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STATSEFFTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Then>
                  <Else/>
                </If>
              </Node>
            </Do>
          </ForEach>
        </Then>
        <Else/>
      </If>
      <If displayName="INSTRUMENT TO ENTITY">
        <expr><![CDATA[return Strcmp(GetRuntimeParameter("IsStaging"), "N") && ((OneHasValue(spInstrumentToEntitychangebit) && !Strcmp(spInstrumentToEntitychangebit, "D")) && OneHasValue(spInstrumentToEntityBULKISIN, spInstrumentToEntityISIN, spInstrumentToEntityCUSIP, spInstrumentToEntityCINS));]]></expr>
        <Then>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentToEntityISIN))
	return StoreString("CHECK_ISIN", CatchError(CheckIdentifier("ISIN", spInstrumentToEntityISIN), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentToEntityCUSIP) && !IsAlpha(spInstrumentToEntityCUSIP, 1, 1))
	return StoreString("CHECK_CUSIP", CatchError(CheckIdentifier("CUSIP", spInstrumentToEntityCUSIP), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentToEntityCINS) && IsAlpha(spInstrumentToEntityCINS, 1, 1))
	return StoreString("CHECK_CINS", CatchError(CheckIdentifier("CINS", spInstrumentToEntityCINS), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Node displayName="FINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if ((Strcmp(GetRuntimeParameter("IsStaging"), "N") && OneHasValue(spInstrumentToEntitychangebit)) && !Strcmp(spInstrumentToEntitychangebit, "D"))
	return "STREET_REF-FINS";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "GUEST";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if ((Strcmp(GetRuntimeParameter("IsStaging"), "N") && OneHasValue(spInstrumentToEntitychangebit)) && !Strcmp(spInstrumentToEntitychangebit, "D"))
	return "STREET_REF-FINS";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="ASOFDATE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ATTRLOCK" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="CALID" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CNTRYCDE" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATAID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATAIDCTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="DONOTPOST" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="EMPLOYEE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="ISSUEACTIONREPLACE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSUELOCK" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="LOCALE" type="element">
                <Node name="NLS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="TIMEZONE" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "S&P";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "FINS";]]></expr>
                </Node>
              </Node>
              <Node name="MERGEMESSAGE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="MSGSET" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MSGTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="ORGID" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="PUBLISH" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="REALMSG" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="REFDATA" type="element"/>
              <Node name="REFERRINGPAGE" type="element"/>
              <Node name="ROLLBACKONSEGMENTERROR" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SECURITYLABEL" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="TRANSLATE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="TRILLIUM" type="element">
                <Node name="FORCENEWENTITY" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="TRILLIUMTABLEID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="TRILLIUMTABLETYPE" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="VENDORRECORDID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="VENDORTYPE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="VTTRMSGSET" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="FinancialInstitution" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option.xml against CreateNewIssuer  -  S&P_XF_GR_Security_Ratings. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_option.xml")), "");
else
	return "";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialInstitution";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, true, "CreateNewIssuer", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <If>
                <comment><![CDATA[GC-41414]]></comment>
                <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"S&P_XF_GR_Security_Ratings"), "ON"))
	return "TRUE";
else if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"S&P_XF_GR_Security_Ratings"), "OFF"))
	return "";
else if (!OneHasValue(Translate(Config_Options, true,
		"SimpleIssueBasedIssuerMatching", "S&P_XF_GR_Security_Ratings")))
	return "";
else if (!OneOf(
		"OFF",
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"S&P_XF_GR_Security_Ratings"), "ON"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true,
					"SimpleIssueBasedIssuerMatching",
					"S&P_XF_GR_Security_Ratings"),
					Strcat("--",
							"Wrong value in Config_Option against S&P_XF_GR_Security_Ratings. It is other than permitted value ON, OFF and No value used in Config_option")),
			"");
else
	return "";]]></expr>
                <Then>
                  <Node name="FinancialInstitutionIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(spInstrumentToEntityentitySymbolValue))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INST_MNEM";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                    </Node>
                    <Node name="FINSID" type="element">
                      <Node name="INSERT_ONLY" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="FINSIDCTXTTYP" type="element">
                      <Node name="INSERT_ONLY" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "S&P";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="Issuer" type="segment">
                    <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityentitySymbolValue, spInstrumentToEntityroleTypeCode) && Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
	return "Issuer";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "FINS_INST_MNEM";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INST_MNEM";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
                    </Node>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "Issuer";]]></expr>
                    </Node>
                    <Node name="Issue" type="segment">
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute"/>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                      </Node>
                      <Node name="DUP_CHECK" type="attribute"/>
                      <Node name="ENDDATEIND" type="attribute"/>
                      <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                      <Node name="ERROR" type="attribute"/>
                      <Node name="LOOKUP" type="attribute"/>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "FTFISSU1_ISSU_INSTRM";]]></expr>
                      </Node>
                      <Node name="PARENT_LINK" type="attribute"/>
                      <Node name="PUBLISH" type="attribute"/>
                      <Node name="SEGPROCESSEDIND" type="attribute"/>
                      <Node name="START_TMS_MATCH" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="TSTOLERANCE" type="attribute"/>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "Issue";]]></expr>
                      </Node>
                      <Node name="INSTRISSRID" type="element">
                        <Node name="INSERT_ONLY" type="attribute"/>
                        <Node name="TRANSLATE" type="attribute"/>
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                        <condition><![CDATA[if (OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IssueIdentifier";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                        </Node>
                        <Node name="ERROR" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INSTR_ID";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INSTR_ID";]]></expr>
                        </Node>
                        <Node name="DATASTATTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="IDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "ISIN";]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentToEntityISIN;]]></expr>
                          </Node>
                        </Node>
                        <Node name="STARTTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                          <Node name="INSERT_ONLY" type="attribute"/>
                        </Node>
                      </Node>
                      <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                        <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IssueIdentifier";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                        </Node>
                        <Node name="ERROR" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INSTR_ID";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INSTR_ID";]]></expr>
                        </Node>
                        <Node name="DATASTATTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="IDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "CUSIP";]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentToEntityCUSIP;]]></expr>
                          </Node>
                        </Node>
                        <Node name="STARTTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                          <Node name="INSERT_ONLY" type="attribute"/>
                        </Node>
                      </Node>
                      <Node displayName="CINS" name="IssueIdentifier" type="segment">
                        <condition><![CDATA[if (OneHasValue(spInstrumentToEntityCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IssueIdentifier";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                        </Node>
                        <Node name="ERROR" type="attribute">
                          <expr><![CDATA[return "N";]]></expr>
                        </Node>
                        <Node name="COPY_FROM" type="attribute">
                          <expr><![CDATA[return "INSTR_ID";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INSTR_ID";]]></expr>
                        </Node>
                        <Node name="DATASTATTYP" type="element">
                          <Node name="VALUE" type="attribute"/>
                        </Node>
                        <Node name="IDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "CINS";]]></expr>
                          </Node>
                        </Node>
                        <Node name="ISSID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentToEntityCINS;]]></expr>
                          </Node>
                        </Node>
                        <Node name="STARTTMS" type="element">
                          <Node name="VALUE" type="attribute"/>
                          <Node name="INSERT_ONLY" type="attribute"/>
                        </Node>
                      </Node>
                      <ForEach recordType="spInstrumentToEntityBULKISIN">
                        <where><![CDATA[return OneHasValue(spInstrumentToEntityBULKISIN.BULKISIN);]]></where>
                        <Do>
                          <Execute>
                            <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
                          </Execute>
                          <Execute>
                            <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
                          </Execute>
                          <Execute>
                            <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spInstrumentToEntityBULKISIN.BULKISIN), spInstrumentToEntityBULKISIN.BULKISIN, ""));]]></expr>
                          </Execute>
                          <Execute>
                            <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
                          </Execute>
                          <Execute>
                            <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
                          </Execute>
                          <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                            <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                            <Node name="ACTION" type="attribute">
                              <expr><![CDATA[return "REFERENCE";]]></expr>
                            </Node>
                            <Node name="TYPE" type="attribute">
                              <expr><![CDATA[return "IssueIdentifier";]]></expr>
                            </Node>
                            <Node name="MATCH" type="attribute">
                              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                            </Node>
                            <Node name="COPY_FROM" type="attribute">
                              <expr><![CDATA[return "INSTR_ID";]]></expr>
                            </Node>
                            <Node name="COPY_TO" type="attribute">
                              <expr><![CDATA[return "INSTR_ID";]]></expr>
                            </Node>
                            <Node name="IDCTXTTYP" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return "ISIN";]]></expr>
                              </Node>
                            </Node>
                            <Node name="ISSID" type="element">
                              <Node name="VALUE" type="attribute">
                                <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                              </Node>
                            </Node>
                          </Node>
                        </Do>
                      </ForEach>
                    </Node>
                  </Node>
                </Then>
              </If>
              <Node name="ACQBYPRNTIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="BALSHEETCURRCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="BUSINESSSTARTYRTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="BUSINESSSTRUCTURETYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="CMRCLREGISTDELETEDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="CMRCLREGISTENTRYDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="COMPANYMATCHID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="CROSSREFID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DELETEREASTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DISSOLUTIONDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DUNSDIASCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DUNSGLBLULTIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DUNSHIERCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ELECADDRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="FISCALYRENDTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="FUNDSRCETYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="GOVTAGENCYFILINGIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IMPORTEXPORTAGENTTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INCORPORATIONDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INCORPORATIONPLACETXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTCATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTDESC" type="element">
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="INSTFOUNDINGDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTLEGALFORMTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTLEGALNME" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTMNEM" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTNME" type="element">
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="INSTSTATTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGUSRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LEILEGALFORMTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MAILADDRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MAILDLVBLTYTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="OBLIGORCLVALUE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="OBLIGORSUBGRPCLSFOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ORGID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFCURRCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFFINSID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFFINSIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFISSCTXTTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PUBLICCORPIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SECFORM15IND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="SUBSIDIARYIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="S&amp;P" name="FinancialInstitutionIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentToEntityentitySymbolValue))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="ERROR" type="attribute"/>
              <Node name="MATCH" type="attribute"/>
              <Node name="DATASRCID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="FIIDOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="FINSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="FINSIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "S&P";]]></expr>
                </Node>
              </Node>
              <Node name="GUCNT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="GUID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="GUTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTMNEM" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTSYMBOLSTATTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTSYMBOLSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTUSAGETYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGUSRID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MERGEUNIQOID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SRCEINSTMNEM" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Node>
          <Node displayName="ISSR" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if ((Strcmp(GetRuntimeParameter("IsStaging"), "N") && OneHasValue(spInstrumentToEntitychangebit)) && !Strcmp(spInstrumentToEntitychangebit, "D"))
	return "STREET_REF-ISSR";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "GUEST";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if ((Strcmp(GetRuntimeParameter("IsStaging"), "N") && OneHasValue(spInstrumentToEntitychangebit)) && !Strcmp(spInstrumentToEntitychangebit, "D"))
	return "STREET_REF-ISSR";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="ASOFDATE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ATTRLOCK" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="CALID" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CNTRYCDE" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATAID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATAIDCTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="DONOTPOST" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="EMPLOYEE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="ISSUEACTIONREPLACE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSUELOCK" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="LOCALE" type="element">
                <Node name="NLS" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="TIMEZONE" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "S&P";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSR";]]></expr>
                </Node>
              </Node>
              <Node name="MERGEMESSAGE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="MSGSET" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MSGTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="ORGID" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="STRIP_FAILED_DOMAIN" type="attribute"/>
                <Node name="DEFAULT" type="attribute"/>
                <Node name="ERR_LVL" type="attribute"/>
              </Node>
              <Node name="PUBLISH" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="REALMSG" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="REFDATA" type="element"/>
              <Node name="REFERRINGPAGE" type="element"/>
              <Node name="ROLLBACKONSEGMENTERROR" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SECURITYLABEL" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="TRANSLATE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="TRILLIUM" type="element">
                <Node name="FORCENEWENTITY" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="TRILLIUMTABLEID" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="TRILLIUMTABLETYPE" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="VENDORRECORDID" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="VENDORTYPE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="VTTRMSGSET" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node name="Issuer" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityentitySymbolValue, spInstrumentToEntityroleTypeCode) && Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
	return "Issuer";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, true, "CreateNewIssuer",
		"S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!StrContainsOneOf(
		Translate(Config_Options, true, "CreateNewIssuer",
				"S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true, "CreateNewIssuer",
					"S&P_XF_GR_Security_Ratings"),
					Strcat("--",
							"Wrong value in Config_Option.xml against CreateNewIssuer. It is other than permitted value YES, NO, No value and NO_SILENT used in Config_option.xml")),
			"");
else
	return "";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute"/>
              <Node name="COPY_TO" type="attribute"/>
              <Node name="DUP_CHECK" type="attribute"/>
              <Node name="ENDDATEIND" type="attribute"/>
              <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "CreateNewIssuer",
				"S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node name="LOOKUP" type="attribute"/>
              <Node name="ONLY" type="attribute"/>
              <Node name="PUBLISH" type="attribute"/>
              <Node name="SEGPROCESSEDIND" type="attribute"/>
              <Node name="START_TMS_MATCH" type="attribute"/>
              <Node name="TRANSLATE" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="TSTOLERANCE" type="attribute"/>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issuer";]]></expr>
              </Node>
              <If>
                <expr><![CDATA[if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"S&P_XF_GR_Security_Ratings"), "ON"))
	return "TRUE";
else if (Strcmp(
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"S&P_XF_GR_Security_Ratings"), "OFF"))
	return "";
else if (!OneHasValue(Translate(Config_Options, true,
		"SimpleIssueBasedIssuerMatching", "S&P_XF_GR_Security_Ratings")))
	return "";
else if (!OneOf(
		"OFF",
		Translate(Config_Options, true, "SimpleIssueBasedIssuerMatching",
				"S&P_XF_GR_Security_Ratings"), "ON"))
	return ThrowMapError(
			Strcat(Translate(Config_Options, true,
					"SimpleIssueBasedIssuerMatching",
					"S&P_XF_GR_Security_Ratings"),
					Strcat("--",
							"Wrong value in Config_Option against S&P_XF_GR_Security_Ratings. It is other than permitted value ON, OFF and No value used in Config_option")),
			"");
else
	return "";]]></expr>
                <Then>
                  <Node name="IssuerIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(spInstrumentToEntityentitySymbolValue))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute"/>
                    <Node name="ONLY" type="attribute"/>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                    </Node>
                    <Node name="ISSRID" type="element">
                      <Node name="INSERT_ONLY" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSRIDCTXTTYP" type="element">
                      <Node name="INSERT_ONLY" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "S&P";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="Issue" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute"/>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                    </Node>
                    <Node name="DUP_CHECK" type="attribute"/>
                    <Node name="ENDDATEIND" type="attribute"/>
                    <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                    <Node name="ERROR" type="attribute"/>
                    <Node name="LOOKUP" type="attribute"/>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "FTFISSU1_ISSU_INSTRM";]]></expr>
                    </Node>
                    <Node name="PARENT_LINK" type="attribute"/>
                    <Node name="PUBLISH" type="attribute"/>
                    <Node name="SEGPROCESSEDIND" type="attribute"/>
                    <Node name="START_TMS_MATCH" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                    <Node name="TSATTRIBUTE" type="attribute"/>
                    <Node name="TSOPTION" type="attribute"/>
                    <Node name="TSTOLERANCE" type="attribute"/>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "Issue";]]></expr>
                    </Node>
                    <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if (OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[return "N";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ISIN";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentToEntityISIN;]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                      </Node>
                    </Node>
                    <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "REFERENCE";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="ERROR" type="attribute">
                        <expr><![CDATA[return "N";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "CUSIP";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentToEntityCUSIP;]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute"/>
                        <Node name="INSERT_ONLY" type="attribute"/>
                      </Node>
                    </Node>
                    <Node displayName="CINS" name="IssueIdentifier" type="segment">
                      <condition><![CDATA[if ((!OneHasValue(spInstrumentToEntityCUSIP) && OneHasValue(spInstrumentToEntityCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueIdentifier";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute">
                        <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                      </Node>
                      <Node name="COPY_FROM" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="COPY_TO" type="attribute">
                        <expr><![CDATA[return "INSTR_ID";]]></expr>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="IDCTXTTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "CINS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="ISSID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentToEntityCINS;]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <ForEach recordType="spInstrumentToEntityBULKISIN">
                      <where><![CDATA[return OneHasValue(spInstrumentToEntityBULKISIN.BULKISIN);]]></where>
                      <Do>
                        <Execute>
                          <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
                        </Execute>
                        <Execute>
                          <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
                        </Execute>
                        <Execute>
                          <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spInstrumentToEntityBULKISIN.BULKISIN), spInstrumentToEntityBULKISIN.BULKISIN, ""));]]></expr>
                        </Execute>
                        <Execute>
                          <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
                        </Execute>
                        <Execute>
                          <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
                        </Execute>
                        <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                          <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                          <Node name="ACTION" type="attribute">
                            <expr><![CDATA[return "REFERENCE";]]></expr>
                          </Node>
                          <Node name="TYPE" type="attribute">
                            <expr><![CDATA[return "IssueIdentifier";]]></expr>
                          </Node>
                          <Node name="MATCH" type="attribute">
                            <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                          </Node>
                          <Node name="COPY_FROM" type="attribute">
                            <expr><![CDATA[return "INSTR_ID";]]></expr>
                          </Node>
                          <Node name="COPY_TO" type="attribute">
                            <expr><![CDATA[return "INSTR_ID";]]></expr>
                          </Node>
                          <Node name="IDCTXTTYP" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return "ISIN";]]></expr>
                            </Node>
                          </Node>
                          <Node name="ISSID" type="element">
                            <Node name="VALUE" type="attribute">
                              <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                            </Node>
                          </Node>
                        </Node>
                      </Do>
                    </ForEach>
                    <Node name="INSTRISSRID" type="element">
                      <Node name="INSERT_ONLY" type="attribute"/>
                      <Node name="TRANSLATE" type="attribute"/>
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                  </Node>
                </Then>
              </If>
              <Node name="FinancialInstitutionIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentToEntityentitySymbolValue))
	return "FinancialInstitutionIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INST_MNEM";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "FINS_INST_MNEM";]]></expr>
                </Node>
                <Node name="DUP_CHECK" type="attribute"/>
                <Node name="ENDDATEIND" type="attribute"/>
                <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
                <Node name="ERROR" type="attribute"/>
                <Node name="LOOKUP" type="attribute"/>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                </Node>
                <Node name="ONLY" type="attribute"/>
                <Node name="PARENT_LINK" type="attribute"/>
                <Node name="PUBLISH" type="attribute"/>
                <Node name="SEGPROCESSEDIND" type="attribute"/>
                <Node name="START_TMS_MATCH" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="TSATTRIBUTE" type="attribute"/>
                <Node name="TSOPTION" type="attribute"/>
                <Node name="TSTOLERANCE" type="attribute"/>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                </Node>
                <Node name="FINSID" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                  </Node>
                </Node>
                <Node name="FINSIDCTXTTYP" type="element">
                  <Node name="INSERT_ONLY" type="attribute"/>
                  <Node name="TRANSLATE" type="attribute"/>
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "S&P";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="DATASRCID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="FINSINSTMNEM" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="FISCALYRENDTYP" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="INSTRISSRID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSRALPHSRCHTXT" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSRDESC" type="element">
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="ISSRNME" type="element">
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="LASTCHGTMS" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="LASTCHGUSRID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="MULTSHRIND" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="PREFISSRID" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="S&amp;P" name="IssuerIdentifier" type="segment">
              <comment><![CDATA[GT 155930]]></comment>
              <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityentitySymbolValue, spInstrumentToEntityroleTypeCode) && Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
	return "IssuerIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssuerIdentifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ISSRID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="ISSRIDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "S&P";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Node>
          <Node displayName="INSTRUMENT TO ENTITY : ISIN/CUSIP/CINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if (((OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spInstrumentToEntityCUSIP) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (OneHasValue(spInstrumentToEntityCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID")))) && AllHaveValue(spInstrumentToEntityinstrumentSymbolValue, spInstrumentToEntityroleTypeCode))
	return "INSTRUMENT TO ENTITY : ISIN/CUSIP/CINS";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if (((OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spInstrumentToEntityCUSIP) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (OneHasValue(spInstrumentToEntityCINS) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")))) && AllHaveValue(spInstrumentToEntityinstrumentSymbolValue, spInstrumentToEntityroleTypeCode))
	return "INSTRUMENT TO ENTITY : ISIN/CUSIP/CINS";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <comment><![CDATA[GC-41421]]></comment>
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity","S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node name="IssuerIdentifier" type="segment">
                <comment><![CDATA[GC-41421]]></comment>
                <condition><![CDATA[if (Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssuerIdentifier";]]></expr>
                </Node>
                <Node name="ISSRID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                  </Node>
                </Node>
                <Node name="ISSRIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "S&P";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentToEntityISIN;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentToEntityCUSIP;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentToEntityCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentToEntityCINS;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DENOMCURRCDE" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFISSNME" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SERIESTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="WTHHLDTAXIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityISIN;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CUSIP";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityCUSIP;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CINS" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if ((!OneHasValue(spInstrumentToEntityCUSIP) && OneHasValue(spInstrumentToEntityCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CINS";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityCINS;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <condition><![CDATA[if ((OneHasValue(spInstrumentToEntityISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spInstrumentToEntityCUSIP) && (!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && !IsAlpha(spInstrumentToEntityCUSIP, 1, 1))) || ((!OneHasValue(spInstrumentToEntityCUSIP) && OneHasValue(spInstrumentToEntityCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spInstrumentToEntityISIN))
	return spInstrumentToEntityISIN;
else if (OneHasValue(spInstrumentToEntityCUSIP))
	return spInstrumentToEntityCUSIP;
else
	return spInstrumentToEntityCINS;]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <If>
              <comment><![CDATA[GT 153906]]></comment>
              <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
              <Then>
                <Node name="FinsRoleIssueParticipant" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityinstrumentSymbolValue, spInstrumentToEntityroleTypeCode, spInstrumentToEntityentitySymbolValue))
	if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "YES") && !Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
		return "FinsRoleIssueParticipant";
	else if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "NO"))
		if (!OneOf(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "YES", "NO"))
			return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateParticipant  - S&P_XF_GR_Security_Ratings. It is other than permitted value YES and NO used in Config_Option")), "");
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "FinsRoleIssueParticipant";]]></expr>
                  </Node>
                  <Node name="FinancialInstitutionIdentifier" type="segment">
                    <comment><![CDATA[GT 153906 : Changed NESTED_ERR_TXT]]></comment>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INST_MNEM";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("2|CONCTNS|NESTED|FINSIDCTXTTYP|S&P|FINSID|", Strcat(spInstrumentToEntityentitySymbolValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                    </Node>
                    <Node name="FINSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="FINSIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "S&P";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="FINSRLTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="PRTPURPTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
                    </Node>
                    <Node name="TRANSLATE" type="attribute">
                      <expr><![CDATA[return "YES";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Then>
              <Else/>
            </If>
          </Node>
          <ForEach recordType="spInstrumentToEntityBULKISIN">
            <where><![CDATA[return OneHasValue(spInstrumentToEntityBULKISIN.BULKISIN);]]></where>
            <Do>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spInstrumentToEntityBULKISIN.BULKISIN), spInstrumentToEntityBULKISIN.BULKISIN, ""));]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
              </Execute>
              <Node displayName="INSTRUMENT TO ENTITY : BULKISIN" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "INSTRUMENT TO ENTITY : BULKISIN";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "INSTRUMENT TO ENTITY : BULKISIN";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node name="IssuerIdentifier" type="segment">
                    <condition><![CDATA[if (Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
	return "IssuerIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="ISSRID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSRIDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "S&P";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                      <Node name="INSERT_ONLY" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSNME" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SERIESTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSDESC" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <comment><![CDATA[GT 153906]]></comment>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node name="FinsRoleIssueParticipant" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityinstrumentSymbolValue, spInstrumentToEntityroleTypeCode, spInstrumentToEntityentitySymbolValue))
	if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "YES") && !Strcmp(spInstrumentToEntityroleTypeCode, "ISSUER"))
		return "FinsRoleIssueParticipant";
	else if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "NO"))
		if (!OneOf(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "YES", "NO"))
			return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateParticipant  - S&P_XF_GR_Security_Ratings. It is other than permitted value YES and NO used in Config_Option")), "");
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "FinsRoleIssueParticipant";]]></expr>
                      </Node>
                      <Node name="FinancialInstitutionIdentifier" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "INST_MNEM";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("2|CONCTNS|NESTED|FINSIDCTXTTYP|S&P|FINSID|", Strcat(spInstrumentToEntityentitySymbolValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                        </Node>
                        <Node name="FINSID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                          </Node>
                        </Node>
                        <Node name="FINSIDCTXTTYP" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "S&P";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="FINSRLTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="PRTPURPTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
                        </Node>
                        <Node name="TRANSLATE" type="attribute">
                          <expr><![CDATA[return "YES";]]></expr>
                        </Node>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Then>
                  <Else/>
                </If>
              </Node>
            </Do>
          </ForEach>
        </Then>
        <Else/>
      </If>
      <If displayName="INSTRUMENT SECTOR">
        <expr><![CDATA[return Strcmp(GetRuntimeParameter("IsStaging"), "N") && ((OneHasValue(spInstrumentSectorchangebit) && !Strcmp(spInstrumentSectorchangebit, "D")) && OneHasValue(spInstrumentSectorBULKISIN, spInstrumentSectorISIN, spInstrumentSectorCUSIP, spInstrumentSectorCINS));]]></expr>
        <Then>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentSectorISIN))
	return StoreString("CHECK_ISIN", CatchError(CheckIdentifier("ISIN", spInstrumentSectorISIN), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentSectorCUSIP) && !IsAlpha(spInstrumentSectorCUSIP, 1, 1))
	return StoreString("CHECK_CUSIP", CatchError(CheckIdentifier("CUSIP", spInstrumentSectorCUSIP), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Execute>
            <comment><![CDATA[GT 153906]]></comment>
            <expr><![CDATA[if (OneHasValue(spInstrumentSectorCINS) && IsAlpha(spInstrumentSectorCINS, 1, 1))
	return StoreString("CHECK_CINS", CatchError(CheckIdentifier("CINS", spInstrumentSectorCINS), "INVALID"));
else
	return "";]]></expr>
          </Execute>
          <Node displayName="INSTRUMENT SECTOR: ISIN/CUSIP/CINS" messageformat="GSREF" name="STREET_REF" type="message">
            <Options>
              <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
              <Option key="OutputEncoding"/>
              <Option key="AddTZIndicators">true</Option>
              <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
              <Option key="DocType">STREET_REF</Option>
            </Options>
            <condition><![CDATA[if ((AllHaveValue(spInstrumentSectorISIN, spInstrumentSectorinstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((AllHaveValue(spInstrumentSectorCUSIP, spInstrumentSectorinstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (AllHaveValue(spInstrumentSectorCINS, spInstrumentSectorinstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "INSTRUMENT SECTOR : ISIN/CUSIP/CINS";
else
	return "";]]></condition>
            <Node name="USERID" type="attribute">
              <expr><![CDATA[return "guest";]]></expr>
            </Node>
            <Node name="TRACE" type="attribute">
              <expr><![CDATA[return "false";]]></expr>
            </Node>
            <Node name="MESSAGECONDITION" type="attribute">
              <expr><![CDATA[if ((AllHaveValue(spInstrumentSectorISIN, spInstrumentSectorinstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((AllHaveValue(spInstrumentSectorCUSIP, spInstrumentSectorinstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID")) || (AllHaveValue(spInstrumentSectorCINS, spInstrumentSectorinstrumentSymbolValue) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "INSTRUMENT SECTOR : ISIN/CUSIP/CINS";
else
	return "";]]></expr>
            </Node>
            <Node name="HEADER" type="element">
              <Node name="CHECKLASTDBUPDATE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CHGAPPRTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="CURRENTTIMESTAMP" type="element">
                <expr><![CDATA[return TimeStamp();]]></expr>
              </Node>
              <Node name="DATASOURCE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXF_RT";]]></expr>
                </Node>
              </Node>
              <Node name="ISSUERDERIVATIONMODE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_NME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISSU";]]></expr>
                </Node>
              </Node>
              <Node name="MSGCLASSIFICATION" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
              <Node name="USERID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="Issue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "Issue";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity","S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
              </Node>
              <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentSectorISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "ISIN";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentSectorISIN;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (AllHaveValue(spInstrumentSectorCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CUSIP";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentSectorCUSIP;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node displayName="CINS" name="IssueIdentifier" type="segment">
                <condition><![CDATA[if (OneHasValue(spInstrumentSectorCINS) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IssueIdentifier";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                </Node>
                <Node name="ERROR" type="attribute">
                  <expr><![CDATA[return "N";]]></expr>
                </Node>
                <Node name="COPY_FROM" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INSTR_ID";]]></expr>
                </Node>
                <Node name="DATASTATTYP" type="element">
                  <Node name="VALUE" type="attribute"/>
                </Node>
                <Node name="IDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "CINS";]]></expr>
                  </Node>
                </Node>
                <Node name="ISSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentSectorCINS;]]></expr>
                  </Node>
                </Node>
                <Node name="STARTTMS" type="element">
                  <Node name="VALUE" type="attribute"/>
                  <Node name="INSERT_ONLY" type="attribute"/>
                </Node>
              </Node>
              <Node name="ACCESSAUTHTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="DENOMCURRCDE" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
              </Node>
              <Node name="ISSACTVYSTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="ISSTYP" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
                <Node name="TRANSLATE" type="attribute"/>
              </Node>
              <Node name="MATEXPTMS" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="PREFISSNME" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="SERIESTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
              <Node name="WTHHLDTAXIND" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
            </Node>
            <Node displayName="ISIN" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentSectorISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ISIN";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorISIN;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CUSIP" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentSectorCUSIP, GetStringByKey("CHECK_CUSIP")) && !Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CUSIP";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorCUSIP;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CINS" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if ((!OneHasValue(spInstrumentSectorCUSIP) && OneHasValue(spInstrumentSectorCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "ISS_ID";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CINS";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorCINS;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute"/>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentSectorsecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorsecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <condition><![CDATA[if ((OneHasValue(spInstrumentSectorISIN) && !Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID")) || ((OneHasValue(spInstrumentSectorCUSIP) && (!Strcmp(GetStringByKey("CHECK_CUSIP"), "INVALID") && !IsAlpha(spInstrumentSectorCUSIP, 1, 1))) || ((!OneHasValue(spInstrumentSectorCUSIP) && OneHasValue(spInstrumentSectorCINS)) && !Strcmp(GetStringByKey("CHECK_CINS"), "INVALID"))))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(spInstrumentSectorISIN))
	return spInstrumentSectorISIN;
else if (OneHasValue(spInstrumentSectorCUSIP))
	return spInstrumentSectorCUSIP;
else
	return spInstrumentSectorCINS;]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <If>
              <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
              <Then>
                <Node displayName="SECTOR" name="IssueClassification" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorsectorCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueClassification";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="IndustryClassification" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IndustryClassification";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "CLSF_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorsectorCode, "|LEVELNUM|1|DATASRCID|SNPXF_RT"));]]></expr>
                    </Node>
                    <Node name="CLVALUE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
                      </Node>
                    </Node>
                    <Node name="INDUSCLSETID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "SPINTSEC";]]></expr>
                      </Node>
                    </Node>
                    <Node name="LEVELNUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "1";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="CLSFPURPTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SECTORCLASS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CLVALUE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INDUSCLSETID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SPINTSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="SUB SECTOR" name="IssueClassification" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorsubSectorCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueClassification";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="IndustryClassification" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IndustryClassification";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "CLSF_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorsubSectorCode, "|LEVELNUM|2|DATASRCID|SNPXF_RT"));]]></expr>
                    </Node>
                    <Node name="CLVALUE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
                      </Node>
                    </Node>
                    <Node name="INDUSCLSETID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "SPINTSEC";]]></expr>
                      </Node>
                    </Node>
                    <Node name="LEVELNUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "2";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="CLSFPURPTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SUBSCTCLASS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CLVALUE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INDUSCLSETID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SPINTSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="INDUSTRY CODE" name="IssueClassification" type="segment">
                  <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorindustryCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueClassification";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute"/>
                  <Node name="TSATTRIBUTE" type="attribute"/>
                  <Node name="TSOPTION" type="attribute"/>
                  <Node name="IndustryClassification" type="segment">
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IndustryClassification";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "CLSF_OID";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_LVL" type="attribute">
                      <expr><![CDATA[return "ERROR";]]></expr>
                    </Node>
                    <Node name="NESTED_ERR_TXT" type="attribute">
                      <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorindustryCode, "|LEVELNUM|3|DATASRCID|SNPXF_RT"));]]></expr>
                    </Node>
                    <Node name="CLVALUE" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
                      </Node>
                    </Node>
                    <Node name="INDUSCLSETID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "SPINTSEC";]]></expr>
                      </Node>
                    </Node>
                    <Node name="LEVELNUM" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "3";]]></expr>
                      </Node>
                    </Node>
                  </Node>
                  <Node name="CLSFPURPTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "INDCLASS";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CLVALUE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
                    </Node>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="INDUSCLSETID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SPINTSEC";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
              </Then>
              <Else/>
            </If>
          </Node>
          <ForEach recordType="spInstrumentSectorBULKISIN">
            <where><![CDATA[return OneHasValue(spInstrumentSectorBULKISIN.BULKISIN);]]></where>
            <Do>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", 0);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreNumeric("INDEX", GetNumericByKey("INDEX") + 1);]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)), If(OneHasValue(spInstrumentSectorBULKISIN.BULKISIN), spInstrumentSectorBULKISIN.BULKISIN, ""));]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", "");]]></expr>
              </Execute>
              <Execute>
                <expr><![CDATA[return StoreString("CHECK_ISIN", If(OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), CatchError(CheckIdentifier("ISIN", GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))), "INVALID"), ""));]]></expr>
              </Execute>
              <Node displayName="INSTRUMENT SECTOR : BULKISIN" messageformat="GSREF" name="STREET_REF" type="message">
                <Options>
                  <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
                  <Option key="OutputEncoding"/>
                  <Option key="AddTZIndicators">true</Option>
                  <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
                  <Option key="DocType">STREET_REF</Option>
                </Options>
                <condition><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "INSTRUMENT SECTOR : BULKISIN";
else
	return "";]]></condition>
                <Node name="USERID" type="attribute">
                  <expr><![CDATA[return "guest";]]></expr>
                </Node>
                <Node name="TRACE" type="attribute">
                  <expr><![CDATA[return "false";]]></expr>
                </Node>
                <Node name="MESSAGECONDITION" type="attribute">
                  <expr><![CDATA[if (!Strcmp(GetStringByKey("CHECK_ISIN"), "INVALID") && OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "INSTRUMENT SECTOR : BULKISIN";
else
	return "";]]></expr>
                </Node>
                <Node name="HEADER" type="element">
                  <Node name="CHECKLASTDBUPDATE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CHGAPPRTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="CURRENTTIMESTAMP" type="element">
                    <expr><![CDATA[return TimeStamp();]]></expr>
                  </Node>
                  <Node name="DATASOURCE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXF_RT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSUERDERIVATIONMODE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_NME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
                    </Node>
                  </Node>
                  <Node name="MAIN_ENTITY_TBL_TYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISSU";]]></expr>
                    </Node>
                  </Node>
                  <Node name="MSGCLASSIFICATION" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                  <Node name="USERID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node name="Issue" type="segment">
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "REFERENCE";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "Issue";]]></expr>
                  </Node>
                  <Node name="ERROR" type="attribute">
                    <expr><![CDATA[return "N";]]></expr>
                  </Node>
                  <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                    <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                    <Node name="ACTION" type="attribute">
                      <expr><![CDATA[return "REFERENCE";]]></expr>
                    </Node>
                    <Node name="TYPE" type="attribute">
                      <expr><![CDATA[return "IssueIdentifier";]]></expr>
                    </Node>
                    <Node name="MATCH" type="attribute">
                      <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
                    </Node>
                    <Node name="ERROR" type="attribute">
                      <expr><![CDATA[return "N";]]></expr>
                    </Node>
                    <Node name="COPY_FROM" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="COPY_TO" type="attribute">
                      <expr><![CDATA[return "INSTR_ID";]]></expr>
                    </Node>
                    <Node name="DATASTATTYP" type="element">
                      <Node name="VALUE" type="attribute"/>
                    </Node>
                    <Node name="IDCTXTTYP" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return "ISIN";]]></expr>
                      </Node>
                    </Node>
                    <Node name="ISSID" type="element">
                      <Node name="VALUE" type="attribute">
                        <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                      </Node>
                    </Node>
                    <Node name="STARTTMS" type="element">
                      <Node name="VALUE" type="attribute"/>
                      <Node name="INSERT_ONLY" type="attribute"/>
                    </Node>
                  </Node>
                  <Node name="ACCESSAUTHTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="DENOMCURRCDE" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                  </Node>
                  <Node name="ISSACTVYSTATTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="ISSTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                    <Node name="TRANSLATE" type="attribute"/>
                  </Node>
                  <Node name="MATEXPTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="PREFISSNME" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="SERIESTYP" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute"/>
                    <Node name="INSERT_ONLY" type="attribute"/>
                  </Node>
                  <Node name="WTHHLDTAXIND" type="element">
                    <Node name="VALUE" type="attribute"/>
                  </Node>
                </Node>
                <Node displayName="ISIN" name="IssueIdentifier" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueIdentifier";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueIdentifier";]]></expr>
                  </Node>
                  <Node name="MATCH" type="attribute">
                    <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="IDCTXTTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ISIN";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSID" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <Node displayName="PRIMARY" name="IssueDescription" type="segment">
                  <condition><![CDATA[if (OneHasValue(GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)))))
	return "IssueDescription";
else
	return "";]]></condition>
                  <Node name="ACTION" type="attribute">
                    <expr><![CDATA[return "UNKNOWN";]]></expr>
                  </Node>
                  <Node name="TYPE" type="attribute">
                    <expr><![CDATA[return "IssueDescription";]]></expr>
                  </Node>
                  <Node name="DATASTATTYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ACTIVE";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCSRCETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "VENDOR";]]></expr>
                    </Node>
                  </Node>
                  <Node name="DESCUSAGETYP" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "PRIMARY";]]></expr>
                    </Node>
                  </Node>
                  <Node name="ISSNME" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return GetStringByKey(Strcat("ISS_ID:", Float2String(GetNumericByKey("INDEX"), 0, 0)));]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                  <Node name="NLSCDE" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return "ENGLISH";]]></expr>
                    </Node>
                  </Node>
                  <Node name="STARTTMS" type="element">
                    <Node name="VALUE" type="attribute">
                      <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                    </Node>
                    <Node name="INSERT_ONLY" type="attribute">
                      <expr><![CDATA[return "Y";]]></expr>
                    </Node>
                  </Node>
                </Node>
                <If>
                  <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
                  <Then>
                    <Node displayName="SECTOR" name="IssueClassification" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorsectorCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueClassification";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="IndustryClassification" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IndustryClassification";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "CLSF_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorsectorCode, "|LEVELNUM|1|DATASRCID|SNPXF_RT"));]]></expr>
                        </Node>
                        <Node name="CLVALUE" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
                          </Node>
                        </Node>
                        <Node name="INDUSCLSETID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "SPINTSEC";]]></expr>
                          </Node>
                        </Node>
                        <Node name="LEVELNUM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "1";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="CLSFPURPTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SECTORCLASS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CLVALUE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INDUSCLSETID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SPINTSEC";]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="SUB SECTOR" name="IssueClassification" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorsubSectorCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueClassification";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="IndustryClassification" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IndustryClassification";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "CLSF_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorsubSectorCode, "|LEVELNUM|2|DATASRCID|SNPXF_RT"));]]></expr>
                        </Node>
                        <Node name="CLVALUE" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
                          </Node>
                        </Node>
                        <Node name="INDUSCLSETID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "SPINTSEC";]]></expr>
                          </Node>
                        </Node>
                        <Node name="LEVELNUM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "2";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="CLSFPURPTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SUBSCTCLASS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CLVALUE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INDUSCLSETID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SPINTSEC";]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                    <Node displayName="INDUSTRY CODE" name="IssueClassification" type="segment">
                      <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorindustryCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
                      <Node name="ACTION" type="attribute">
                        <expr><![CDATA[return "UNKNOWN";]]></expr>
                      </Node>
                      <Node name="TYPE" type="attribute">
                        <expr><![CDATA[return "IssueClassification";]]></expr>
                      </Node>
                      <Node name="MATCH" type="attribute"/>
                      <Node name="TSATTRIBUTE" type="attribute"/>
                      <Node name="TSOPTION" type="attribute"/>
                      <Node name="IndustryClassification" type="segment">
                        <Node name="ACTION" type="attribute">
                          <expr><![CDATA[return "REFERENCE";]]></expr>
                        </Node>
                        <Node name="TYPE" type="attribute">
                          <expr><![CDATA[return "IndustryClassification";]]></expr>
                        </Node>
                        <Node name="COPY_TO" type="attribute">
                          <expr><![CDATA[return "CLSF_OID";]]></expr>
                        </Node>
                        <Node name="MATCH" type="attribute">
                          <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_LVL" type="attribute">
                          <expr><![CDATA[return "ERROR";]]></expr>
                        </Node>
                        <Node name="NESTED_ERR_TXT" type="attribute">
                          <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorindustryCode, "|LEVELNUM|3|DATASRCID|SNPXF_RT"));]]></expr>
                        </Node>
                        <Node name="CLVALUE" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
                          </Node>
                        </Node>
                        <Node name="INDUSCLSETID" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "SPINTSEC";]]></expr>
                          </Node>
                        </Node>
                        <Node name="LEVELNUM" type="element">
                          <Node name="VALUE" type="attribute">
                            <expr><![CDATA[return "3";]]></expr>
                          </Node>
                        </Node>
                      </Node>
                      <Node name="CLSFPURPTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "INDCLASS";]]></expr>
                        </Node>
                      </Node>
                      <Node name="CLVALUE" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
                        </Node>
                      </Node>
                      <Node name="DATASTATTYP" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "ACTIVE";]]></expr>
                        </Node>
                      </Node>
                      <Node name="INDUSCLSETID" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return "SPINTSEC";]]></expr>
                        </Node>
                      </Node>
                      <Node name="NLSCDE" type="element">
                        <Node name="VALUE" type="attribute"/>
                      </Node>
                      <Node name="STARTTMS" type="element">
                        <Node name="VALUE" type="attribute">
                          <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                        </Node>
                        <Node name="INSERT_ONLY" type="attribute">
                          <expr><![CDATA[return "Y";]]></expr>
                        </Node>
                      </Node>
                    </Node>
                  </Then>
                  <Else/>
                </If>
              </Node>
            </Do>
          </ForEach>
        </Then>
        <Else/>
      </If>
      <Node displayName="SECURITY DATA :NO_GLOBAL_IDENTIFIER" messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition>
          <comment><![CDATA[GT 154890]]></comment><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "N"))
	if (((OneHasValue(spSecurityLevelDatachangebit) && !Strcmp(spSecurityLevelDatachangebit, "D")) || (OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D"))) || (OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D")))
		if (((OneHasValue(spSecurityLevelDatasecuritySymbolValue) && !OneHasValue(spSecurityLevelDataBULKISIN, spSecurityLevelDataISIN, spSecurityLevelDataCUSIP, spSecurityLevelDataCINS)) || ((OneHasValue(spAssessmentDatasecuritySymbolValue) && !OneHasValue(spAssessmentDataBULKISIN, spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataCINS)) && Strcmp(spAssessmentDataobjectTypeId, "21"))) || ((OneHasValue(spRatingDatasecuritySymbolValue) && !OneHasValue(spRatingDataBULKISIN, spRatingDataISIN, spRatingDataCUSIP, spRatingDataCINS)) && Strcmp(spRatingDataobjectTypeId, "21")))
			return "SECURITY_DATA_NO_GLOBAL_IDENTIFIER";
		else
			return "";
	else
		return "";
else
	return "";]]>
        </condition>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "guest";]]></expr>
        </Node>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "N"))
	if (((OneHasValue(spSecurityLevelDatachangebit) && !Strcmp(spSecurityLevelDatachangebit, "D")) || (OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D"))) || (OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D")))
		if (((OneHasValue(spSecurityLevelDatasecuritySymbolValue) && !OneHasValue(spSecurityLevelDataBULKISIN, spSecurityLevelDataISIN, spSecurityLevelDataCUSIP, spSecurityLevelDataCINS)) || ((OneHasValue(spAssessmentDatasecuritySymbolValue) && !OneHasValue(spAssessmentDataBULKISIN, spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataCINS)) && Strcmp(spAssessmentDataobjectTypeId, "21"))) || ((OneHasValue(spRatingDatasecuritySymbolValue) && !OneHasValue(spRatingDataBULKISIN, spRatingDataISIN, spRatingDataCUSIP, spRatingDataCINS)) && Strcmp(spRatingDataobjectTypeId, "21")))
			return "SECURITY_DATA_NO_GLOBAL_IDENTIFIER";
		else
			return "";
	else
		return "";
else
	return "";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CHECKLASTDBUPDATE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CHGAPPRTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXF_RT";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUERDERIVATIONMODE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return spSecurityLevelDatasecuritySymbolValue;
else if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return Strcat(spAssessmentDatasecuritySymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));
else if (OneHasValue(spRatingDatasecuritySymbolValue))
	return Strcat(spRatingDatasecuritySymbolValue, Strcat("-", spRatingDataratingDetailId));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <comment><![CDATA[GT 154890]]></comment>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return spSecurityLevelDatasecuritySymbolValue;
else if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return spAssessmentDatasecuritySymbolValue;
else if (OneHasValue(spRatingDatasecuritySymbolValue))
	return spRatingDatasecuritySymbolValue;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISSU";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="Issue" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateNewSecurity for S&P_XF_GR_Security_Ratings. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_Option")), "");
else
	return "";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "Issue";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPRXSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if ((OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "13")) && OneHasValue(spSecurityLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPRXSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spRatingIdentifiersymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingIdentifiersymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spRatingIdentifierObjectId))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingIdentifierObjectId;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node name="ACCESSAUTHTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PUBLIC";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DENOMCURRCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "14"))
	if (OneHasValue(Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spSecurityLevelDatadataValue)))
		return Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spSecurityLevelDatadataValue);
	else
		return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
          </Node>
          <Node name="ISSACTVYSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ISSTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "MISC";]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="MATEXPTMS" type="element">
            <comment><![CDATA[170663]]></comment>
            <Node name="VALUE" type="attribute">
              <comment><![CDATA[170663]]></comment>
              <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "118"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="WTHHLDTAXIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "27"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spSecurityLevelDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPRXSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "13") && OneHasValue(spSecurityLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPRXSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPCIQSECID" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDataciqSecurityID))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPCIQSECID";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataciqSecurityID;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPCIQINTID";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataciqInstrumentID;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPCIQSECID" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDataciqSecurityID))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPCIQSECID";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataciqSecurityID;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPCIQINTID";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataciqInstrumentID;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIMARY" name="IssueDescription" type="segment">
          <comment><![CDATA[GT 153906]]></comment>
          <condition><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue, spAssessmentDatasecuritySymbolValue, spRatingDatasecuritySymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return spSecurityLevelDatasecuritySymbolValue;
else if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return spAssessmentDatasecuritySymbolValue;
else if (OneHasValue(spRatingDatasecuritySymbolValue))
	return spRatingDatasecuritySymbolValue;
else
	return "";]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <If>
          <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
          <Then>
            <Node name="IssueCollateral" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "40"))
	return "IssueCollateral";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueCollateral";]]></expr>
              </Node>
              <Node name="COLLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="CLASS NAME" name="IssueStatistic" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "7"))
	return "IssueStatistic";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueStatistic";]]></expr>
              </Node>
              <Node name="STATCHARVALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="STATDEFID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "CLASSNME";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="Amount Outstanding" name="IssueStatistic" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && OneOf(spSecurityLevelDataratingDataItemId, "42", "43"))
	return "IssueStatistic";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueStatistic";]]></expr>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="STATCHARVALTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATDEFID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SECOSAMT";]]></expr>
                </Node>
              </Node>
              <Node name="STATVALDTE" type="element">
                <comment><![CDATA[170663]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "42"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="STATVALCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "43"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="Original Amount" name="IssueStatistic" type="segment">
              <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "44") && OneHasValue(spSecurityLevelDatadataValue))
	return "IssueStatistic";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueStatistic";]]></expr>
              </Node>
              <Node name="STATCHARVALTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATDEFID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SECORAMT";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="STATVALDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATVALCAMT" type="element">
                <comment><![CDATA[170663]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DebtInstrumentCharacteristics" type="segment">
              <condition><![CDATA[if (OneOf(spSecurityLevelDataratingDataItemId, "60", "46") && OneHasValue(spSecurityLevelDatadataValue))
	return "DebtInstrumentCharacteristics";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "DebtInstrumentCharacteristics";]]></expr>
              </Node>
              <Node name="CPNTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "46"))
	return spSecurityLevelDatadataValue;
else
	return "";]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DTEDTMS" type="element">
                <comment><![CDATA[170663]]></comment>
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "60"))
	return DateFromString(spSecurityLevelDatadataValue, "%Y-%M-%D");
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DebtInstrumentStatistics" type="segment">
              <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "45") && OneHasValue(spSecurityLevelDatadataValue))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
              </Node>
              <Node name="CPNCRTE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="STATSEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="UnderwriterCharacteristics" type="segment">
              <condition><![CDATA[if (Strcmp(spSecurityLevelDataratingDataItemId, "20") && OneHasValue(spSecurityLevelDatadataValue))
	return "UnderwriterCharacteristics";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "UnderwriterCharacteristics";]]></expr>
              </Node>
              <Node name="OFFERNUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "1";]]></expr>
                </Node>
              </Node>
              <Node name="PLCMNTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="MuniCharacteristics" type="segment">
              <condition><![CDATA[if (OneHasValue(spSecurityLevelDataratingDataItemId) && Strcmp(spSecurityLevelDataratingDataItemId, "61"))
	return "MuniCharacteristics";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "MuniCharacteristics";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RFNDSTATIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spSecurityLevelDatadataValue;]]></expr>
                </Node>
              </Node>
            </Node>
          </Then>
          <Else/>
        </If>
        <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate))
	return "IssueRating";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRating";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
          </Node>
          <Node name="RatingSetDefinition" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGSETMNEM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDataassessmentActionWord))
	 return spAssessmentDataassessmentActionWord;
else
 	return SetSendNullFlag("");]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR ASSESSMENT" name="IssueRatingComment" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate, spAssessmentDatapriorAssessmentSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRatingComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorAssessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIORASM";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISRT";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataassessmentQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <ForEach recordType="spAssessmentDataregulatoryIndicator">
          <Do>
            <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatasecuritySymbolValue, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Do>
        </ForEach>
        <Node displayName="ASSESSMENT OUTLOOK" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataoutlook;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spAssessmentDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "OUTLOOK";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDataoutlookDate))
	 return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR ASSESSMENT OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatasecuritySymbolValue, spAssessmentDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorOutlook;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIASOUT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="ASSESSMENT WATCH" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacreditwatch;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spAssessmentDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "WATCH";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDatacreditwatchDate))
	 return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR ASSESSMENT WATCH" name="ISSURatingOpinionsComment" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatasecuritySymbolValue, spAssessmentDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIASWAT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="RATING" name="IssueRating" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDatasecuritySymbolValue, spRatingDataratingSymbol, spRatingDataratingDate))
	return "IssueRating";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRating";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingSetDefinition" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGSETMNEM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute"/>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDataratingActionWord))
	 return spRatingDataratingActionWord;
else
 	return SetSendNullFlag("");]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR RATING" name="IssueRatingComment" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDatasecuritySymbolValue, spRatingDataratingSymbol, spRatingDataratingDate, spRatingDatapriorRatingSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRatingComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIORTNG";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISRT";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataratingQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <ForEach recordType="spRatingDataregulatoryIndicator">
          <Do>
            <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatasecuritySymbolValue, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Do>
        </ForEach>
        <Node displayName="RATING OUTLOOK" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataoutlook;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spRatingDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
              </Node>
              <Node name="RTNGCDENUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "OUTLOOK";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDataoutlookDate))
	 return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR RATING OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatasecuritySymbolValue, spRatingDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorOutlook;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIRTOUT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="RATING WATCH" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatasecuritySymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacreditwatch;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spRatingDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
              </Node>
              <Node name="RTNGCDENUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPSEC";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "WATCH";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDatacreditwatchDate))
 	return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");
else
	 return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR RATING WATCH" name="ISSURatingOpinionsComment" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatasecuritySymbolValue, spRatingDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIRTWAT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
      </Node>
      <Node displayName="INSTRUMENT DATA : NO_GLOBAL_IDENTIFIER" messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <condition>
          <comment><![CDATA[GT 154890]]></comment><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "N"))
	if ((OneHasValue(spInstrumentLevelDatachangebit) && !Strcmp(spInstrumentLevelDatachangebit, "D")) || ((OneHasValue(spInstrumentToEntitychangebit) && !Strcmp(spInstrumentToEntitychangebit, "D")) || ((OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D")) || ((OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D")) || (OneHasValue(spInstrumentSectorchangebit) && !Strcmp(spInstrumentSectorchangebit, "D"))))))
		if (((((OneHasValue(spInstrumentLevelDatainstrumentSymbolValue) && !OneHasValue(spInstrumentLevelDataBULKISIN, spInstrumentLevelDataISIN, spInstrumentLevelDataCUSIP, spInstrumentLevelDataCINS)) || (OneHasValue(spInstrumentToEntityinstrumentSymbolValue) && !OneHasValue(spInstrumentToEntityBULKISIN, spInstrumentToEntityISIN, spInstrumentToEntityCUSIP, spInstrumentToEntityCINS))) || (OneHasValue(spInstrumentSectorinstrumentSymbolValue) && !OneHasValue(spInstrumentSectorBULKISIN, spInstrumentSectorISIN, spInstrumentSectorCUSIP, spInstrumentSectorCINS))) || ((OneHasValue(spAssessmentDatainstrumentSymbolValue) && !OneHasValue(spAssessmentDataBULKISIN, spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataCINS)) && Strcmp(spAssessmentDataobjectTypeId, "39"))) || ((OneHasValue(spRatingDatainstrumentSymbolValue) && !OneHasValue(spRatingDataBULKISIN, spRatingDataISIN, spRatingDataCUSIP, spRatingDataCINS)) && Strcmp(spRatingDataobjectTypeId, "39")))
			return "INSTRUMENT_DATA_NO_GLOBAL_IDENTIFIER";
		else
			return "";
	else
		return "";
else
	return "";]]>
        </condition>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "guest";]]></expr>
        </Node>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "N"))
	if ((OneHasValue(spInstrumentLevelDatachangebit) && !Strcmp(spInstrumentLevelDatachangebit, "D")) || ((OneHasValue(spInstrumentToEntitychangebit) && !Strcmp(spInstrumentToEntitychangebit, "D")) || ((OneHasValue(spAssessmentDatachangebit) && !Strcmp(spAssessmentDatachangebit, "D")) || ((OneHasValue(spRatingDatachangebit) && !Strcmp(spRatingDatachangebit, "D")) || (OneHasValue(spInstrumentSectorchangebit) && !Strcmp(spInstrumentSectorchangebit, "D"))))))
		if (((((OneHasValue(spInstrumentLevelDatainstrumentSymbolValue) && !OneHasValue(spInstrumentLevelDataBULKISIN, spInstrumentLevelDataISIN, spInstrumentLevelDataCUSIP, spInstrumentLevelDataCINS)) || (OneHasValue(spInstrumentToEntityinstrumentSymbolValue) && !OneHasValue(spInstrumentToEntityBULKISIN, spInstrumentToEntityISIN, spInstrumentToEntityCUSIP, spInstrumentToEntityCINS))) || (OneHasValue(spInstrumentSectorinstrumentSymbolValue) && !OneHasValue(spInstrumentSectorBULKISIN, spInstrumentSectorISIN, spInstrumentSectorCUSIP, spInstrumentSectorCINS))) || ((OneHasValue(spAssessmentDatainstrumentSymbolValue) && !OneHasValue(spAssessmentDataBULKISIN, spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataCINS)) && Strcmp(spAssessmentDataobjectTypeId, "39"))) || ((OneHasValue(spRatingDatainstrumentSymbolValue) && !OneHasValue(spRatingDataBULKISIN, spRatingDataISIN, spRatingDataCUSIP, spRatingDataCINS)) && Strcmp(spRatingDataobjectTypeId, "39")))
			return "INSTRUMENT_DATA_NO_GLOBAL_IDENTIFIER";
		else
			return "";
	else
		return "";
else
	return "";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CHECKLASTDBUPDATE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CHGAPPRTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXF_RT";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUERDERIVATIONMODE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <comment><![CDATA[GT 154890]]></comment>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return spInstrumentLevelDatasecuritySymbolValue;
else if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return spInstrumentLevelDatainstrumentSymbolValue;
else if (OneHasValue(spInstrumentToEntitysecuritySymbolValue))
	return spInstrumentToEntitysecuritySymbolValue;
else if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return spInstrumentToEntityinstrumentSymbolValue;
else if (OneHasValue(spInstrumentSectorsecuritySymbolValue))
	return spInstrumentSectorsecuritySymbolValue;
else if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return spInstrumentSectorinstrumentSymbolValue;
else if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return Strcat(spAssessmentDatainstrumentSymbolValue, Strcat("-", spAssessmentDataassessmentDetailId));
else if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return Strcat(spRatingDatainstrumentSymbolValue, Strcat("-", spRatingDataratingDetailId));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <comment><![CDATA[GT 154890]]></comment>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue, spInstrumentToEntityinstrumentSymbolValue, spInstrumentSectorinstrumentSymbolValue, spAssessmentDatainstrumentSymbolValue, spRatingDatainstrumentSymbolValue))
	return "SNPINSTSYM";
else if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue, spInstrumentToEntitysecuritySymbolValue, spInstrumentSectorsecuritySymbolValue))
	return "SNPSEC";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_NME" type="element">
            <comment><![CDATA[GT 154890]]></comment>
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return spInstrumentLevelDatasecuritySymbolValue;
else if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return spInstrumentLevelDatainstrumentSymbolValue;
else if (OneHasValue(spInstrumentToEntitysecuritySymbolValue))
	return spInstrumentToEntitysecuritySymbolValue;
else if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return spInstrumentToEntityinstrumentSymbolValue;
else if (OneHasValue(spInstrumentSectorsecuritySymbolValue))
	return spInstrumentSectorsecuritySymbolValue;
else if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return spInstrumentSectorinstrumentSymbolValue;
else if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return spAssessmentDatainstrumentSymbolValue;
else if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return spRatingDatainstrumentSymbolValue;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISSU";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="Issue" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES"))
	return "UNKNOWN";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO"))
	return "REFERENCE";
else if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "REFERENCE";
else if (!OneHasValue(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings")))
	return "REFERENCE";
else if (!OneOf(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "YES", "NO", "NO_SILENT"))
	return ThrowMapError(Strcat(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateNewSecurity for S&P_XF_GR_Security_Ratings. It is other than permitted value YES, NO, NO_SILENT and 'null' used in Config_Option")), "");
else
	return "";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "Issue";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
          </Node>
          <Node displayName="S&amp;P" name="IssuerIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spInstrumentToEntityentitySymbolValue))
	return "IssuerIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssuerIdentifier";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ISSR_ID";]]></expr>
            </Node>
            <Node name="DUP_CHECK" type="attribute"/>
            <Node name="ENDDATEIND" type="attribute"/>
            <Node name="ERRLVL_UNIQ_CHK" type="attribute"/>
            <Node name="ERROR" type="attribute"/>
            <Node name="LOOKUP" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "IRID1_IDCTXT_ISSR_ID";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute"/>
            <Node name="NESTED_ERR_TXT" type="attribute"/>
            <Node name="ONLY" type="attribute"/>
            <Node name="PARENT_LINK" type="attribute"/>
            <Node name="PUBLISH" type="attribute"/>
            <Node name="SEGPROCESSEDIND" type="attribute"/>
            <Node name="START_TMS_MATCH" type="attribute"/>
            <Node name="TRANSLATE" type="attribute"/>
            <Node name="TSATTRIBUTE" type="attribute"/>
            <Node name="TSOPTION" type="attribute"/>
            <Node name="TSOVERLAPOVERRIDE" type="attribute"/>
            <Node name="TSTOLERANCE" type="attribute"/>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUCNT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="GUTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IRIDOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ISSRID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="ISSRIDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "S&P";]]></expr>
              </Node>
            </Node>
            <Node name="ISSRUSAGETYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="MERGEUNIQOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentLevelDatasecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTR" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "35") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTR";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTPROG" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "82") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTPROG";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spInstrumentSectorsecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentSectorsecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTSYM " name="IssueIdentifier" type="segment">
            <comment><![CDATA[GT 154890 : Changed ID_CTXT_TYP]]></comment>
            <condition><![CDATA[if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <comment><![CDATA[GT 154890]]></comment>
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM ";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node name="ACCESSAUTHTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PUBLIC";]]></expr>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DENOMCURRCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatadataValue) && Strcmp(spInstrumentLevelDataratingDataItemId, "14"))
	if (OneHasValue(Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spInstrumentLevelDatadataValue)))
		return Translate(SNPXpressFeedETT, false, "DENOM_CURR_CDE", spInstrumentLevelDatadataValue);
	else
		return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute"/>
          </Node>
          <Node name="ISSACTVYSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ISSTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "MISC";]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return "";
else
	return "Y";]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "117") && OneHasValue(spInstrumentLevelDatadataValue))
	return "YES";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MATEXPTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="PREFISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "47") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="SERIESTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "63") && OneHasValue(spInstrumentLevelDatadataValue))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="WTHHLDTAXIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "27"))
	return spInstrumentLevelDatadataValue;
else
	return "";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatasecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTR" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "35") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTR";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTPROG" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "82") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTPROG";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentToEntitysecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntitysecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spInstrumentSectorsecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPSEC";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorsecuritySymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spRatingDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPCIQINTID";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataciqInstrumentID;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute"/>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPINSTSYM";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="SNPCIQINTID" name="IssueIdentifier" type="segment">
          <condition><![CDATA[if (OneHasValue(spAssessmentDataciqInstrumentID))
	return "IssueIdentifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueIdentifier";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISID7_INSTR_CTX_MKT_USG";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="IDCTXTTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPCIQINTID";]]></expr>
            </Node>
          </Node>
          <Node name="ISSID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataciqInstrumentID;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIMARY" name="IssueDescription" type="segment">
          <comment><![CDATA[GT 153906 : Moved Outside the If]]></comment>
          <condition><![CDATA[if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSDESC" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentToEntityinstrumentSymbolValue;]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIMARY" name="IssueDescription" type="segment">
          <comment><![CDATA[GT 153906 : Moved Outside the If]]></comment>
          <condition><![CDATA[if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSDESC" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentSectorinstrumentSymbolValue;]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIMARY" name="IssueDescription" type="segment">
          <comment><![CDATA[GT 153906 : Moved Outside the If]]></comment>
          <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSDESC" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIMARY" name="IssueDescription" type="segment">
          <comment><![CDATA[GT 153906 : Moved Outside the If]]></comment>
          <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSDESC" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIMARY" name="IssueDescription" type="segment">
          <comment><![CDATA[GT 153906]]></comment>
          <condition><![CDATA[if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return "IssueDescription";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueDescription";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="DESCSRCETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "VENDOR";]]></expr>
            </Node>
          </Node>
          <Node name="DESCUSAGETYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIMARY";]]></expr>
            </Node>
          </Node>
          <Node name="ISSDESC" type="element">
            <Node name="VALUE" type="attribute"/>
            <Node name="INSERT_ONLY" type="attribute"/>
          </Node>
          <Node name="ISSNME" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spInstrumentLevelDatainstrumentSymbolValue;]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <If>
          <expr><![CDATA[return Strcmp(GetRuntimeParameter("DescriptiveData"), "Y");]]></expr>
          <Then>
            <Node displayName="PRIMARY" name="IssueDescription" type="segment">
              <condition><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "47") && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueDescription";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueDescription";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="DESCSRCETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "VENDOR";]]></expr>
                </Node>
              </Node>
              <Node name="DESCUSAGETYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "PRIMARY";]]></expr>
                </Node>
              </Node>
              <Node name="ISSDESC" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="ISSNME" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SECTOR" name="IssueClassification" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorsectorCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueClassification";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="IndustryClassification" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IndustryClassification";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "CLSF_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorsectorCode, "|LEVELNUM|1|DATASRCID|SNPXF_RT"));]]></expr>
                </Node>
                <Node name="CLVALUE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
                  </Node>
                </Node>
                <Node name="INDUSCLSETID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "SPINTSEC";]]></expr>
                  </Node>
                </Node>
                <Node name="LEVELNUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="CLSFPURPTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SECTORCLASS";]]></expr>
                </Node>
              </Node>
              <Node name="CLVALUE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorsectorCode;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="INDUSCLSETID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SPINTSEC";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SUB SECTOR" name="IssueClassification" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorsubSectorCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueClassification";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="IndustryClassification" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IndustryClassification";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "CLSF_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorsubSectorCode, "|LEVELNUM|1|DATASRCID|SNPXF_RT"));]]></expr>
                </Node>
                <Node name="CLVALUE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
                  </Node>
                </Node>
                <Node name="INDUSCLSETID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "SPINTSEC";]]></expr>
                  </Node>
                </Node>
                <Node name="LEVELNUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "2";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="CLSFPURPTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SUBSCTCLASS";]]></expr>
                </Node>
              </Node>
              <Node name="CLVALUE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorsubSectorCode;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="INDUSCLSETID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SPINTSEC";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="INDUSTRY CODE" name="IssueClassification" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentSectorinstrumentSymbolValue, spInstrumentSectorindustryCode) && Strcmp(spInstrumentSectorprimaryFlag, "1"))
	return "IssueClassification";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueClassification";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute"/>
              <Node name="TSATTRIBUTE" type="attribute"/>
              <Node name="TSOPTION" type="attribute"/>
              <Node name="IndustryClassification" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IndustryClassification";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "CLSF_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "INCL_VALUE_NUM";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPINTSEC|CLVALUE|", Strcat(spInstrumentSectorindustryCode, "|LEVELNUM|1|DATASRCID|SNPXF_RT"));]]></expr>
                </Node>
                <Node name="CLVALUE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
                  </Node>
                </Node>
                <Node name="INDUSCLSETID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "SPINTSEC";]]></expr>
                  </Node>
                </Node>
                <Node name="LEVELNUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "3";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="CLSFPURPTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "INDCLASS";]]></expr>
                </Node>
              </Node>
              <Node name="CLVALUE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentSectorindustryCode;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="INDUSCLSETID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SPINTSEC";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="FinsRoleIssueParticipant" type="segment">
              <condition><![CDATA[if (AllHaveValue(spInstrumentToEntityinstrumentSymbolValue, spInstrumentToEntityroleTypeCode, spInstrumentToEntityentitySymbolValue))
	if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "YES"))
		return "FinsRoleIssueParticipant";
	else if (Strcmp(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "NO"))
		return "";
	else if (!OneOf(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), "YES", "NO"))
		return ThrowMapError(Strcat(Translate(Config_Options, true, "CreateParticipant", "S&P_XF_GR_Security_Ratings"), Strcat("--", "Wrong value in Config_Option against CreateParticipant  - S&P_XF_GR_Security_Ratings. It is other than permitted value YES and NO used in Config_Option")), "");
	else
		return "";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "FinsRoleIssueParticipant";]]></expr>
              </Node>
              <Node name="FinancialInstitutionIdentifier" type="segment">
                <comment><![CDATA[GT 153906 : Changed NESTED_ERR_TXT]]></comment>
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "FinancialInstitutionIdentifier";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "INST_MNEM";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "FIID1_ID_CTXT_FINSID";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("2|CONCTNS|NESTED|FINSIDCTXTTYP|S&P|FINSID|", Strcat(spInstrumentToEntityentitySymbolValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                </Node>
                <Node name="FINSID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentToEntityentitySymbolValue;]]></expr>
                  </Node>
                </Node>
                <Node name="FINSIDCTXTTYP" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "S&P";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="FINSRLTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="PRTPURPTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentToEntityroleTypeCode;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="StructureCode and CategoryCode" name="IssueClassification" type="segment">
              <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && OneOf(spInstrumentLevelDataratingDataItemId, "5", "6", "64")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueClassification";]]></expr>
              </Node>
              <Node name="IndustryClassification" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IndustryClassification";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "CLSF_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "INCL_VALUE";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPPFSCCD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPPFCTCD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SPSFSCTD|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));
else
	return "";]]></expr>
                </Node>
                <Node name="CLVALUE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                  </Node>
                </Node>
                <Node name="INDUSCLSETID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return "SPPFSCCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return "SPPFCTCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return "SPSFSCTD";
else
	return "";]]></expr>
                  </Node>
                </Node>
                <Node name="LEVELNUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="CLVALUE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="INDUSCLSETID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spInstrumentLevelDataratingDataItemId, "6"))
	return "SPPFSCCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "5"))
	return "SPPFCTCD";
else if (Strcmp(spInstrumentLevelDataratingDataItemId, "64"))
	return "SPSFSCTD";
else
	return "";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPDBID" name="IssueClassification" type="segment">
              <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "115")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueClassification";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISCL_MATCH_SET";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="IndustryClassification" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IndustryClassification";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "CLSF_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "INCL_VALUE";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SNPDBID|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                </Node>
                <Node name="CLVALUE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                  </Node>
                </Node>
                <Node name="INDUSCLSETID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "SNPDBID";]]></expr>
                  </Node>
                </Node>
                <Node name="LEVELNUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="CLVALUE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="INDUSCLSETID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPDBID";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPPRID" name="IssueClassification" type="segment">
              <condition><![CDATA[if ((OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "116")) && OneHasValue(spInstrumentLevelDatadataValue))
	return "IssueClassification";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueClassification";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISCL_MATCH_SET";]]></expr>
              </Node>
              <Node name="TSATTRIBUTE" type="attribute">
                <expr><![CDATA[return "CLSF_OID:CL_VALUE";]]></expr>
              </Node>
              <Node name="TSOPTION" type="attribute">
                <expr><![CDATA[return "Y";]]></expr>
              </Node>
              <Node name="IndustryClassification" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "IndustryClassification";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "CLSF_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "INCL_VALUE";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("4|CONCTNS|NESTED|CLSFSETMNEM|SNPPRID|CLVALUE|", Strcat(spInstrumentLevelDatadataValue, "|DATASRCID|SNPXF_RT"));]]></expr>
                </Node>
                <Node name="CLVALUE" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                  </Node>
                </Node>
                <Node name="INDUSCLSETID" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "SNPPRID";]]></expr>
                  </Node>
                </Node>
                <Node name="LEVELNUM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return "1";]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="CLVALUE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="INDUSCLSETID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPPRID";]]></expr>
                </Node>
              </Node>
              <Node name="NLSCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ENGLISH";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="Amount Outstanding" name="IssueStatistic" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "43"))
	return "IssueStatistic";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueStatistic";]]></expr>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="STATCHARVALTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATDEFID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "INSOSAMT";]]></expr>
                </Node>
              </Node>
              <Node name="STATVALDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATVALCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="Original Amount" name="IssueStatistic" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "44"))
	return "IssueStatistic";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueStatistic";]]></expr>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
              <Node name="STATCHARVALTXT" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATDEFID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "INSORAMT";]]></expr>
                </Node>
              </Node>
              <Node name="STATVALDTE" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="STATVALCAMT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="DebtInstrumentStatistics" type="segment">
              <condition><![CDATA[if (OneHasValue(spInstrumentLevelDataratingDataItemId) && Strcmp(spInstrumentLevelDataratingDataItemId, "45"))
	return "DebtInstrumentStatistics";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "DebtInstrumentStatistics";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "BDST_MATCH_1";]]></expr>
              </Node>
              <Node name="CPNCRTE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spInstrumentLevelDatadataValue;]]></expr>
                </Node>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="STATSEFFTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate("19000101", "YYYYMMDD");]]></expr>
                </Node>
              </Node>
            </Node>
          </Then>
          <Else/>
        </If>
        <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatainstrumentSymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate))
	return "IssueRating";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRating";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
          </Node>
          <Node name="RatingSetDefinition" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGSETMNEM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDataassessmentActionWord))
	 return spAssessmentDataassessmentActionWord;
else
 	return SetSendNullFlag("");]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR ASSESSMENT" name="IssueRatingComment" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatainstrumentSymbolValue, spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate, spAssessmentDatapriorAssessmentSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRatingComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorAssessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIORASM";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISRT";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatainstrumentSymbolValue, spAssessmentDataassessmentQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatainstrumentSymbolValue, spAssessmentDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <ForEach recordType="spAssessmentDataregulatoryIndicator">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <Do>
            <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDatainstrumentSymbolValue, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator) && Strcmp(spAssessmentDataobjectTypeId, "2"))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Do>
        </ForEach>
        <Node displayName="ASSESSMENT OUTLOOK" name="ISSURatingOpinions" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatainstrumentSymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataoutlook;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spAssessmentDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "OUTLOOK";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDataoutlookDate))
	 return DateFromString(spAssessmentDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR ASSESSMENT OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataoutlook, spAssessmentDataoutlookDate, spAssessmentDatainstrumentSymbolValue, spAssessmentDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorOutlook;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIASOUT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="ASSESSMENT WATCH" name="ISSURatingOpinions" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatainstrumentSymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacreditwatch;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spAssessmentDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spAssessmentDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "WATCH";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDatacreditwatchDate))
	 return DateFromString(spAssessmentDatacreditwatchDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR ASSESSMENT WATCH" name="ISSURatingOpinionsComment" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spAssessmentDatacreditwatch, spAssessmentDatacreditwatchDate, spAssessmentDatainstrumentSymbolValue, spAssessmentDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIASWAT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="RATING" name="IssueRating" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDatainstrumentSymbolValue, spRatingDataratingSymbol, spRatingDataratingDate))
	return "IssueRating";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRating";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingSetDefinition" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGSETMNEM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDataratingActionWord))
	 return spRatingDataratingActionWord;
else
 	return SetSendNullFlag("");]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR RATING" name="IssueRatingComment" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDatainstrumentSymbolValue, spRatingDataratingSymbol, spRatingDataratingDate, spRatingDatapriorRatingSymbol))
	return "IssueRatingComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRatingComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIORTNG";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISRT";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatainstrumentSymbolValue, spRatingDataratingQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatainstrumentSymbolValue, spRatingDataregulatoryQualifier))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <ForEach recordType="spRatingDataregulatoryIndicator">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <Do>
            <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDatainstrumentSymbolValue, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UNKNOWN";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Do>
        </ForEach>
        <Node displayName="RATING OUTLOOK" name="ISSURatingOpinions" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatainstrumentSymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataoutlook;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "OL"))
	return "OUTLOOK";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spRatingDataoutlook))
 return "ISSURatingOpinions";
else
 return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
              </Node>
              <Node name="RTNGCDENUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "OUTLOOK";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDataoutlookDate))
	 return DateFromString(spRatingDataoutlookDate, "%Y-%M-%D");
else
 	return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "OUTLOOK";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR RATING OUTLOOK" name="ISSURatingOpinionsComment" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDataoutlook, spRatingDataoutlookDate, spRatingDatainstrumentSymbolValue, spRatingDatapriorOutlook))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorOutlook;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIRTOUT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="RATING WATCH" name="ISSURatingOpinions" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatainstrumentSymbolValue))
	return "ISSURatingOpinions";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacreditwatch;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (Strcmp(spRatingDatacwolInd, "CW"))
	return "WATCH";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="NOT_ASSIGNED" name="ISSURatingOpinions" type="segment">
          <condition><![CDATA[if (!OneHasValue(spRatingDatacreditwatch))
 	return "ISSURatingOpinions";
else
 	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingValue" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RatingSetDefinition" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingSetDefinition";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RTNGSETMNEM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RTNGCDE" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="ISSURatingOpinions" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "ISSURatingOpinions";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTOP_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTOP_MATCH_4";]]></expr>
            </Node>
            <Node name="DATASRCID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="ENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="EXPIRYTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTMNEM" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="INSTRISSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="LASTCHGUSRID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGCURRTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGDEBTCLTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONAGENCYNME" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONEFFTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RatingValue" type="segment">
              <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_FROM" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute"/>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
              </Node>
              <Node name="RTNGCDENUM" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
                </Node>
              </Node>
            </Node>
            <Node name="RatingValue" type="segment">
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "RatingValue";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "RTVL_MATCH_1";]]></expr>
              </Node>
              <Node name="NESTED_ERR_LVL" type="attribute">
                <expr><![CDATA[return "ERROR";]]></expr>
              </Node>
              <Node name="NESTED_ERR_TXT" type="attribute">
                <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
              </Node>
              <Node name="RatingSetDefinition" type="segment">
                <Node name="ACTION" type="attribute">
                  <expr><![CDATA[return "REFERENCE";]]></expr>
                </Node>
                <Node name="TYPE" type="attribute">
                  <expr><![CDATA[return "RatingSetDefinition";]]></expr>
                </Node>
                <Node name="COPY_TO" type="attribute">
                  <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
                </Node>
                <Node name="MATCH" type="attribute">
                  <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
                </Node>
                <Node name="NESTED_ERR_LVL" type="attribute">
                  <expr><![CDATA[return "ERROR";]]></expr>
                </Node>
                <Node name="NESTED_ERR_TXT" type="attribute">
                  <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
                </Node>
                <Node name="RTNGSETMNEM" type="element">
                  <Node name="VALUE" type="attribute">
                    <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
                  </Node>
                </Node>
              </Node>
              <Node name="RTNGCDE" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
                </Node>
              </Node>
            </Node>
            <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
              <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "REFERENCE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "IssueIdentifier";]]></expr>
              </Node>
              <Node name="MATCH" type="attribute">
                <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
              </Node>
              <Node name="COPY_TO" type="attribute">
                <expr><![CDATA[return "INSTR_ID";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute"/>
              </Node>
              <Node name="IDCTXTTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "SNPINSTSYM";]]></expr>
                </Node>
              </Node>
              <Node name="ISSID" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute"/>
                <Node name="INSERT_ONLY" type="attribute"/>
              </Node>
            </Node>
            <Node name="RTNGOPINIONSTATTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGOPINIONTXT" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGOPINIONTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "WATCH";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSECINSTRIND" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
              </Node>
              <Node name="TRANSLATE" type="attribute">
                <expr><![CDATA[return "YES";]]></expr>
              </Node>
            </Node>
            <Node name="RTNGSETOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTNGSNRTYTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="RTOPOID" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="SYSEFFENDTMS" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spRatingDatacreditwatchDate))
 	return DateFromString(spRatingDatacreditwatchDate, "%Y-%M-%D");
else
	 return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "NOT_ASSIGNED";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGOPINIONTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "WATCH";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="PRIOR RATING WATCH" name="ISSURatingOpinionsComment" type="segment">
          <comment><![CDATA[GT 154890 : Changed Condition]]></comment>
          <condition><![CDATA[if (AllHaveValue(spRatingDatacreditwatch, spRatingDatacreditwatchDate, spRatingDatainstrumentSymbolValue, spRatingDatapriorCreditwatch))
	return "ISSURatingOpinionsComment";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UNKNOWN";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISSURatingOpinionsComment";]]></expr>
          </Node>
          <Node name="CMNTSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="CMNTTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatapriorCreditwatch;]]></expr>
            </Node>
          </Node>
          <Node name="COMMREASMNEM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "PRIRTWAT";]]></expr>
            </Node>
          </Node>
          <Node name="CREATEDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return Transform2FTIDate(SubString(TimeStamp(), 1, 10), "MM-DD-YYYY");]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
          <Node name="GNCMTBLTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "RTOP";]]></expr>
            </Node>
          </Node>
          <Node name="LNNUM" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "1";]]></expr>
            </Node>
          </Node>
          <Node name="NLSCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ENGLISH";]]></expr>
            </Node>
          </Node>
        </Node>
      </Node>
      <Node displayName="NO ISIN/CUSIP/CINS_END_DATE" messageformat="GSREF" name="STREET_REF" type="message">
        <Options>
          <Option key="xsd">./../../../STREET_REF.gsref.xsd</Option>
          <Option key="OutputEncoding"/>
          <Option key="AddTZIndicators">true</Option>
          <Option key="SystemId">fti://repository/dtd/STREET_REF</Option>
          <Option key="DocType">STREET_REF</Option>
        </Options>
        <comment><![CDATA[GT 154890 : End-dating RTQL when Change bit ='D' with no global identifiers]]></comment>
        <condition><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "N"))
	if ((OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D")) || (OneHasValue(spRatingDatachangebit) && Strcmp(spRatingDatachangebit, "D")))
		if (OneHasValue(spAssessmentDatainstrumentSymbolValue, spRatingDatainstrumentSymbolValue) && !OneHasValue(spAssessmentDataBULKISIN, spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataCINS, spRatingDataBULKISIN, spRatingDataISIN, spRatingDataCUSIP, spRatingDataCINS))
			return "NO_GLOBAL_IDENTIFIER_END_DATE";
		else
			return "";
	else
		return "";
else
	return "";]]></condition>
        <Node name="USERID" type="attribute">
          <expr><![CDATA[return "guest";]]></expr>
        </Node>
        <Node name="TRACE" type="attribute">
          <expr><![CDATA[return "false";]]></expr>
        </Node>
        <Node name="MESSAGECONDITION" type="attribute">
          <expr><![CDATA[if (Strcmp(GetRuntimeParameter("IsStaging"), "N"))
	if ((OneHasValue(spAssessmentDatachangebit) && Strcmp(spAssessmentDatachangebit, "D")) || (OneHasValue(spRatingDatachangebit) && Strcmp(spRatingDatachangebit, "D")))
		if (OneHasValue(spAssessmentDatainstrumentSymbolValue, spRatingDatainstrumentSymbolValue) && !OneHasValue(spAssessmentDataBULKISIN, spAssessmentDataISIN, spAssessmentDataCUSIP, spAssessmentDataCINS, spRatingDataBULKISIN, spRatingDataISIN, spRatingDataCUSIP, spRatingDataCINS))
			return "NO_GLOBAL_IDENTIFIER_END_DATE";
		else
			return "";
	else
		return "";
else
	return "";]]></expr>
        </Node>
        <Node name="HEADER" type="element">
          <Node name="CHECKLASTDBUPDATE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CHGAPPRTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="CURRENTTIMESTAMP" type="element">
            <expr><![CDATA[return TimeStamp();]]></expr>
          </Node>
          <Node name="DATASOURCE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXF_RT";]]></expr>
            </Node>
          </Node>
          <Node name="ISSUERDERIVATIONMODE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return Strcat(spAssessmentDatasecuritySymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));
else if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return Strcat(spAssessmentDatainstrumentSymbolValue,Strcat("-", spAssessmentDataassessmentDetailId));
else if (OneHasValue(spRatingDatasecuritySymbolValue))
	return Strcat(spRatingDatasecuritySymbolValue, Strcat("-", spRatingDataratingDetailId));
else if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return Strcat(spRatingDatainstrumentSymbolValue, Strcat("-", spRatingDataratingDetailId));
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_ID_CTXT_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue, spRatingDatasecuritySymbolValue))
	return "SNPSEC";
else if (OneHasValue(spAssessmentDatainstrumentSymbolValue, spRatingDatainstrumentSymbolValue))
	return "SNPINSTSYM";
else
	return "";]]></expr>
            </Node>
          </Node>
          <Node name="MAIN_ENTITY_TBL_TYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ISSU";]]></expr>
            </Node>
          </Node>
          <Node name="MSGCLASSIFICATION" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
          <Node name="USERID" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "SNPXFGRSECRT";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node name="Issue" type="segment">
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "REFERENCE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "Issue";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[if (Strcmp(Translate(Config_Options, false, "CreateNewSecurity", "S&P_XF_GR_Security_Ratings"), "NO_SILENT"))
	return "N";
else
	return "";]]></expr>
          </Node>
          <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDatainstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPINSTSYM" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPINSTSYM";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDatainstrumentSymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spAssessmentDatasecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
          <Node displayName="SNPSEC" name="IssueIdentifier" type="segment">
            <condition><![CDATA[if (OneHasValue(spRatingDatasecuritySymbolValue))
	return "IssueIdentifier";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "IssueIdentifier";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "ISID3_ID_CTXT_ISS_ID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "INSTR_ID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute">
              <expr><![CDATA[return "N";]]></expr>
            </Node>
            <Node name="DATASTATTYP" type="element">
              <Node name="VALUE" type="attribute"/>
            </Node>
            <Node name="IDCTXTTYP" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return "SNPSEC";]]></expr>
              </Node>
            </Node>
            <Node name="ISSID" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return spRatingDatasecuritySymbolValue;]]></expr>
              </Node>
            </Node>
            <Node name="STARTTMS" type="element">
              <Node name="VALUE" type="attribute"/>
              <Node name="INSERT_ONLY" type="attribute"/>
            </Node>
          </Node>
        </Node>
        <Node displayName="ASSESSMENT" name="IssueRating" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDataassessmentDate) && OneHasValue(spAssessmentDatasecuritySymbolValue, spAssessmentDatainstrumentSymbolValue))
	return "IssueRating";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRating";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <comment><![CDATA[GT 155905]]></comment>
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="RatingSetDefinition" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol), spAssessmentDataassessmentSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGSETMNEM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spAssessmentDataassessmentTypeCode);]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RTNGCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spAssessmentDataassessmentSymbol);
else
	return spAssessmentDataassessmentSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
          </Node>
          <Node name="RTNGEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spAssessmentDataassessmentDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentActionWord;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDatacurrentAssessmentSymbol;]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="ASSESSMENT QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDataassessmentQualifier) && OneHasValue(spAssessmentDatasecuritySymbolValue, spAssessmentDatainstrumentSymbolValue))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataassessmentQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDataregulatoryQualifier) && OneHasValue(spAssessmentDatasecuritySymbolValue, spAssessmentDatainstrumentSymbolValue))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spAssessmentDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <ForEach recordType="spAssessmentDataregulatoryIndicator">
          <Do>
            <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spAssessmentDataassessmentSymbol, spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator) && OneHasValue(spAssessmentDatasecuritySymbolValue, spAssessmentDatainstrumentSymbolValue))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spAssessmentDataregulatoryIndicator.spAssessmentDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Do>
        </ForEach>
        <Node displayName="RATING" name="IssueRating" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataratingDate) && OneHasValue(spRatingDatasecuritySymbolValue, spRatingDatainstrumentSymbolValue))
	return "IssueRating";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "IssueRating";]]></expr>
          </Node>
          <Node name="MATCH" type="attribute">
            <expr><![CDATA[return "ISRT_MATCH_7";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <comment><![CDATA[GT 155905]]></comment>
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="TSOPTION" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="RatingValue" type="segment">
            <condition><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "RatingValue";
else
	return "";]]></condition>
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingValue";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute">
              <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
            </Node>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_CDE,RTNG_VALUE_OID";]]></expr>
            </Node>
            <Node name="ERROR" type="attribute"/>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_CDE_NUM_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(spRatingDataratingSymbol, "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGCDENUM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[if (Strcmp(spRatingDataratingTypeCode, "ARGLONG"))
	return Translate(SNPXpressFeedETT, false, "ARGLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "ARGSHORT"))
	return Translate(SNPXpressFeedETT, false, "ARGSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALLONG"))
	return Translate(SNPXpressFeedETT, false, "CAVALLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT"))
	return Translate(SNPXpressFeedETT, false, "CAVALSHORT", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "BRAZLONG"))
	return Translate(SNPXpressFeedETT, false, "BRAZLONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "TAIWALONG"))
	return Translate(SNPXpressFeedETT, false, "TAIWALONG", spRatingDataratingSymbol);
else if (Strcmp(spRatingDataratingTypeCode, "RUSSIALONG"))
	return Translate(SNPXpressFeedETT, false, "RUSSIALONG", spRatingDataratingSymbol);
else
	return "";]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="RatingSetDefinition" type="segment">
            <Node name="ACTION" type="attribute">
              <expr><![CDATA[return "REFERENCE";]]></expr>
            </Node>
            <Node name="TYPE" type="attribute">
              <expr><![CDATA[return "RatingSetDefinition";]]></expr>
            </Node>
            <Node name="COPY_FROM" type="attribute"/>
            <Node name="COPY_TO" type="attribute">
              <expr><![CDATA[return "RTNG_SET_OID";]]></expr>
            </Node>
            <Node name="MATCH" type="attribute">
              <expr><![CDATA[return "RTNG_MATCH_1";]]></expr>
            </Node>
            <Node name="NESTED_ERR_LVL" type="attribute">
              <expr><![CDATA[return "ERROR";]]></expr>
            </Node>
            <Node name="NESTED_ERR_TXT" type="attribute">
              <expr><![CDATA[return Strcat("12|CONCTNS|NESTED|RTNGSETID|", Strcat(Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode), Strcat("|RTNGVAL|", Strcat(If(OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)), Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol), spRatingDataratingSymbol), "|DATASRCID|SNPXF_RT"))));]]></expr>
            </Node>
            <Node name="RTNGSETMNEM" type="element">
              <Node name="VALUE" type="attribute">
                <expr><![CDATA[return Translate(SNPXpressFeedETT, false, "RTNG_SET_MNEM", spRatingDataratingTypeCode);]]></expr>
              </Node>
            </Node>
          </Node>
          <Node name="DATAREDISTRIBUTORID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASRCID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ERVLOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="INSTRID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ISSRTNGOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTCHGUSRID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTRTNGREVWDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LASTRTNGREVWUSRID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="LONGTERMRTNGTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="MULTRTNGSALETYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="NEXTRTNGREVWDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="ORIGDATAPROVID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGCDE" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[if (((((((Strcmp(spRatingDataratingTypeCode, "ARGLONG") && OneOf(spRatingDataratingSymbol, "NR", "raNR", "raD", "D", "raR", "R")) || (Strcmp(spRatingDataratingTypeCode, "ARGSHORT") && OneOf(spRatingDataratingSymbol, "raD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALLONG") && OneOf(spRatingDataratingSymbol, "NR", "mxNR", "mxR", "R", "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "mxD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "BRAZLONG") && OneOf(spRatingDataratingSymbol, "NR", "brNR", "brR", "R", "brD", "D"))) || (Strcmp(spRatingDataratingTypeCode, "TAIWALONG") && OneOf(spRatingDataratingSymbol, "twD", "D", "twR", "R"))) || (Strcmp(spRatingDataratingTypeCode, "CAVALSHORT") && OneOf(spRatingDataratingSymbol, "ruD", "D", "ruSD", "SD")))
	return "";
else if (OneHasValue(Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol)))
	return Translate(SNPXpressFeedETT, false, "RTNG_CDE", spRatingDataratingSymbol);
else
	return spRatingDataratingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
          </Node>
          <Node name="RTNGCLASSID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGCLASSTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGCURRCDE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGCURRTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDEBTCLTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDIRECTIONDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDIRECTIONTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDIRECTIONTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGDISCREPANCYCAMT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGEFFTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return DateFromString(spRatingDataratingDate, "%Y-%M-%D");]]></expr>
            </Node>
          </Node>
          <Node name="RTNGID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGMODLVERSIONID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGOUTLOOKAGENCYNME" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGOUTLOOKEFFDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGOUTLOOKENDDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGOUTLOOKTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGPURPTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGSECINSTRIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataobjectTypeId;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSETOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGSIGNIFICANCECAMT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGSNRTYTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGSTATREASTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGSTATTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGSTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingActionWord;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGSYMBOLTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDatacurrentRatingSymbol;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGTERMINTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGVALUEOID" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="RTNGWATCHAGENCYNME" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SECNDMRKTIND" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SHORTTERMRTNGTXT" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="SYSEFFENDTMS" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="UNDERLYENHCSALETYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WATCHDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WATCHEXPDTE" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WATCHREASTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
          <Node name="WATCHSTATTYP" type="element">
            <Node name="VALUE" type="attribute"/>
          </Node>
        </Node>
        <Node displayName="RATING QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataratingQualifier) && OneHasValue(spRatingDatasecuritySymbolValue, spRatingDatainstrumentSymbolValue))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataratingQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <Node displayName="REGULATORY QUALIFIER" name="ISRTRatingQualifier" type="segment">
          <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataregulatoryQualifier) && OneHasValue(spRatingDatasecuritySymbolValue, spRatingDatainstrumentSymbolValue))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
          <Node name="ACTION" type="attribute">
            <expr><![CDATA[return "UPDATE";]]></expr>
          </Node>
          <Node name="TYPE" type="attribute">
            <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
          </Node>
          <Node name="ERROR" type="attribute">
            <expr><![CDATA[return "N";]]></expr>
          </Node>
          <Node name="DATASTATTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return "ACTIVE";]]></expr>
            </Node>
          </Node>
          <Node name="ENDTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALREGIDIND" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTXT" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
          </Node>
          <Node name="RTNGQUALTYP" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return spRatingDataregulatoryQualifier;]]></expr>
            </Node>
            <Node name="TRANSLATE" type="attribute">
              <expr><![CDATA[return "YES";]]></expr>
            </Node>
          </Node>
          <Node name="STARTTMS" type="element">
            <Node name="VALUE" type="attribute">
              <expr><![CDATA[return TimeStamp();]]></expr>
            </Node>
            <Node name="INSERT_ONLY" type="attribute">
              <expr><![CDATA[return "Y";]]></expr>
            </Node>
          </Node>
        </Node>
        <ForEach recordType="spRatingDataregulatoryIndicator">
          <Do>
            <Node displayName="REGULATORY INDICATOR" name="ISRTRatingQualifier" type="segment">
              <condition><![CDATA[if (AllHaveValue(spRatingDataratingSymbol, spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator) && OneHasValue(spRatingDatasecuritySymbolValue, spRatingDatainstrumentSymbolValue))
	return "ISRTRatingQualifier";
else
	return "";]]></condition>
              <Node name="ACTION" type="attribute">
                <expr><![CDATA[return "UPDATE";]]></expr>
              </Node>
              <Node name="TYPE" type="attribute">
                <expr><![CDATA[return "ISRTRatingQualifier";]]></expr>
              </Node>
              <Node name="ERROR" type="attribute">
                <expr><![CDATA[return "N";]]></expr>
              </Node>
              <Node name="DATASTATTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return "ACTIVE";]]></expr>
                </Node>
              </Node>
              <Node name="ENDTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALREGIDIND" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTXT" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
              </Node>
              <Node name="RTNGQUALTYP" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return spRatingDataregulatoryIndicator.spRatingDataregulatoryIndicator;]]></expr>
                </Node>
                <Node name="TRANSLATE" type="attribute">
                  <expr><![CDATA[return "YES";]]></expr>
                </Node>
              </Node>
              <Node name="STARTTMS" type="element">
                <Node name="VALUE" type="attribute">
                  <expr><![CDATA[return TimeStamp();]]></expr>
                </Node>
                <Node name="INSERT_ONLY" type="attribute">
                  <expr><![CDATA[return "Y";]]></expr>
                </Node>
              </Node>
            </Node>
          </Do>
        </ForEach>
      </Node>
    </OutputDef>
  </Output>
  <Translation>
    <table uri="./../../Config_Options_NuveenMuni.ttl">
      <import name="Config_Options"/>
    </table>
    <table uri="./../../Connection_Version.ttl">
      <import name="Connection_Version"/>
    </table>
    <table uri="SNPXpressFeedETT_NuveenMuni.ttl">
      <import name="SNPXpressFeedETT"/>
    </table>
  </Translation>
  <Expressions>
    <Expression enabled="true" ident="KeyStreaming">
      <expr><![CDATA[if (OneHasValue(spInstrumentLevelDatasecuritySymbolValue))
	return spInstrumentLevelDatasecuritySymbolValue;
else if (OneHasValue(spInstrumentLevelDatainstrumentSymbolValue))
	return spInstrumentLevelDatainstrumentSymbolValue;
else if (OneHasValue(spSecurityLevelDatasecuritySymbolValue))
	return spSecurityLevelDatasecuritySymbolValue;
else if (OneHasValue(spInstrumentSectorsecuritySymbolValue))
	return spInstrumentSectorsecuritySymbolValue;
else if (OneHasValue(spInstrumentSectorinstrumentSymbolValue))
	return spInstrumentSectorinstrumentSymbolValue;
else if (OneHasValue(spInstrumentToEntitysecuritySymbolValue))
	return spInstrumentToEntitysecuritySymbolValue;
else if (OneHasValue(spInstrumentToEntityinstrumentSymbolValue))
	return spInstrumentToEntityinstrumentSymbolValue;
else if (OneHasValue(spRatingDatasecuritySymbolValue))
	return spRatingDatasecuritySymbolValue;
else if (OneHasValue(spRatingDatainstrumentSymbolValue))
	return spRatingDatainstrumentSymbolValue;
else if (OneHasValue(spAssessmentDatasecuritySymbolValue))
	return spAssessmentDatasecuritySymbolValue;
else if (OneHasValue(spAssessmentDatainstrumentSymbolValue))
	return spAssessmentDatainstrumentSymbolValue;
else if (OneHasValue(spRatingDataISIN))
	return spRatingDataISIN;
else
	return "";]]></expr>
    </Expression>
    <Expression enabled="false" ident="RecordIdentifier">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
    <Expression enabled="true" ident="GSDMFiltering">
      <expr><![CDATA[if ((Strcmp(spInstrumentLevelDataratingDataItemId, "115") && OneHasValue(spInstrumentLevelDatadataValue)) && Strcmp(spInstrumentLevelDatadataValue, "MUNIDEBT"))
	return "false";
else
	return "true";]]></expr>
    </Expression>
    <Expression enabled="false" ident="VDSFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
    <Expression enabled="false" ident="VDDBFiltering">
      <expr><![CDATA[return "";]]></expr>
    </Expression>
  </Expressions>
</MappingDef>
